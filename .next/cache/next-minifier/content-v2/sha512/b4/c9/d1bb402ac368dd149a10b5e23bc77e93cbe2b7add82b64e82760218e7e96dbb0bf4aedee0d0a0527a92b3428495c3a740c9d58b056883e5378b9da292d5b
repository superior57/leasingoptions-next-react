{"code":"(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[23],{\"2inZ\":function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return u}));var n=r(\"vJKn\"),i=r.n(n),o=r(\"rg98\"),a=r(\"H+61\"),s=r(\"UlJF\"),c=r(\"NyWP\"),l=r(\"uDbZ\"),u=function(){function e(){Object(a.a)(this,e)}return Object(s.a)(e,null,[{key:\"HasSeenMarketingForm\",value:function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",new Promise((function(e){var r=Object(c.parseCookies)().HasSeenConsentForm;t!=r?Object(l.e)(t).then((function(t){var r=!!t.isSucceed&&t.data;e(r)})):e(!0)})));case 1:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:\"SetToSeenMarketingForm\",value:function(){var e=Object(o.a)(i.a.mark((function e(t,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",Object(l.h)(t).then((function(e){0===e.status.code&&Object(c.setCookie)(null,\"HasSeenConsentForm\",t,{expires:r,path:\"/\"})})));case 1:case\"end\":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}]),e}()},\"8ua7\":function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return c}));var n=r(\"nKUr\");r(\"q1tI\");var i=r(\"MHX4\"),o=r(\"jEoz\"),a=r.n(o),s=r(\"DQXc\"),c=function(e){!function(e){if(null==e)throw new TypeError(\"Cannot destructure undefined\")}(e);var t,r=Object(i.d)();return Object(s.a)()?null:Object(n.jsxs)(\"div\",{className:\"form-group\",children:[Object(n.jsxs)(\"div\",{className:\"form-check form-check-inline \".concat(a.a[\"privacy-agreement\"]),children:[Object(n.jsx)(\"input\",{type:\"checkbox\",className:\"form-check-input\",id:\"privacyConfirmed\",name:\"privacyConfirmed\",ref:r.register({validate:function(e){return!0===e||\"Confirm is required.\"}})}),Object(n.jsx)(\"label\",{htmlFor:\"privacyConfirmed\",className:r.errors.privacyConfirmed?a.a[\"invalid-feedback\"]:null,children:\"I confirm that I have read the Leasing Options Privacy Policy and that I understand the ways in which Leasing Options will use my personal data.\"})]}),r.errors.privacyConfirmed&&Object(n.jsx)(\"span\",{className:\"invalid-feedback d-block\",children:null===(t=r.errors.privacyConfirmed)||void 0===t?void 0:t.message})]})}},DQXc:function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return i})),r.d(t,\"b\",(function(){return o}));var n=r(\"NyWP\"),i=function(){return\"1\"===Object(n.parseCookies)().HasSeenConfirmForm},o=function(e){Object(n.setCookie)(null,\"HasSeenConfirmForm\",\"1\",{expires:e,path:\"/\"})}},NyWP:function(e,t,r){\"use strict\";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,\"__esModule\",{value:!0}),t.destroyCookie=t.setCookie=t.parseCookies=void 0;var i=r(\"ahXa\"),o=r(\"U0US\"),a=r(\"YAAg\");function s(e,t){var r,n;return(null===(n=null===(r=null===e||void 0===e?void 0:e.req)||void 0===r?void 0:r.headers)||void 0===n?void 0:n.cookie)?i.parse(e.req.headers.cookie,t):a.isBrowser()?i.parse(document.cookie,t):{}}function c(e,t,r,s){var c,l;if(void 0===s&&(s={}),(null===(c=null===e||void 0===e?void 0:e.res)||void 0===c?void 0:c.getHeader)&&e.res.setHeader){if(null===(l=null===e||void 0===e?void 0:e.res)||void 0===l?void 0:l.finished)return console.warn('Not setting \"'+t+'\" cookie. Response has finished.'),console.warn(\"You should set cookie before res.send()\"),{};var u=e.res.getHeader(\"Set-Cookie\")||[];\"string\"===typeof u&&(u=[u]),\"number\"===typeof u&&(u=[]);var f=o.parse(u,{decodeValues:!1}),m=a.createCookie(t,r,s),d=[];f.forEach((function(e){if(!a.areCookiesEqual(e,m)){var t=i.serialize(e.name,e.value,n({encode:function(e){return e}},e));d.push(t)}})),d.push(i.serialize(t,r,s)),e.res.setHeader(\"Set-Cookie\",d)}if(a.isBrowser()){if(s&&s.httpOnly)throw new Error(\"Can not set a httpOnly cookie in the browser.\");document.cookie=i.serialize(t,r,s)}return{}}function l(e,t,r){return c(e,t,\"\",n(n({},r||{}),{maxAge:-1}))}t.parseCookies=s,t.setCookie=c,t.destroyCookie=l,t.default={set:c,get:s,destroy:l}},SeHH:function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return p}));var n=r(\"nKUr\"),i=r(\"q1tI\"),o=r(\"MHX4\"),a=r(\"YFqc\"),s=r.n(a),c=r(\"sfgh\"),l=r.n(c),u=r(\"gt28\"),f=r(\"2inZ\"),m=r(\"mmV+\"),d=r(\"/MKj\"),p=Object(d.b)((function(e){return{isInternal:e.isInternal}}))((function(e){var t=e.isInternal,r=e.emailAddress,a=e.settings,c=Object(o.d)(),d=Object(i.useState)(!1),p=d[0],h=d[1];return Object(i.useEffect)((function(){a.onVerificationStart&&a.onVerificationStart(),r&&Object(u.a)(r)?f.a.HasSeenMarketingForm(r).then((function(e){h(!e),a.onVerificationComplete&&a.onVerificationComplete()})):(h(!1),a.onVerificationComplete&&a.onVerificationComplete())}),[r]),p?Object(n.jsx)(\"div\",{className:\"form-group\",children:Object(n.jsxs)(\"div\",{className:l.a.marketing,children:[Object(n.jsx)(\"h4\",{children:\"Marketing Communications\"}),Object(n.jsx)(\"p\",{className:\"mb-4\",children:\"We would love to keep you updated with our latest special offers, car news and exclusive benefits just for Leasing Options customers. Please let us know how you'd like us to contact you:\"}),Object(n.jsxs)(\"div\",{className:\"\".concat(l.a.checkboxes,\" mb-4\"),children:[Object(n.jsxs)(\"div\",{className:\"form-check form-check-inline\",children:[Object(n.jsx)(\"input\",{className:\"form-check-input\",type:\"checkbox\",name:\"allowedCommunicationTypes\",value:1,id:\"contactEmail\",ref:c.register}),Object(n.jsx)(\"label\",{className:\"form-check-label mb-0\",htmlFor:\"contactEmail\",children:\"Email\"})]}),Object(n.jsxs)(\"div\",{className:\"form-check form-check-inline\",children:[Object(n.jsx)(\"input\",{className:\"form-check-input\",type:\"checkbox\",name:\"allowedCommunicationTypes\",value:2,id:\"contactPost\",ref:c.register}),Object(n.jsx)(\"label\",{className:\"form-check-label mb-0\",htmlFor:\"contactPost\",children:\"Post\"})]}),Object(n.jsxs)(\"div\",{className:\"form-check form-check-inline\",children:[Object(n.jsx)(\"input\",{className:\"form-check-input\",type:\"checkbox\",name:\"allowedCommunicationTypes\",value:3,id:\"contactSms\",ref:c.register}),Object(n.jsx)(\"label\",{className:\"form-check-label mb-0\",htmlFor:\"contactSms\",children:\"SMS\"})]}),Object(n.jsxs)(\"div\",{className:\"form-check form-check-inline\",children:[Object(n.jsx)(\"input\",{className:\"form-check-input\",type:\"checkbox\",name:\"allowedCommunicationTypes\",value:4,id:\"contactPhone\",ref:c.register}),Object(n.jsx)(\"label\",{className:\"form-check-label mb-0\",htmlFor:\"contactPhone\",children:\"Telephone\"})]}),Object(n.jsxs)(\"div\",{className:\"form-check form-check-inline\",children:[Object(n.jsx)(\"input\",{className:\"form-check-input\",type:\"checkbox\",name:\"allowedCommunicationTypes\",value:5,id:\"contactWhatsApp\",ref:c.register}),Object(n.jsx)(\"label\",{className:\"form-check-label mb-0\",htmlFor:\"contactWhatsApp\",children:\"WhatsApp\"})]})]}),Object(n.jsxs)(\"p\",{className:\"mb-4\",children:[\"Your personal information will not be shared with any third party companies. For more information, please read our Privacy Policy \",Object(n.jsx)(s.a,{href:\"/privacy-policy\",children:Object(n.jsx)(\"a\",{children:\"here\"})}),\" for further details. You can unsubscribe from marketing communications at any time by contacting us on \",Object(n.jsx)(\"strong\",{children:Object(n.jsx)(\"span\",{className:\"phonenumber_call_now\",children:Object(m.g)(t)})}),\" or via Email at \",Object(n.jsx)(\"a\",{href:\"mailto:marketing@leasingoptions.co.uk\",children:\"marketing@leasingoptions.co.uk\"})]})]})}):null}))},U0US:function(e,t,r){\"use strict\";var n={decodeValues:!0,map:!1,silent:!1};function i(e){return\"string\"===typeof e&&!!e.trim()}function o(e,t){var r=e.split(\";\").filter(i),o=r.shift().split(\"=\"),a=o.shift(),s=o.join(\"=\");t=t?Object.assign({},n,t):n;try{s=t.decodeValues?decodeURIComponent(s):s}catch(l){console.error(`set-cookie-parser encountered an error while decoding a cookie with value '${s}'. Set options.decodeValues to false to disable this feature.`,l)}var c={name:a,value:s};return r.forEach((function(e){var t=e.split(\"=\"),r=t.shift().trimLeft().toLowerCase(),n=t.join(\"=\");\"expires\"===r?c.expires=new Date(n):\"max-age\"===r?c.maxAge=parseInt(n,10):\"secure\"===r?c.secure=!0:\"httponly\"===r?c.httpOnly=!0:\"samesite\"===r?c.sameSite=n:c[r]=n})),c}function a(e,t){if(t=t?Object.assign({},n,t):n,!e)return t.map?{}:[];if(e.headers&&e.headers[\"set-cookie\"])e=e.headers[\"set-cookie\"];else if(e.headers){var r=e.headers[Object.keys(e.headers).find((function(e){return\"set-cookie\"===e.toLowerCase()}))];r||!e.headers.cookie||t.silent||console.warn(\"Warning: set-cookie-parser appears to have been called on a request object. It is designed to parse Set-Cookie headers from responses, not Cookie headers from requests. Set the option {silent: true} to suppress this warning.\"),e=r}if(Array.isArray(e)||(e=[e]),(t=t?Object.assign({},n,t):n).map){return e.filter(i).reduce((function(e,r){var n=o(r,t);return e[n.name]=n,e}),{})}return e.filter(i).map((function(e){return o(e,t)}))}e.exports=a,e.exports.parse=a,e.exports.parseString=o,e.exports.splitCookiesString=function(e){if(Array.isArray(e))return e;if(\"string\"!==typeof e)return[];var t,r,n,i,o,a=[],s=0;function c(){for(;s<e.length&&/\\s/.test(e.charAt(s));)s+=1;return s<e.length}for(;s<e.length;){for(t=s,o=!1;c();)if(\",\"===(r=e.charAt(s))){for(n=s,s+=1,c(),i=s;s<e.length&&\"=\"!==(r=e.charAt(s))&&\";\"!==r&&\",\"!==r;)s+=1;s<e.length&&\"=\"===e.charAt(s)?(o=!0,s=i,a.push(e.substring(t,n)),t=s):s=n+1}else s+=1;(!o||s>=e.length)&&a.push(e.substring(t,e.length))}return a}},YAAg:function(e,t,r){\"use strict\";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function i(e,t){var r=Object.getOwnPropertyNames(e),n=Object.getOwnPropertyNames(t);if(r.length!==n.length)return!1;for(var i=0;i<r.length;i++){var o=r[i];if(e[o]!==t[o])return!1}return!0}Object.defineProperty(t,\"__esModule\",{value:!0}),t.areCookiesEqual=t.hasSameProperties=t.createCookie=t.isBrowser=void 0,t.isBrowser=function(){return\"undefined\"!==typeof window},t.createCookie=function(e,t,r){var i=r.sameSite;!0===i&&(i=\"strict\"),void 0!==i&&!1!==i||(i=\"lax\");var o=n(n({},r),{sameSite:i});return delete o.encode,n({name:e,value:t},o)},t.hasSameProperties=i,t.areCookiesEqual=function(e,t){var r=e.sameSite===t.sameSite;return\"string\"===typeof e.sameSite&&\"string\"===typeof t.sameSite&&(r=e.sameSite.toLowerCase()===t.sameSite.toLowerCase()),i(n(n({},e),{sameSite:void 0}),n(n({},t),{sameSite:void 0}))&&r}},ahXa:function(e,t,r){\"use strict\";t.parse=function(e,t){if(\"string\"!==typeof e)throw new TypeError(\"argument str must be a string\");for(var r={},i=t||{},a=e.split(o),c=i.decode||n,l=0;l<a.length;l++){var u=a[l],f=u.indexOf(\"=\");if(!(f<0)){var m=u.substr(0,f).trim(),d=u.substr(++f,u.length).trim();'\"'==d[0]&&(d=d.slice(1,-1)),void 0==r[m]&&(r[m]=s(d,c))}}return r},t.serialize=function(e,t,r){var n=r||{},o=n.encode||i;if(\"function\"!==typeof o)throw new TypeError(\"option encode is invalid\");if(!a.test(e))throw new TypeError(\"argument name is invalid\");var s=o(t);if(s&&!a.test(s))throw new TypeError(\"argument val is invalid\");var c=e+\"=\"+s;if(null!=n.maxAge){var l=n.maxAge-0;if(isNaN(l)||!isFinite(l))throw new TypeError(\"option maxAge is invalid\");c+=\"; Max-Age=\"+Math.floor(l)}if(n.domain){if(!a.test(n.domain))throw new TypeError(\"option domain is invalid\");c+=\"; Domain=\"+n.domain}if(n.path){if(!a.test(n.path))throw new TypeError(\"option path is invalid\");c+=\"; Path=\"+n.path}if(n.expires){if(\"function\"!==typeof n.expires.toUTCString)throw new TypeError(\"option expires is invalid\");c+=\"; Expires=\"+n.expires.toUTCString()}n.httpOnly&&(c+=\"; HttpOnly\");n.secure&&(c+=\"; Secure\");if(n.sameSite){switch(\"string\"===typeof n.sameSite?n.sameSite.toLowerCase():n.sameSite){case!0:c+=\"; SameSite=Strict\";break;case\"lax\":c+=\"; SameSite=Lax\";break;case\"strict\":c+=\"; SameSite=Strict\";break;case\"none\":c+=\"; SameSite=None\";break;default:throw new TypeError(\"option sameSite is invalid\")}}return c};var n=decodeURIComponent,i=encodeURIComponent,o=/; */,a=/^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;function s(e,t){try{return t(e)}catch(r){return e}}},jEoz:function(e,t,r){e.exports={\"privacy-agreement\":\"privacy-policy-consent_privacy-agreement__3QFUT\",\"invalid-feedback\":\"privacy-policy-consent_invalid-feedback__2FPEH\"}},sfgh:function(e,t,r){e.exports={marketing:\"marketing-consent_marketing__2i0I5\",highlight:\"marketing-consent_highlight__16gCK\",checkboxes:\"marketing-consent_checkboxes__2fW02\"}}}]);","map":{"version":3,"sources":["static/chunks/95f8e2cafee2d55d3f7220362d66949f9d58c5e5.5927361cd05e7ebff4a7.js"],"names":["window","push","2inZ","module","__webpack_exports__","__webpack_require__","d","MarketingCommunicationsService","E_current_project_PPH_tfs_Website_website_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__","E_current_project_PPH_tfs_Website_website_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","n","E_current_project_PPH_tfs_Website_website_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","E_current_project_PPH_tfs_Website_website_node_modules_next_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","E_current_project_PPH_tfs_Website_website_node_modules_next_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__","nookies__WEBPACK_IMPORTED_MODULE_4__","_systemService__WEBPACK_IMPORTED_MODULE_5__","Object","this","key","value","_HasSeenMarketingForm2","a","mark","_callee","emailAddress","wrap","_context","prev","next","abrupt","Promise","resolve","hasSeenConsentFormEmail","HasSeenConsentForm","then","response","result","isSucceed","data","stop","_x","apply","arguments","_SetToSeenMarketingForm2","_callee2","expiryDate","_context2","status","code","expires","path","_x2","_x3","8ua7","privacy_policy_consent","jsx_runtime","react_hook_form_es","privacy_policy_consent_module","privacy_policy_consent_module_default","cookiesHelper","_ref","obj","TypeError","_objectDestructuringEmpty","_formContext$errors$p","formContext","className","children","concat","type","id","name","ref","register","validate","htmlFor","errors","privacyConfirmed","message","DQXc","hasPrivacyAccepted","setPrivacyAccepted","nookies__WEBPACK_IMPORTED_MODULE_0__","HasSeenConfirmForm","NyWP","exports","__assign","assign","t","s","i","length","p","prototype","hasOwnProperty","call","defineProperty","destroyCookie","setCookie","parseCookies","cookie","setCookieParser","utils_1","ctx","options","_a","_b","req","headers","parse","isBrowser","document","res","getHeader","setHeader","finished","console","warn","cookies","parsedCookies","decodeValues","newCookie_1","createCookie","cookiesToSet_1","forEach","parsedCookie","areCookiesEqual","serializedCookie","serialize","encode","val","httpOnly","Error","maxAge","default","set","get","destroy","SeHH","marketing_consent","react","next_link","link_default","marketing_consent_module","marketing_consent_module_default","validation","marketingCommunicationsService","helpers","es","state","isInternal","settings","_useState","isRequired","setIsRequired","onVerificationStart","HasSeenMarketingForm","onVerificationComplete","href","U0US","defaultParseOptions","map","silent","isNonEmptyString","str","trim","parseString","setCookieValue","parts","split","filter","nameValue","shift","join","decodeURIComponent","e","error","part","sides","trimLeft","toLowerCase","Date","parseInt","secure","sameSite","input","sch","keys","find","Array","isArray","reduce","splitCookiesString","cookiesString","start","ch","lastComma","nextStart","cookiesSeparatorFound","cookiesStrings","pos","skipWhitespace","test","charAt","substring","YAAg","hasSameProperties","b","aProps","getOwnPropertyNames","bProps","propName","undefined","cookieToSet","sameSiteSame","ahXa","opt","pairs","pairSplitRegExp","dec","decode","pair","eq_idx","indexOf","substr","slice","tryDecode","enc","fieldContentRegExp","isNaN","isFinite","Math","floor","domain","toUTCString","encodeURIComponent","jEoz","privacy-agreement","invalid-feedback","sfgh","marketing","highlight","checkboxes"],"mappings":"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"},"name":"static/chunks/95f8e2cafee2d55d3f7220362d66949f9d58c5e5.5927361cd05e7ebff4a7.js","input":"(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[23],{\n\n/***/ \"2inZ\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return MarketingCommunicationsService; });\n/* harmony import */ var E_current_project_PPH_tfs_Website_website_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"vJKn\");\n/* harmony import */ var E_current_project_PPH_tfs_Website_website_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(E_current_project_PPH_tfs_Website_website_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var E_current_project_PPH_tfs_Website_website_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"rg98\");\n/* harmony import */ var E_current_project_PPH_tfs_Website_website_node_modules_next_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"H+61\");\n/* harmony import */ var E_current_project_PPH_tfs_Website_website_node_modules_next_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"UlJF\");\n/* harmony import */ var nookies__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"NyWP\");\n/* harmony import */ var nookies__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(nookies__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _systemService__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"uDbZ\");\n\n\n\n\n\n\nvar MarketingCommunicationsService = /*#__PURE__*/function () {\n  function MarketingCommunicationsService() {\n    Object(E_current_project_PPH_tfs_Website_website_node_modules_next_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(this, MarketingCommunicationsService);\n  }\n\n  Object(E_current_project_PPH_tfs_Website_website_node_modules_next_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(MarketingCommunicationsService, null, [{\n    key: \"HasSeenMarketingForm\",\n    value: function () {\n      var _HasSeenMarketingForm2 = Object(E_current_project_PPH_tfs_Website_website_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])( /*#__PURE__*/E_current_project_PPH_tfs_Website_website_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(emailAddress) {\n        return E_current_project_PPH_tfs_Website_website_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                return _context.abrupt(\"return\", new Promise(function (resolve) {\n                  var cookies = Object(nookies__WEBPACK_IMPORTED_MODULE_4__[\"parseCookies\"])();\n                  var hasSeenConsentFormEmail = cookies.HasSeenConsentForm;\n\n                  if (emailAddress != hasSeenConsentFormEmail) {\n                    Object(_systemService__WEBPACK_IMPORTED_MODULE_5__[/* HasSeenMarketingForm */ \"e\"])(emailAddress).then(function (response) {\n                      var result = response.isSucceed ? response.data : false;\n                      resolve(result);\n                    });\n                  } else {\n                    resolve(true);\n                  }\n                }));\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function HasSeenMarketingForm(_x) {\n        return _HasSeenMarketingForm2.apply(this, arguments);\n      }\n\n      return HasSeenMarketingForm;\n    }()\n  }, {\n    key: \"SetToSeenMarketingForm\",\n    value: function () {\n      var _SetToSeenMarketingForm2 = Object(E_current_project_PPH_tfs_Website_website_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])( /*#__PURE__*/E_current_project_PPH_tfs_Website_website_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(emailAddress, expiryDate) {\n        return E_current_project_PPH_tfs_Website_website_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                return _context2.abrupt(\"return\", Object(_systemService__WEBPACK_IMPORTED_MODULE_5__[/* SetToSeenMarketingForm */ \"h\"])(emailAddress).then(function (response) {\n                  if (response.status.code === 0) {\n                    Object(nookies__WEBPACK_IMPORTED_MODULE_4__[\"setCookie\"])(null, \"HasSeenConsentForm\", emailAddress, {\n                      expires: expiryDate,\n                      path: '/'\n                    });\n                  }\n                }));\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function SetToSeenMarketingForm(_x2, _x3) {\n        return _SetToSeenMarketingForm2.apply(this, arguments);\n      }\n\n      return SetToSeenMarketingForm;\n    }()\n  }]);\n\n  return MarketingCommunicationsService;\n}();\n\n/***/ }),\n\n/***/ \"8ua7\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"a\", function() { return /* reexport */ privacy_policy_consent; });\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(\"nKUr\");\n\n// CONCATENATED MODULE: ./node_modules/next/node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty.js\nfunction _objectDestructuringEmpty(obj) {\n  if (obj == null) throw new TypeError(\"Cannot destructure undefined\");\n}\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(\"q1tI\");\n\n// EXTERNAL MODULE: ./node_modules/react-hook-form/dist/react-hook-form.es.js\nvar react_hook_form_es = __webpack_require__(\"MHX4\");\n\n// EXTERNAL MODULE: ./components/privacy-policy-consent/privacy-policy-consent.module.scss\nvar privacy_policy_consent_module = __webpack_require__(\"jEoz\");\nvar privacy_policy_consent_module_default = /*#__PURE__*/__webpack_require__.n(privacy_policy_consent_module);\n\n// EXTERNAL MODULE: ./helpers/cookiesHelper.tsx\nvar cookiesHelper = __webpack_require__(\"DQXc\");\n\n// CONCATENATED MODULE: ./components/privacy-policy-consent/privacy-policy-consent.tsx\n\n\n\n\n\n\n\n\nvar privacy_policy_consent_PrivacyPolicyConsent = function PrivacyPolicyConsent(_ref) {\n  _objectDestructuringEmpty(_ref);\n\n  //Used to share \"privacyConfirmed\" field with parent form and use same validation\n  var formContext = Object(react_hook_form_es[\"d\" /* useFormContext */])();\n  var isRequired = !Object(cookiesHelper[\"a\" /* hasPrivacyAccepted */])();\n\n  if (isRequired) {\n    var _formContext$errors$p;\n\n    return /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n        className: \"form-check form-check-inline \".concat(privacy_policy_consent_module_default.a[\"privacy-agreement\"]),\n        children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\", {\n          type: \"checkbox\",\n          className: \"form-check-input\",\n          id: \"privacyConfirmed\",\n          name: \"privacyConfirmed\",\n          ref: formContext.register({\n            validate: function validate(value) {\n              return value === true || \"Confirm is required.\";\n            }\n          })\n        }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\", {\n          htmlFor: \"privacyConfirmed\",\n          className: formContext.errors.privacyConfirmed ? privacy_policy_consent_module_default.a[\"invalid-feedback\"] : null,\n          children: \"I confirm that I have read the Leasing Options Privacy Policy and that I understand the ways in which Leasing Options will use my personal data.\"\n        })]\n      }), formContext.errors.privacyConfirmed && /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\", {\n        className: \"invalid-feedback d-block\",\n        children: (_formContext$errors$p = formContext.errors.privacyConfirmed) === null || _formContext$errors$p === void 0 ? void 0 : _formContext$errors$p.message\n      })]\n    });\n  }\n\n  return null;\n};\n\n/* harmony default export */ var privacy_policy_consent = (privacy_policy_consent_PrivacyPolicyConsent);\n// CONCATENATED MODULE: ./components/privacy-policy-consent/index.jsx\n\n\n/***/ }),\n\n/***/ \"DQXc\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return hasPrivacyAccepted; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return setPrivacyAccepted; });\n/* harmony import */ var nookies__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"NyWP\");\n/* harmony import */ var nookies__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(nookies__WEBPACK_IMPORTED_MODULE_0__);\n\nvar hasPrivacyAccepted = function hasPrivacyAccepted() {\n  var cookies = Object(nookies__WEBPACK_IMPORTED_MODULE_0__[\"parseCookies\"])();\n  return cookies.HasSeenConfirmForm === \"1\";\n};\nvar setPrivacyAccepted = function setPrivacyAccepted(expiryDate) {\n  Object(nookies__WEBPACK_IMPORTED_MODULE_0__[\"setCookie\"])(null, \"HasSeenConfirmForm\", \"1\", {\n    expires: expiryDate,\n    path: '/'\n  });\n};\n\n/***/ }),\n\n/***/ \"NyWP\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.destroyCookie = exports.setCookie = exports.parseCookies = void 0;\nvar cookie = __webpack_require__(\"ahXa\");\nvar setCookieParser = __webpack_require__(\"U0US\");\nvar utils_1 = __webpack_require__(\"YAAg\");\n/**\n * Parses cookies.\n *\n * @param ctx NextJS page or API context, express context, null or undefined.\n * @param options Options that we pass down to `cookie` library.\n */\nfunction parseCookies(ctx, options) {\n    var _a, _b;\n    if ((_b = (_a = ctx === null || ctx === void 0 ? void 0 : ctx.req) === null || _a === void 0 ? void 0 : _a.headers) === null || _b === void 0 ? void 0 : _b.cookie) {\n        return cookie.parse(ctx.req.headers.cookie, options);\n    }\n    if (utils_1.isBrowser()) {\n        return cookie.parse(document.cookie, options);\n    }\n    return {};\n}\nexports.parseCookies = parseCookies;\n/**\n * Sets a cookie.\n *\n * @param ctx NextJS page or API context, express context, null or undefined.\n * @param name The name of your cookie.\n * @param value The value of your cookie.\n * @param options Options that we pass down to `cookie` library.\n */\nfunction setCookie(ctx, name, value, options) {\n    var _a, _b;\n    if (options === void 0) { options = {}; }\n    // SSR\n    if (((_a = ctx === null || ctx === void 0 ? void 0 : ctx.res) === null || _a === void 0 ? void 0 : _a.getHeader) && ctx.res.setHeader) {\n        // Check if response has finished and warn about it.\n        if ((_b = ctx === null || ctx === void 0 ? void 0 : ctx.res) === null || _b === void 0 ? void 0 : _b.finished) {\n            console.warn(\"Not setting \\\"\" + name + \"\\\" cookie. Response has finished.\");\n            console.warn(\"You should set cookie before res.send()\");\n            return {};\n        }\n        /**\n         * Load existing cookies from the header and parse them.\n         */\n        var cookies = ctx.res.getHeader('Set-Cookie') || [];\n        if (typeof cookies === 'string')\n            cookies = [cookies];\n        if (typeof cookies === 'number')\n            cookies = [];\n        /**\n         * Parse cookies but ignore values - we've already encoded\n         * them in the previous call.\n         */\n        var parsedCookies = setCookieParser.parse(cookies, {\n            decodeValues: false,\n        });\n        /**\n         * We create the new cookie and make sure that none of\n         * the existing cookies match it.\n         */\n        var newCookie_1 = utils_1.createCookie(name, value, options);\n        var cookiesToSet_1 = [];\n        parsedCookies.forEach(function (parsedCookie) {\n            if (!utils_1.areCookiesEqual(parsedCookie, newCookie_1)) {\n                /**\n                 * We serialize the cookie back to the original format\n                 * if it isn't the same as the new one.\n                 */\n                var serializedCookie = cookie.serialize(parsedCookie.name, parsedCookie.value, __assign({ \n                    // we prevent reencoding by default, but you might override it\n                    encode: function (val) { return val; } }, parsedCookie));\n                cookiesToSet_1.push(serializedCookie);\n            }\n        });\n        cookiesToSet_1.push(cookie.serialize(name, value, options));\n        // Update the header.\n        ctx.res.setHeader('Set-Cookie', cookiesToSet_1);\n    }\n    // Browser\n    if (utils_1.isBrowser()) {\n        if (options && options.httpOnly) {\n            throw new Error('Can not set a httpOnly cookie in the browser.');\n        }\n        document.cookie = cookie.serialize(name, value, options);\n    }\n    return {};\n}\nexports.setCookie = setCookie;\n/**\n * Destroys a cookie with a particular name.\n *\n * @param ctx NextJS page or API context, express context, null or undefined.\n * @param name Cookie name.\n * @param options Options that we pass down to `cookie` library.\n */\nfunction destroyCookie(ctx, name, options) {\n    /**\n     * We forward the request destroy to setCookie function\n     * as it is the same function with modified maxAge value.\n     */\n    return setCookie(ctx, name, '', __assign(__assign({}, (options || {})), { maxAge: -1 }));\n}\nexports.destroyCookie = destroyCookie;\n/* Utility Exports */\nexports.default = {\n    set: setCookie,\n    get: parseCookies,\n    destroy: destroyCookie,\n};\n//# sourceMappingURL=index.js.map\n\n/***/ }),\n\n/***/ \"SeHH\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"a\", function() { return /* reexport */ marketing_consent; });\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(\"nKUr\");\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(\"q1tI\");\n\n// EXTERNAL MODULE: ./node_modules/react-hook-form/dist/react-hook-form.es.js\nvar react_hook_form_es = __webpack_require__(\"MHX4\");\n\n// EXTERNAL MODULE: ./node_modules/next/link.js\nvar next_link = __webpack_require__(\"YFqc\");\nvar link_default = /*#__PURE__*/__webpack_require__.n(next_link);\n\n// EXTERNAL MODULE: ./components/marketing-consent/marketing-consent.module.scss\nvar marketing_consent_module = __webpack_require__(\"sfgh\");\nvar marketing_consent_module_default = /*#__PURE__*/__webpack_require__.n(marketing_consent_module);\n\n// EXTERNAL MODULE: ./helpers/validation.tsx\nvar validation = __webpack_require__(\"gt28\");\n\n// EXTERNAL MODULE: ./business-logic/marketingCommunicationsService.tsx\nvar marketingCommunicationsService = __webpack_require__(\"2inZ\");\n\n// EXTERNAL MODULE: ./helpers/helpers.tsx\nvar helpers = __webpack_require__(\"mmV+\");\n\n// EXTERNAL MODULE: ./node_modules/react-redux/es/index.js + 22 modules\nvar es = __webpack_require__(\"/MKj\");\n\n// CONCATENATED MODULE: ./components/marketing-consent/marketing-consent.tsx\n\n\n\n\n\n\n\n\n\n\n\nvar marketing_consent_MarketingConsent = function MarketingConsent(_ref) {\n  var isInternal = _ref.isInternal,\n      emailAddress = _ref.emailAddress,\n      settings = _ref.settings;\n  //Used to share \"privacyConfirmed\" field with parent form and use same validation\n  var formContext = Object(react_hook_form_es[\"d\" /* useFormContext */])(); //Set only when email address is present and marketing consent wasn't accepted earlier\n\n  var _useState = Object(react[\"useState\"])(false),\n      isRequired = _useState[0],\n      setIsRequired = _useState[1]; //Should trigger only when email address is changed\n\n\n  Object(react[\"useEffect\"])(function () {\n    //do we need timeout here?\n    if (settings.onVerificationStart) {\n      settings.onVerificationStart();\n    }\n\n    if (emailAddress && Object(validation[\"a\" /* EmailAddressIsValid */])(emailAddress)) {\n      marketingCommunicationsService[\"a\" /* MarketingCommunicationsService */].HasSeenMarketingForm(emailAddress).then(function (result) {\n        setIsRequired(!result);\n\n        if (settings.onVerificationComplete) {\n          settings.onVerificationComplete();\n        }\n      });\n    } else {\n      setIsRequired(false);\n\n      if (settings.onVerificationComplete) {\n        settings.onVerificationComplete();\n      }\n    }\n  }, [emailAddress]); //TODO: check if phone number should be dynamic here?\n\n  if (isRequired) {\n    return /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n      className: \"form-group\",\n      children: /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n        className: marketing_consent_module_default.a['marketing'],\n        children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\", {\n          children: \"Marketing Communications\"\n        }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\", {\n          className: \"mb-4\",\n          children: \"We would love to keep you updated with our latest special offers, car news and exclusive benefits just for Leasing Options customers. Please let us know how you'd like us to contact you:\"\n        }), /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n          className: \"\".concat(marketing_consent_module_default.a[\"checkboxes\"], \" mb-4\"),\n          children: [/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n            className: \"form-check form-check-inline\",\n            children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\", {\n              className: \"form-check-input\",\n              type: \"checkbox\",\n              name: \"allowedCommunicationTypes\",\n              value: 1,\n              id: \"contactEmail\",\n              ref: formContext.register\n            }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\", {\n              className: \"form-check-label mb-0\",\n              htmlFor: \"contactEmail\",\n              children: \"Email\"\n            })]\n          }), /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n            className: \"form-check form-check-inline\",\n            children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\", {\n              className: \"form-check-input\",\n              type: \"checkbox\",\n              name: \"allowedCommunicationTypes\",\n              value: 2,\n              id: \"contactPost\",\n              ref: formContext.register\n            }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\", {\n              className: \"form-check-label mb-0\",\n              htmlFor: \"contactPost\",\n              children: \"Post\"\n            })]\n          }), /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n            className: \"form-check form-check-inline\",\n            children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\", {\n              className: \"form-check-input\",\n              type: \"checkbox\",\n              name: \"allowedCommunicationTypes\",\n              value: 3,\n              id: \"contactSms\",\n              ref: formContext.register\n            }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\", {\n              className: \"form-check-label mb-0\",\n              htmlFor: \"contactSms\",\n              children: \"SMS\"\n            })]\n          }), /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n            className: \"form-check form-check-inline\",\n            children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\", {\n              className: \"form-check-input\",\n              type: \"checkbox\",\n              name: \"allowedCommunicationTypes\",\n              value: 4,\n              id: \"contactPhone\",\n              ref: formContext.register\n            }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\", {\n              className: \"form-check-label mb-0\",\n              htmlFor: \"contactPhone\",\n              children: \"Telephone\"\n            })]\n          }), /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n            className: \"form-check form-check-inline\",\n            children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\", {\n              className: \"form-check-input\",\n              type: \"checkbox\",\n              name: \"allowedCommunicationTypes\",\n              value: 5,\n              id: \"contactWhatsApp\",\n              ref: formContext.register\n            }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\", {\n              className: \"form-check-label mb-0\",\n              htmlFor: \"contactWhatsApp\",\n              children: \"WhatsApp\"\n            })]\n          })]\n        }), /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\", {\n          className: \"mb-4\",\n          children: [\"Your personal information will not be shared with any third party companies. For more information, please read our Privacy Policy \", /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(link_default.a, {\n            href: \"/privacy-policy\",\n            children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\", {\n              children: \"here\"\n            })\n          }), \" for further details. You can unsubscribe from marketing communications at any time by contacting us on \", /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"strong\", {\n            children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\", {\n              className: \"phonenumber_call_now\",\n              children: Object(helpers[\"g\" /* GetPhoneNumber */])(isInternal)\n            })\n          }), \" or via Email at \", /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\", {\n            href: \"mailto:marketing@leasingoptions.co.uk\",\n            children: \"marketing@leasingoptions.co.uk\"\n          })]\n        })]\n      })\n    });\n  }\n\n  return null;\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    isInternal: state.isInternal\n  };\n};\n\n/* harmony default export */ var marketing_consent = (Object(es[\"b\" /* connect */])(mapStateToProps)(marketing_consent_MarketingConsent));\n// CONCATENATED MODULE: ./components/marketing-consent/index.jsx\n\n\n/***/ }),\n\n/***/ \"U0US\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar defaultParseOptions = {\n  decodeValues: true,\n  map: false,\n  silent: false,\n};\n\nfunction isNonEmptyString(str) {\n  return typeof str === \"string\" && !!str.trim();\n}\n\nfunction parseString(setCookieValue, options) {\n  var parts = setCookieValue.split(\";\").filter(isNonEmptyString);\n  var nameValue = parts.shift().split(\"=\");\n  var name = nameValue.shift();\n  var value = nameValue.join(\"=\"); // everything after the first =, joined by a \"=\" if there was more than one part\n\n  options = options\n    ? Object.assign({}, defaultParseOptions, options)\n    : defaultParseOptions;\n\n  try {\n    value = options.decodeValues ? decodeURIComponent(value) : value; // decode cookie value\n  } catch (e) {\n    console.error(\n      `set-cookie-parser encountered an error while decoding a cookie with value '${value}'. Set options.decodeValues to false to disable this feature.`,\n      e\n    );\n  }\n\n  var cookie = {\n    name: name, // grab everything before the first =\n    value: value,\n  };\n\n  parts.forEach(function (part) {\n    var sides = part.split(\"=\");\n    var key = sides.shift().trimLeft().toLowerCase();\n    var value = sides.join(\"=\");\n    if (key === \"expires\") {\n      cookie.expires = new Date(value);\n    } else if (key === \"max-age\") {\n      cookie.maxAge = parseInt(value, 10);\n    } else if (key === \"secure\") {\n      cookie.secure = true;\n    } else if (key === \"httponly\") {\n      cookie.httpOnly = true;\n    } else if (key === \"samesite\") {\n      cookie.sameSite = value;\n    } else {\n      cookie[key] = value;\n    }\n  });\n\n  return cookie;\n}\n\nfunction parse(input, options) {\n  options = options\n    ? Object.assign({}, defaultParseOptions, options)\n    : defaultParseOptions;\n\n  if (!input) {\n    if (!options.map) {\n      return [];\n    } else {\n      return {};\n    }\n  }\n\n  if (input.headers && input.headers[\"set-cookie\"]) {\n    // fast-path for node.js (which automatically normalizes header names to lower-case\n    input = input.headers[\"set-cookie\"];\n  } else if (input.headers) {\n    // slow-path for other environments - see #25\n    var sch =\n      input.headers[\n        Object.keys(input.headers).find(function (key) {\n          return key.toLowerCase() === \"set-cookie\";\n        })\n      ];\n    // warn if called on a request-like object with a cookie header rather than a set-cookie header - see #34, 36\n    if (!sch && input.headers.cookie && !options.silent) {\n      console.warn(\n        \"Warning: set-cookie-parser appears to have been called on a request object. It is designed to parse Set-Cookie headers from responses, not Cookie headers from requests. Set the option {silent: true} to suppress this warning.\"\n      );\n    }\n    input = sch;\n  }\n  if (!Array.isArray(input)) {\n    input = [input];\n  }\n\n  options = options\n    ? Object.assign({}, defaultParseOptions, options)\n    : defaultParseOptions;\n\n  if (!options.map) {\n    return input.filter(isNonEmptyString).map(function (str) {\n      return parseString(str, options);\n    });\n  } else {\n    var cookies = {};\n    return input.filter(isNonEmptyString).reduce(function (cookies, str) {\n      var cookie = parseString(str, options);\n      cookies[cookie.name] = cookie;\n      return cookies;\n    }, cookies);\n  }\n}\n\n/*\n  Set-Cookie header field-values are sometimes comma joined in one string. This splits them without choking on commas\n  that are within a single set-cookie field-value, such as in the Expires portion.\n\n  This is uncommon, but explicitly allowed - see https://tools.ietf.org/html/rfc2616#section-4.2\n  Node.js does this for every header *except* set-cookie - see https://github.com/nodejs/node/blob/d5e363b77ebaf1caf67cd7528224b651c86815c1/lib/_http_incoming.js#L128\n  React Native's fetch does this for *every* header, including set-cookie.\n\n  Based on: https://github.com/google/j2objc/commit/16820fdbc8f76ca0c33472810ce0cb03d20efe25\n  Credits to: https://github.com/tomball for original and https://github.com/chrusart for JavaScript implementation\n*/\nfunction splitCookiesString(cookiesString) {\n  if (Array.isArray(cookiesString)) {\n    return cookiesString;\n  }\n  if (typeof cookiesString !== \"string\") {\n    return [];\n  }\n\n  var cookiesStrings = [];\n  var pos = 0;\n  var start;\n  var ch;\n  var lastComma;\n  var nextStart;\n  var cookiesSeparatorFound;\n\n  function skipWhitespace() {\n    while (pos < cookiesString.length && /\\s/.test(cookiesString.charAt(pos))) {\n      pos += 1;\n    }\n    return pos < cookiesString.length;\n  }\n\n  function notSpecialChar() {\n    ch = cookiesString.charAt(pos);\n\n    return ch !== \"=\" && ch !== \";\" && ch !== \",\";\n  }\n\n  while (pos < cookiesString.length) {\n    start = pos;\n    cookiesSeparatorFound = false;\n\n    while (skipWhitespace()) {\n      ch = cookiesString.charAt(pos);\n      if (ch === \",\") {\n        // ',' is a cookie separator if we have later first '=', not ';' or ','\n        lastComma = pos;\n        pos += 1;\n\n        skipWhitespace();\n        nextStart = pos;\n\n        while (pos < cookiesString.length && notSpecialChar()) {\n          pos += 1;\n        }\n\n        // currently special character\n        if (pos < cookiesString.length && cookiesString.charAt(pos) === \"=\") {\n          // we found cookies separator\n          cookiesSeparatorFound = true;\n          // pos is inside the next cookie, so back up and return it.\n          pos = nextStart;\n          cookiesStrings.push(cookiesString.substring(start, lastComma));\n          start = pos;\n        } else {\n          // in param ',' or param separator ';',\n          // we continue from that comma\n          pos = lastComma + 1;\n        }\n      } else {\n        pos += 1;\n      }\n    }\n\n    if (!cookiesSeparatorFound || pos >= cookiesString.length) {\n      cookiesStrings.push(cookiesString.substring(start, cookiesString.length));\n    }\n  }\n\n  return cookiesStrings;\n}\n\nmodule.exports = parse;\nmodule.exports.parse = parse;\nmodule.exports.parseString = parseString;\nmodule.exports.splitCookiesString = splitCookiesString;\n\n\n/***/ }),\n\n/***/ \"YAAg\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.areCookiesEqual = exports.hasSameProperties = exports.createCookie = exports.isBrowser = void 0;\n/**\n * Tells whether we are in a browser or server.\n */\nfunction isBrowser() {\n    return typeof window !== 'undefined';\n}\nexports.isBrowser = isBrowser;\n/**\n * Create an instance of the Cookie interface\n */\nfunction createCookie(name, value, options) {\n    var sameSite = options.sameSite;\n    if (sameSite === true) {\n        sameSite = 'strict';\n    }\n    if (sameSite === undefined || sameSite === false) {\n        sameSite = 'lax';\n    }\n    var cookieToSet = __assign(__assign({}, options), { sameSite: sameSite });\n    delete cookieToSet.encode;\n    return __assign({ name: name, value: value }, cookieToSet);\n}\nexports.createCookie = createCookie;\n/**\n * Tells whether given objects have the same properties.\n */\nfunction hasSameProperties(a, b) {\n    var aProps = Object.getOwnPropertyNames(a);\n    var bProps = Object.getOwnPropertyNames(b);\n    if (aProps.length !== bProps.length) {\n        return false;\n    }\n    for (var i = 0; i < aProps.length; i++) {\n        var propName = aProps[i];\n        if (a[propName] !== b[propName]) {\n            return false;\n        }\n    }\n    return true;\n}\nexports.hasSameProperties = hasSameProperties;\n/**\n * Compare the cookie and return true if the cookies have equivalent\n * options and the cookies would be overwritten in the browser storage.\n *\n * @param a first Cookie for comparison\n * @param b second Cookie for comparison\n */\nfunction areCookiesEqual(a, b) {\n    var sameSiteSame = a.sameSite === b.sameSite;\n    if (typeof a.sameSite === 'string' && typeof b.sameSite === 'string') {\n        sameSiteSame = a.sameSite.toLowerCase() === b.sameSite.toLowerCase();\n    }\n    return (hasSameProperties(__assign(__assign({}, a), { sameSite: undefined }), __assign(__assign({}, b), { sameSite: undefined })) && sameSiteSame);\n}\nexports.areCookiesEqual = areCookiesEqual;\n/* Functions */\n//# sourceMappingURL=utils.js.map\n\n/***/ }),\n\n/***/ \"ahXa\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*!\n * cookie\n * Copyright(c) 2012-2014 Roman Shtylman\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n\n\n/**\n * Module exports.\n * @public\n */\n\nexports.parse = parse;\nexports.serialize = serialize;\n\n/**\n * Module variables.\n * @private\n */\n\nvar decode = decodeURIComponent;\nvar encode = encodeURIComponent;\nvar pairSplitRegExp = /; */;\n\n/**\n * RegExp to match field-content in RFC 7230 sec 3.2\n *\n * field-content = field-vchar [ 1*( SP / HTAB ) field-vchar ]\n * field-vchar   = VCHAR / obs-text\n * obs-text      = %x80-FF\n */\n\nvar fieldContentRegExp = /^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;\n\n/**\n * Parse a cookie header.\n *\n * Parse the given cookie header string into an object\n * The object has the various cookies as keys(names) => values\n *\n * @param {string} str\n * @param {object} [options]\n * @return {object}\n * @public\n */\n\nfunction parse(str, options) {\n  if (typeof str !== 'string') {\n    throw new TypeError('argument str must be a string');\n  }\n\n  var obj = {}\n  var opt = options || {};\n  var pairs = str.split(pairSplitRegExp);\n  var dec = opt.decode || decode;\n\n  for (var i = 0; i < pairs.length; i++) {\n    var pair = pairs[i];\n    var eq_idx = pair.indexOf('=');\n\n    // skip things that don't look like key=value\n    if (eq_idx < 0) {\n      continue;\n    }\n\n    var key = pair.substr(0, eq_idx).trim()\n    var val = pair.substr(++eq_idx, pair.length).trim();\n\n    // quoted values\n    if ('\"' == val[0]) {\n      val = val.slice(1, -1);\n    }\n\n    // only assign once\n    if (undefined == obj[key]) {\n      obj[key] = tryDecode(val, dec);\n    }\n  }\n\n  return obj;\n}\n\n/**\n * Serialize data into a cookie header.\n *\n * Serialize the a name value pair into a cookie string suitable for\n * http headers. An optional options object specified cookie parameters.\n *\n * serialize('foo', 'bar', { httpOnly: true })\n *   => \"foo=bar; httpOnly\"\n *\n * @param {string} name\n * @param {string} val\n * @param {object} [options]\n * @return {string}\n * @public\n */\n\nfunction serialize(name, val, options) {\n  var opt = options || {};\n  var enc = opt.encode || encode;\n\n  if (typeof enc !== 'function') {\n    throw new TypeError('option encode is invalid');\n  }\n\n  if (!fieldContentRegExp.test(name)) {\n    throw new TypeError('argument name is invalid');\n  }\n\n  var value = enc(val);\n\n  if (value && !fieldContentRegExp.test(value)) {\n    throw new TypeError('argument val is invalid');\n  }\n\n  var str = name + '=' + value;\n\n  if (null != opt.maxAge) {\n    var maxAge = opt.maxAge - 0;\n\n    if (isNaN(maxAge) || !isFinite(maxAge)) {\n      throw new TypeError('option maxAge is invalid')\n    }\n\n    str += '; Max-Age=' + Math.floor(maxAge);\n  }\n\n  if (opt.domain) {\n    if (!fieldContentRegExp.test(opt.domain)) {\n      throw new TypeError('option domain is invalid');\n    }\n\n    str += '; Domain=' + opt.domain;\n  }\n\n  if (opt.path) {\n    if (!fieldContentRegExp.test(opt.path)) {\n      throw new TypeError('option path is invalid');\n    }\n\n    str += '; Path=' + opt.path;\n  }\n\n  if (opt.expires) {\n    if (typeof opt.expires.toUTCString !== 'function') {\n      throw new TypeError('option expires is invalid');\n    }\n\n    str += '; Expires=' + opt.expires.toUTCString();\n  }\n\n  if (opt.httpOnly) {\n    str += '; HttpOnly';\n  }\n\n  if (opt.secure) {\n    str += '; Secure';\n  }\n\n  if (opt.sameSite) {\n    var sameSite = typeof opt.sameSite === 'string'\n      ? opt.sameSite.toLowerCase() : opt.sameSite;\n\n    switch (sameSite) {\n      case true:\n        str += '; SameSite=Strict';\n        break;\n      case 'lax':\n        str += '; SameSite=Lax';\n        break;\n      case 'strict':\n        str += '; SameSite=Strict';\n        break;\n      case 'none':\n        str += '; SameSite=None';\n        break;\n      default:\n        throw new TypeError('option sameSite is invalid');\n    }\n  }\n\n  return str;\n}\n\n/**\n * Try decoding a string using a decoding function.\n *\n * @param {string} str\n * @param {function} decode\n * @private\n */\n\nfunction tryDecode(str, decode) {\n  try {\n    return decode(str);\n  } catch (e) {\n    return str;\n  }\n}\n\n\n/***/ }),\n\n/***/ \"jEoz\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"privacy-agreement\":\"privacy-policy-consent_privacy-agreement__3QFUT\",\"invalid-feedback\":\"privacy-policy-consent_invalid-feedback__2FPEH\"};\n\n/***/ }),\n\n/***/ \"sfgh\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"marketing\":\"marketing-consent_marketing__2i0I5\",\"highlight\":\"marketing-consent_highlight__16gCK\",\"checkboxes\":\"marketing-consent_checkboxes__2fW02\"};\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["E:\\current_project\\PPH\\tfs\\Website\\website\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!E:\\current_project\\PPH\\tfs\\Website\\website\\business-logic\\marketingCommunicationsService.tsx","E:\\current_project\\PPH\\tfs\\Website\\website\\node_modules\\next\\node_modules\\@babel\\runtime\\helpers\\esm\\objectDestructuringEmpty.js","E:\\current_project\\PPH\\tfs\\Website\\website\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!E:\\current_project\\PPH\\tfs\\Website\\website\\components\\privacy-policy-consent\\privacy-policy-consent.tsx","E:\\current_project\\PPH\\tfs\\Website\\website\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!E:\\current_project\\PPH\\tfs\\Website\\website\\helpers\\cookiesHelper.tsx","E:\\current_project\\PPH\\tfs\\Website\\website\\node_modules\\nookies\\dist\\index.js","E:\\current_project\\PPH\\tfs\\Website\\website\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!E:\\current_project\\PPH\\tfs\\Website\\website\\components\\marketing-consent\\marketing-consent.tsx","E:\\current_project\\PPH\\tfs\\Website\\website\\node_modules\\set-cookie-parser\\lib\\set-cookie.js","E:\\current_project\\PPH\\tfs\\Website\\website\\node_modules\\nookies\\dist\\utils.js","E:\\current_project\\PPH\\tfs\\Website\\website\\node_modules\\nookies\\node_modules\\cookie\\index.js","E:\\current_project\\PPH\\tfs\\Website\\website\\node_modules\\next\\dist\\build\\webpack\\plugins\\mini-css-extract-plugin\\src\\loader.js??ref--5-oneOf-3-0!E:\\current_project\\PPH\\tfs\\Website\\website\\node_modules\\next\\dist\\compiled\\css-loader\\cjs.js??ref--5-oneOf-3-1!E:\\current_project\\PPH\\tfs\\Website\\website\\node_modules\\next\\dist\\compiled\\postcss-loader\\cjs.js??ref--5-oneOf-3-2!E:\\current_project\\PPH\\tfs\\Website\\website\\node_modules\\next\\dist\\compiled\\resolve-url-loader\\index.js??ref--5-oneOf-3-3!E:\\current_project\\PPH\\tfs\\Website\\website\\node_modules\\next\\dist\\compiled\\sass-loader\\cjs.js??ref--5-oneOf-3-4!E:\\current_project\\PPH\\tfs\\Website\\website\\components\\privacy-policy-consent\\privacy-policy-consent.module.scss","E:\\current_project\\PPH\\tfs\\Website\\website\\node_modules\\next\\dist\\build\\webpack\\plugins\\mini-css-extract-plugin\\src\\loader.js??ref--5-oneOf-3-0!E:\\current_project\\PPH\\tfs\\Website\\website\\node_modules\\next\\dist\\compiled\\css-loader\\cjs.js??ref--5-oneOf-3-1!E:\\current_project\\PPH\\tfs\\Website\\website\\node_modules\\next\\dist\\compiled\\postcss-loader\\cjs.js??ref--5-oneOf-3-2!E:\\current_project\\PPH\\tfs\\Website\\website\\node_modules\\next\\dist\\compiled\\resolve-url-loader\\index.js??ref--5-oneOf-3-3!E:\\current_project\\PPH\\tfs\\Website\\website\\node_modules\\next\\dist\\compiled\\sass-loader\\cjs.js??ref--5-oneOf-3-4!E:\\current_project\\PPH\\tfs\\Website\\website\\components\\marketing-consent\\marketing-consent.module.scss"],"names":[],"mappings":";;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAuI;AACe;AACJ;AACN;AAC1F;AACiF;AAC5H;AACP;AACA,IAAI,yKAAe;AACnB;;AAEA,EAAE,sKAAY;AACd;AACA;AACA,mCAAmC,2KAAiB,eAAe,yIAAmB;AACtF,eAAe,yIAAmB;AAClC;AACA;AACA;AACA;AACA,gCAAgC,4DAAY;AAC5C;;AAEA;AACA,oBAAoB,mFAAqB;AACzC;AACA;AACA,qBAAqB;AACrB,mBAAmB;AACnB;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;;AAEP;AACA;AACA;;AAEA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA,qCAAqC,2KAAiB,eAAe,yIAAmB;AACxF,eAAe,yIAAmB;AAClC;AACA;AACA;AACA,kDAAkD,qFAAuB;AACzE;AACA,oBAAoB,yDAAS;AAC7B;AACA;AACA,qBAAqB;AACrB;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;;AAEP;AACA;AACA;;AAEA;AACA,KAAK;AACL,GAAG;;AAEH;AACA,CAAC,G;;;;;;;;;;;;;;;;ACjFc;AACf;AACA,C;;;;;;;;;;;;;;;ACFkD;AACF;AACsH;AAC5I;AACuB;AACQ;AACE;;AAE3D,IAAI,2CAAoB;AACxB,EAAE,yBAAyB;;AAE3B;AACA,oBAAoB,oDAAc;AAClC,oBAAoB,mDAAkB;;AAEtC;AACA;;AAEA,wBAAwB,2BAAK;AAC7B;AACA,8BAA8B,2BAAK;AACnC,0DAA0D,uCAAK;AAC/D,gCAAgC,0BAAI;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS,gBAAgB,0BAAI;AAC7B;AACA,2DAA2D,uCAAK;AAChE;AACA,SAAS;AACT,OAAO,uDAAuD,0BAAI;AAClE;AACA;AACA,OAAO;AACP,KAAK;AACL;;AAEA;AACA;;AAEe,sGAAoB,E;;;;;;;;;;AC/CnC;AAAA;AAAA;AAAA;AAAkD;AAC3C;AACP,gBAAgB,4DAAY;AAC5B;AACA;AACO;AACP,EAAE,yDAAS;AACX;AACA;AACA,GAAG;AACH,E;;;;;;;;ACVa;AACb;AACA;AACA,gDAAgD,OAAO;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA,aAAa,mBAAO,CAAC,MAAQ;AAC7B,sBAAsB,mBAAO,CAAC,MAAmB;AACjD,cAAc,mBAAO,CAAC,MAAS;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,cAAc;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yG;AACA;AACA,4CAA4C,YAAY,EAAE,EAAE;AAC5D;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD,gBAAgB,KAAK,aAAa;AAC1F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzHkD;AACF;AACG;AACF;AACpB;AACuB;AACK;AACsC;AAC9C;AACX;;AAEtC,IAAI,kCAAgB;AACpB;AACA;AACA;AACA;AACA,oBAAoB,oDAAc,GAAG;;AAErC,kBAAkB,yBAAQ;AAC1B;AACA,mCAAmC;;;AAGnC,EAAE,0BAAS;AACX;AACA;AACA;AACA;;AAEA,wBAAwB,iDAAmB;AAC3C,MAAM,wEAA8B;AACpC;;AAEA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,GAAG,kBAAkB;;AAErB;AACA,wBAAwB,0BAAI;AAC5B;AACA,6BAA6B,2BAAK;AAClC,mBAAmB,kCAAK;AACxB,gCAAgC,0BAAI;AACpC;AACA,SAAS,gBAAgB,0BAAI;AAC7B;AACA;AACA,SAAS,gBAAgB,2BAAK;AAC9B,+BAA+B,kCAAK;AACpC,kCAAkC,2BAAK;AACvC;AACA,oCAAoC,0BAAI;AACxC;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,gBAAgB,0BAAI;AACjC;AACA;AACA;AACA,aAAa;AACb,WAAW,gBAAgB,2BAAK;AAChC;AACA,oCAAoC,0BAAI;AACxC;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,gBAAgB,0BAAI;AACjC;AACA;AACA;AACA,aAAa;AACb,WAAW,gBAAgB,2BAAK;AAChC;AACA,oCAAoC,0BAAI;AACxC;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,gBAAgB,0BAAI;AACjC;AACA;AACA;AACA,aAAa;AACb,WAAW,gBAAgB,2BAAK;AAChC;AACA,oCAAoC,0BAAI;AACxC;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,gBAAgB,0BAAI;AACjC;AACA;AACA;AACA,aAAa;AACb,WAAW,gBAAgB,2BAAK;AAChC;AACA,oCAAoC,0BAAI;AACxC;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,gBAAgB,0BAAI;AACjC;AACA;AACA;AACA,aAAa;AACb,WAAW;AACX,SAAS,gBAAgB,2BAAK;AAC9B;AACA,wKAAwK,0BAAI,CAAC,cAAI;AACjL;AACA,mCAAmC,0BAAI;AACvC;AACA,aAAa;AACb,WAAW,4HAA4H,0BAAI;AAC3I,mCAAmC,0BAAI;AACvC;AACA,wBAAwB,yCAAc;AACtC,aAAa;AACb,WAAW,qCAAqC,0BAAI;AACpD;AACA;AACA,WAAW;AACX,SAAS;AACT,OAAO;AACP,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEe,mFAAO,kBAAkB,kCAAgB,CAAC,E;;;;;;;;;;AC/J5C;;AAEb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,qCAAqC;AACrC;AACA;AACA,kCAAkC;;AAElC;AACA,sBAAsB;AACtB;;AAEA;AACA,qEAAqE;AACrE,GAAG;AACH;AACA,oFAAoF,MAAM;AAC1F;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA,sBAAsB;AACtB;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,kMAAkM,aAAa;AAC/M;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,sBAAsB;AACtB;;AAEA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,kCAAkC;AAClC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,uEAAuE;AACvE;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,+CAA+C;AAC/C;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;ACvMa;AACb;AACA;AACA,gDAAgD,OAAO;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,aAAa,qBAAqB;AAC5E;AACA,qBAAqB,2BAA2B;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,mBAAmB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,OAAO,sBAAsB,uBAAuB,OAAO,sBAAsB;AACnI;AACA;AACA;AACA,iC;;;;;;;;ACvEA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,wBAAwB;;AAExB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,iBAAiB,kBAAkB;AACnC;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,iBAAiB;AAC7C,iBAAiB;AACjB;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,aAAa;AACb;;AAEA;AACA;AACA;AACA;;AAEA,aAAa;AACb;;AAEA;AACA;AACA;AACA;;AAEA,aAAa;AACb;;AAEA;AACA;AACA;AACA;;AAEA,aAAa;AACb;;AAEA;AACA,aAAa;AACb;;AAEA;AACA,aAAa;AACb;;AAEA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;;;;;;;ACzMA;AACA,kBAAkB,2I;;;;;;;ACDlB;AACA,kBAAkB,sJ","file":"x","sourcesContent":["import _regeneratorRuntime from \"E:/current_project/PPH/tfs/Website/website/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"E:/current_project/PPH/tfs/Website/website/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"E:/current_project/PPH/tfs/Website/website/node_modules/next/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:/current_project/PPH/tfs/Website/website/node_modules/next/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { parseCookies, setCookie } from 'nookies';\nimport { HasSeenMarketingForm as _HasSeenMarketingForm, SetToSeenMarketingForm as _SetToSeenMarketingForm } from \"./systemService\";\nexport var MarketingCommunicationsService = /*#__PURE__*/function () {\n  function MarketingCommunicationsService() {\n    _classCallCheck(this, MarketingCommunicationsService);\n  }\n\n  _createClass(MarketingCommunicationsService, null, [{\n    key: \"HasSeenMarketingForm\",\n    value: function () {\n      var _HasSeenMarketingForm2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(emailAddress) {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                return _context.abrupt(\"return\", new Promise(function (resolve) {\n                  var cookies = parseCookies();\n                  var hasSeenConsentFormEmail = cookies.HasSeenConsentForm;\n\n                  if (emailAddress != hasSeenConsentFormEmail) {\n                    _HasSeenMarketingForm(emailAddress).then(function (response) {\n                      var result = response.isSucceed ? response.data : false;\n                      resolve(result);\n                    });\n                  } else {\n                    resolve(true);\n                  }\n                }));\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function HasSeenMarketingForm(_x) {\n        return _HasSeenMarketingForm2.apply(this, arguments);\n      }\n\n      return HasSeenMarketingForm;\n    }()\n  }, {\n    key: \"SetToSeenMarketingForm\",\n    value: function () {\n      var _SetToSeenMarketingForm2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(emailAddress, expiryDate) {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                return _context2.abrupt(\"return\", _SetToSeenMarketingForm(emailAddress).then(function (response) {\n                  if (response.status.code === 0) {\n                    setCookie(null, \"HasSeenConsentForm\", emailAddress, {\n                      expires: expiryDate,\n                      path: '/'\n                    });\n                  }\n                }));\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function SetToSeenMarketingForm(_x2, _x3) {\n        return _SetToSeenMarketingForm2.apply(this, arguments);\n      }\n\n      return SetToSeenMarketingForm;\n    }()\n  }]);\n\n  return MarketingCommunicationsService;\n}();","export default function _objectDestructuringEmpty(obj) {\n  if (obj == null) throw new TypeError(\"Cannot destructure undefined\");\n}","import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _objectDestructuringEmpty from \"E:/current_project/PPH/tfs/Website/website/node_modules/next/node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty\";\nimport React from 'react';\nimport { useFormContext } from \"react-hook-form\";\nimport style from './privacy-policy-consent.module.scss';\nimport { hasPrivacyAccepted } from 'helpers/cookiesHelper';\n\nvar PrivacyPolicyConsent = function PrivacyPolicyConsent(_ref) {\n  _objectDestructuringEmpty(_ref);\n\n  //Used to share \"privacyConfirmed\" field with parent form and use same validation\n  var formContext = useFormContext();\n  var isRequired = !hasPrivacyAccepted();\n\n  if (isRequired) {\n    var _formContext$errors$p;\n\n    return /*#__PURE__*/_jsxs(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxs(\"div\", {\n        className: \"form-check form-check-inline \".concat(style[\"privacy-agreement\"]),\n        children: [/*#__PURE__*/_jsx(\"input\", {\n          type: \"checkbox\",\n          className: \"form-check-input\",\n          id: \"privacyConfirmed\",\n          name: \"privacyConfirmed\",\n          ref: formContext.register({\n            validate: function validate(value) {\n              return value === true || \"Confirm is required.\";\n            }\n          })\n        }), /*#__PURE__*/_jsx(\"label\", {\n          htmlFor: \"privacyConfirmed\",\n          className: formContext.errors.privacyConfirmed ? style[\"invalid-feedback\"] : null,\n          children: \"I confirm that I have read the Leasing Options Privacy Policy and that I understand the ways in which Leasing Options will use my personal data.\"\n        })]\n      }), formContext.errors.privacyConfirmed && /*#__PURE__*/_jsx(\"span\", {\n        className: \"invalid-feedback d-block\",\n        children: (_formContext$errors$p = formContext.errors.privacyConfirmed) === null || _formContext$errors$p === void 0 ? void 0 : _formContext$errors$p.message\n      })]\n    });\n  }\n\n  return null;\n};\n\nexport default PrivacyPolicyConsent;","import { parseCookies, setCookie } from 'nookies';\nexport var hasPrivacyAccepted = function hasPrivacyAccepted() {\n  var cookies = parseCookies();\n  return cookies.HasSeenConfirmForm === \"1\";\n};\nexport var setPrivacyAccepted = function setPrivacyAccepted(expiryDate) {\n  setCookie(null, \"HasSeenConfirmForm\", \"1\", {\n    expires: expiryDate,\n    path: '/'\n  });\n};","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.destroyCookie = exports.setCookie = exports.parseCookies = void 0;\nvar cookie = require(\"cookie\");\nvar setCookieParser = require(\"set-cookie-parser\");\nvar utils_1 = require(\"./utils\");\n/**\n * Parses cookies.\n *\n * @param ctx NextJS page or API context, express context, null or undefined.\n * @param options Options that we pass down to `cookie` library.\n */\nfunction parseCookies(ctx, options) {\n    var _a, _b;\n    if ((_b = (_a = ctx === null || ctx === void 0 ? void 0 : ctx.req) === null || _a === void 0 ? void 0 : _a.headers) === null || _b === void 0 ? void 0 : _b.cookie) {\n        return cookie.parse(ctx.req.headers.cookie, options);\n    }\n    if (utils_1.isBrowser()) {\n        return cookie.parse(document.cookie, options);\n    }\n    return {};\n}\nexports.parseCookies = parseCookies;\n/**\n * Sets a cookie.\n *\n * @param ctx NextJS page or API context, express context, null or undefined.\n * @param name The name of your cookie.\n * @param value The value of your cookie.\n * @param options Options that we pass down to `cookie` library.\n */\nfunction setCookie(ctx, name, value, options) {\n    var _a, _b;\n    if (options === void 0) { options = {}; }\n    // SSR\n    if (((_a = ctx === null || ctx === void 0 ? void 0 : ctx.res) === null || _a === void 0 ? void 0 : _a.getHeader) && ctx.res.setHeader) {\n        // Check if response has finished and warn about it.\n        if ((_b = ctx === null || ctx === void 0 ? void 0 : ctx.res) === null || _b === void 0 ? void 0 : _b.finished) {\n            console.warn(\"Not setting \\\"\" + name + \"\\\" cookie. Response has finished.\");\n            console.warn(\"You should set cookie before res.send()\");\n            return {};\n        }\n        /**\n         * Load existing cookies from the header and parse them.\n         */\n        var cookies = ctx.res.getHeader('Set-Cookie') || [];\n        if (typeof cookies === 'string')\n            cookies = [cookies];\n        if (typeof cookies === 'number')\n            cookies = [];\n        /**\n         * Parse cookies but ignore values - we've already encoded\n         * them in the previous call.\n         */\n        var parsedCookies = setCookieParser.parse(cookies, {\n            decodeValues: false,\n        });\n        /**\n         * We create the new cookie and make sure that none of\n         * the existing cookies match it.\n         */\n        var newCookie_1 = utils_1.createCookie(name, value, options);\n        var cookiesToSet_1 = [];\n        parsedCookies.forEach(function (parsedCookie) {\n            if (!utils_1.areCookiesEqual(parsedCookie, newCookie_1)) {\n                /**\n                 * We serialize the cookie back to the original format\n                 * if it isn't the same as the new one.\n                 */\n                var serializedCookie = cookie.serialize(parsedCookie.name, parsedCookie.value, __assign({ \n                    // we prevent reencoding by default, but you might override it\n                    encode: function (val) { return val; } }, parsedCookie));\n                cookiesToSet_1.push(serializedCookie);\n            }\n        });\n        cookiesToSet_1.push(cookie.serialize(name, value, options));\n        // Update the header.\n        ctx.res.setHeader('Set-Cookie', cookiesToSet_1);\n    }\n    // Browser\n    if (utils_1.isBrowser()) {\n        if (options && options.httpOnly) {\n            throw new Error('Can not set a httpOnly cookie in the browser.');\n        }\n        document.cookie = cookie.serialize(name, value, options);\n    }\n    return {};\n}\nexports.setCookie = setCookie;\n/**\n * Destroys a cookie with a particular name.\n *\n * @param ctx NextJS page or API context, express context, null or undefined.\n * @param name Cookie name.\n * @param options Options that we pass down to `cookie` library.\n */\nfunction destroyCookie(ctx, name, options) {\n    /**\n     * We forward the request destroy to setCookie function\n     * as it is the same function with modified maxAge value.\n     */\n    return setCookie(ctx, name, '', __assign(__assign({}, (options || {})), { maxAge: -1 }));\n}\nexports.destroyCookie = destroyCookie;\n/* Utility Exports */\nexports.default = {\n    set: setCookie,\n    get: parseCookies,\n    destroy: destroyCookie,\n};\n//# sourceMappingURL=index.js.map","import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useState, useEffect } from 'react';\nimport { useFormContext } from \"react-hook-form\";\nimport Link from 'next/link';\nimport style from './marketing-consent.module.scss';\nimport { EmailAddressIsValid } from 'helpers/validation';\nimport { MarketingCommunicationsService } from 'business-logic/marketingCommunicationsService';\nimport { GetPhoneNumber } from 'helpers/helpers';\nimport { connect } from 'react-redux';\n\nvar MarketingConsent = function MarketingConsent(_ref) {\n  var isInternal = _ref.isInternal,\n      emailAddress = _ref.emailAddress,\n      settings = _ref.settings;\n  //Used to share \"privacyConfirmed\" field with parent form and use same validation\n  var formContext = useFormContext(); //Set only when email address is present and marketing consent wasn't accepted earlier\n\n  var _useState = useState(false),\n      isRequired = _useState[0],\n      setIsRequired = _useState[1]; //Should trigger only when email address is changed\n\n\n  useEffect(function () {\n    //do we need timeout here?\n    if (settings.onVerificationStart) {\n      settings.onVerificationStart();\n    }\n\n    if (emailAddress && EmailAddressIsValid(emailAddress)) {\n      MarketingCommunicationsService.HasSeenMarketingForm(emailAddress).then(function (result) {\n        setIsRequired(!result);\n\n        if (settings.onVerificationComplete) {\n          settings.onVerificationComplete();\n        }\n      });\n    } else {\n      setIsRequired(false);\n\n      if (settings.onVerificationComplete) {\n        settings.onVerificationComplete();\n      }\n    }\n  }, [emailAddress]); //TODO: check if phone number should be dynamic here?\n\n  if (isRequired) {\n    return /*#__PURE__*/_jsx(\"div\", {\n      className: \"form-group\",\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: style['marketing'],\n        children: [/*#__PURE__*/_jsx(\"h4\", {\n          children: \"Marketing Communications\"\n        }), /*#__PURE__*/_jsx(\"p\", {\n          className: \"mb-4\",\n          children: \"We would love to keep you updated with our latest special offers, car news and exclusive benefits just for Leasing Options customers. Please let us know how you'd like us to contact you:\"\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"\".concat(style[\"checkboxes\"], \" mb-4\"),\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            className: \"form-check form-check-inline\",\n            children: [/*#__PURE__*/_jsx(\"input\", {\n              className: \"form-check-input\",\n              type: \"checkbox\",\n              name: \"allowedCommunicationTypes\",\n              value: 1,\n              id: \"contactEmail\",\n              ref: formContext.register\n            }), /*#__PURE__*/_jsx(\"label\", {\n              className: \"form-check-label mb-0\",\n              htmlFor: \"contactEmail\",\n              children: \"Email\"\n            })]\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: \"form-check form-check-inline\",\n            children: [/*#__PURE__*/_jsx(\"input\", {\n              className: \"form-check-input\",\n              type: \"checkbox\",\n              name: \"allowedCommunicationTypes\",\n              value: 2,\n              id: \"contactPost\",\n              ref: formContext.register\n            }), /*#__PURE__*/_jsx(\"label\", {\n              className: \"form-check-label mb-0\",\n              htmlFor: \"contactPost\",\n              children: \"Post\"\n            })]\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: \"form-check form-check-inline\",\n            children: [/*#__PURE__*/_jsx(\"input\", {\n              className: \"form-check-input\",\n              type: \"checkbox\",\n              name: \"allowedCommunicationTypes\",\n              value: 3,\n              id: \"contactSms\",\n              ref: formContext.register\n            }), /*#__PURE__*/_jsx(\"label\", {\n              className: \"form-check-label mb-0\",\n              htmlFor: \"contactSms\",\n              children: \"SMS\"\n            })]\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: \"form-check form-check-inline\",\n            children: [/*#__PURE__*/_jsx(\"input\", {\n              className: \"form-check-input\",\n              type: \"checkbox\",\n              name: \"allowedCommunicationTypes\",\n              value: 4,\n              id: \"contactPhone\",\n              ref: formContext.register\n            }), /*#__PURE__*/_jsx(\"label\", {\n              className: \"form-check-label mb-0\",\n              htmlFor: \"contactPhone\",\n              children: \"Telephone\"\n            })]\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: \"form-check form-check-inline\",\n            children: [/*#__PURE__*/_jsx(\"input\", {\n              className: \"form-check-input\",\n              type: \"checkbox\",\n              name: \"allowedCommunicationTypes\",\n              value: 5,\n              id: \"contactWhatsApp\",\n              ref: formContext.register\n            }), /*#__PURE__*/_jsx(\"label\", {\n              className: \"form-check-label mb-0\",\n              htmlFor: \"contactWhatsApp\",\n              children: \"WhatsApp\"\n            })]\n          })]\n        }), /*#__PURE__*/_jsxs(\"p\", {\n          className: \"mb-4\",\n          children: [\"Your personal information will not be shared with any third party companies. For more information, please read our Privacy Policy \", /*#__PURE__*/_jsx(Link, {\n            href: \"/privacy-policy\",\n            children: /*#__PURE__*/_jsx(\"a\", {\n              children: \"here\"\n            })\n          }), \" for further details. You can unsubscribe from marketing communications at any time by contacting us on \", /*#__PURE__*/_jsx(\"strong\", {\n            children: /*#__PURE__*/_jsx(\"span\", {\n              className: \"phonenumber_call_now\",\n              children: GetPhoneNumber(isInternal)\n            })\n          }), \" or via Email at \", /*#__PURE__*/_jsx(\"a\", {\n            href: \"mailto:marketing@leasingoptions.co.uk\",\n            children: \"marketing@leasingoptions.co.uk\"\n          })]\n        })]\n      })\n    });\n  }\n\n  return null;\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    isInternal: state.isInternal\n  };\n};\n\nexport default connect(mapStateToProps)(MarketingConsent);","\"use strict\";\n\nvar defaultParseOptions = {\n  decodeValues: true,\n  map: false,\n  silent: false,\n};\n\nfunction isNonEmptyString(str) {\n  return typeof str === \"string\" && !!str.trim();\n}\n\nfunction parseString(setCookieValue, options) {\n  var parts = setCookieValue.split(\";\").filter(isNonEmptyString);\n  var nameValue = parts.shift().split(\"=\");\n  var name = nameValue.shift();\n  var value = nameValue.join(\"=\"); // everything after the first =, joined by a \"=\" if there was more than one part\n\n  options = options\n    ? Object.assign({}, defaultParseOptions, options)\n    : defaultParseOptions;\n\n  try {\n    value = options.decodeValues ? decodeURIComponent(value) : value; // decode cookie value\n  } catch (e) {\n    console.error(\n      `set-cookie-parser encountered an error while decoding a cookie with value '${value}'. Set options.decodeValues to false to disable this feature.`,\n      e\n    );\n  }\n\n  var cookie = {\n    name: name, // grab everything before the first =\n    value: value,\n  };\n\n  parts.forEach(function (part) {\n    var sides = part.split(\"=\");\n    var key = sides.shift().trimLeft().toLowerCase();\n    var value = sides.join(\"=\");\n    if (key === \"expires\") {\n      cookie.expires = new Date(value);\n    } else if (key === \"max-age\") {\n      cookie.maxAge = parseInt(value, 10);\n    } else if (key === \"secure\") {\n      cookie.secure = true;\n    } else if (key === \"httponly\") {\n      cookie.httpOnly = true;\n    } else if (key === \"samesite\") {\n      cookie.sameSite = value;\n    } else {\n      cookie[key] = value;\n    }\n  });\n\n  return cookie;\n}\n\nfunction parse(input, options) {\n  options = options\n    ? Object.assign({}, defaultParseOptions, options)\n    : defaultParseOptions;\n\n  if (!input) {\n    if (!options.map) {\n      return [];\n    } else {\n      return {};\n    }\n  }\n\n  if (input.headers && input.headers[\"set-cookie\"]) {\n    // fast-path for node.js (which automatically normalizes header names to lower-case\n    input = input.headers[\"set-cookie\"];\n  } else if (input.headers) {\n    // slow-path for other environments - see #25\n    var sch =\n      input.headers[\n        Object.keys(input.headers).find(function (key) {\n          return key.toLowerCase() === \"set-cookie\";\n        })\n      ];\n    // warn if called on a request-like object with a cookie header rather than a set-cookie header - see #34, 36\n    if (!sch && input.headers.cookie && !options.silent) {\n      console.warn(\n        \"Warning: set-cookie-parser appears to have been called on a request object. It is designed to parse Set-Cookie headers from responses, not Cookie headers from requests. Set the option {silent: true} to suppress this warning.\"\n      );\n    }\n    input = sch;\n  }\n  if (!Array.isArray(input)) {\n    input = [input];\n  }\n\n  options = options\n    ? Object.assign({}, defaultParseOptions, options)\n    : defaultParseOptions;\n\n  if (!options.map) {\n    return input.filter(isNonEmptyString).map(function (str) {\n      return parseString(str, options);\n    });\n  } else {\n    var cookies = {};\n    return input.filter(isNonEmptyString).reduce(function (cookies, str) {\n      var cookie = parseString(str, options);\n      cookies[cookie.name] = cookie;\n      return cookies;\n    }, cookies);\n  }\n}\n\n/*\n  Set-Cookie header field-values are sometimes comma joined in one string. This splits them without choking on commas\n  that are within a single set-cookie field-value, such as in the Expires portion.\n\n  This is uncommon, but explicitly allowed - see https://tools.ietf.org/html/rfc2616#section-4.2\n  Node.js does this for every header *except* set-cookie - see https://github.com/nodejs/node/blob/d5e363b77ebaf1caf67cd7528224b651c86815c1/lib/_http_incoming.js#L128\n  React Native's fetch does this for *every* header, including set-cookie.\n\n  Based on: https://github.com/google/j2objc/commit/16820fdbc8f76ca0c33472810ce0cb03d20efe25\n  Credits to: https://github.com/tomball for original and https://github.com/chrusart for JavaScript implementation\n*/\nfunction splitCookiesString(cookiesString) {\n  if (Array.isArray(cookiesString)) {\n    return cookiesString;\n  }\n  if (typeof cookiesString !== \"string\") {\n    return [];\n  }\n\n  var cookiesStrings = [];\n  var pos = 0;\n  var start;\n  var ch;\n  var lastComma;\n  var nextStart;\n  var cookiesSeparatorFound;\n\n  function skipWhitespace() {\n    while (pos < cookiesString.length && /\\s/.test(cookiesString.charAt(pos))) {\n      pos += 1;\n    }\n    return pos < cookiesString.length;\n  }\n\n  function notSpecialChar() {\n    ch = cookiesString.charAt(pos);\n\n    return ch !== \"=\" && ch !== \";\" && ch !== \",\";\n  }\n\n  while (pos < cookiesString.length) {\n    start = pos;\n    cookiesSeparatorFound = false;\n\n    while (skipWhitespace()) {\n      ch = cookiesString.charAt(pos);\n      if (ch === \",\") {\n        // ',' is a cookie separator if we have later first '=', not ';' or ','\n        lastComma = pos;\n        pos += 1;\n\n        skipWhitespace();\n        nextStart = pos;\n\n        while (pos < cookiesString.length && notSpecialChar()) {\n          pos += 1;\n        }\n\n        // currently special character\n        if (pos < cookiesString.length && cookiesString.charAt(pos) === \"=\") {\n          // we found cookies separator\n          cookiesSeparatorFound = true;\n          // pos is inside the next cookie, so back up and return it.\n          pos = nextStart;\n          cookiesStrings.push(cookiesString.substring(start, lastComma));\n          start = pos;\n        } else {\n          // in param ',' or param separator ';',\n          // we continue from that comma\n          pos = lastComma + 1;\n        }\n      } else {\n        pos += 1;\n      }\n    }\n\n    if (!cookiesSeparatorFound || pos >= cookiesString.length) {\n      cookiesStrings.push(cookiesString.substring(start, cookiesString.length));\n    }\n  }\n\n  return cookiesStrings;\n}\n\nmodule.exports = parse;\nmodule.exports.parse = parse;\nmodule.exports.parseString = parseString;\nmodule.exports.splitCookiesString = splitCookiesString;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.areCookiesEqual = exports.hasSameProperties = exports.createCookie = exports.isBrowser = void 0;\n/**\n * Tells whether we are in a browser or server.\n */\nfunction isBrowser() {\n    return typeof window !== 'undefined';\n}\nexports.isBrowser = isBrowser;\n/**\n * Create an instance of the Cookie interface\n */\nfunction createCookie(name, value, options) {\n    var sameSite = options.sameSite;\n    if (sameSite === true) {\n        sameSite = 'strict';\n    }\n    if (sameSite === undefined || sameSite === false) {\n        sameSite = 'lax';\n    }\n    var cookieToSet = __assign(__assign({}, options), { sameSite: sameSite });\n    delete cookieToSet.encode;\n    return __assign({ name: name, value: value }, cookieToSet);\n}\nexports.createCookie = createCookie;\n/**\n * Tells whether given objects have the same properties.\n */\nfunction hasSameProperties(a, b) {\n    var aProps = Object.getOwnPropertyNames(a);\n    var bProps = Object.getOwnPropertyNames(b);\n    if (aProps.length !== bProps.length) {\n        return false;\n    }\n    for (var i = 0; i < aProps.length; i++) {\n        var propName = aProps[i];\n        if (a[propName] !== b[propName]) {\n            return false;\n        }\n    }\n    return true;\n}\nexports.hasSameProperties = hasSameProperties;\n/**\n * Compare the cookie and return true if the cookies have equivalent\n * options and the cookies would be overwritten in the browser storage.\n *\n * @param a first Cookie for comparison\n * @param b second Cookie for comparison\n */\nfunction areCookiesEqual(a, b) {\n    var sameSiteSame = a.sameSite === b.sameSite;\n    if (typeof a.sameSite === 'string' && typeof b.sameSite === 'string') {\n        sameSiteSame = a.sameSite.toLowerCase() === b.sameSite.toLowerCase();\n    }\n    return (hasSameProperties(__assign(__assign({}, a), { sameSite: undefined }), __assign(__assign({}, b), { sameSite: undefined })) && sameSiteSame);\n}\nexports.areCookiesEqual = areCookiesEqual;\n/* Functions */\n//# sourceMappingURL=utils.js.map","/*!\n * cookie\n * Copyright(c) 2012-2014 Roman Shtylman\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module exports.\n * @public\n */\n\nexports.parse = parse;\nexports.serialize = serialize;\n\n/**\n * Module variables.\n * @private\n */\n\nvar decode = decodeURIComponent;\nvar encode = encodeURIComponent;\nvar pairSplitRegExp = /; */;\n\n/**\n * RegExp to match field-content in RFC 7230 sec 3.2\n *\n * field-content = field-vchar [ 1*( SP / HTAB ) field-vchar ]\n * field-vchar   = VCHAR / obs-text\n * obs-text      = %x80-FF\n */\n\nvar fieldContentRegExp = /^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;\n\n/**\n * Parse a cookie header.\n *\n * Parse the given cookie header string into an object\n * The object has the various cookies as keys(names) => values\n *\n * @param {string} str\n * @param {object} [options]\n * @return {object}\n * @public\n */\n\nfunction parse(str, options) {\n  if (typeof str !== 'string') {\n    throw new TypeError('argument str must be a string');\n  }\n\n  var obj = {}\n  var opt = options || {};\n  var pairs = str.split(pairSplitRegExp);\n  var dec = opt.decode || decode;\n\n  for (var i = 0; i < pairs.length; i++) {\n    var pair = pairs[i];\n    var eq_idx = pair.indexOf('=');\n\n    // skip things that don't look like key=value\n    if (eq_idx < 0) {\n      continue;\n    }\n\n    var key = pair.substr(0, eq_idx).trim()\n    var val = pair.substr(++eq_idx, pair.length).trim();\n\n    // quoted values\n    if ('\"' == val[0]) {\n      val = val.slice(1, -1);\n    }\n\n    // only assign once\n    if (undefined == obj[key]) {\n      obj[key] = tryDecode(val, dec);\n    }\n  }\n\n  return obj;\n}\n\n/**\n * Serialize data into a cookie header.\n *\n * Serialize the a name value pair into a cookie string suitable for\n * http headers. An optional options object specified cookie parameters.\n *\n * serialize('foo', 'bar', { httpOnly: true })\n *   => \"foo=bar; httpOnly\"\n *\n * @param {string} name\n * @param {string} val\n * @param {object} [options]\n * @return {string}\n * @public\n */\n\nfunction serialize(name, val, options) {\n  var opt = options || {};\n  var enc = opt.encode || encode;\n\n  if (typeof enc !== 'function') {\n    throw new TypeError('option encode is invalid');\n  }\n\n  if (!fieldContentRegExp.test(name)) {\n    throw new TypeError('argument name is invalid');\n  }\n\n  var value = enc(val);\n\n  if (value && !fieldContentRegExp.test(value)) {\n    throw new TypeError('argument val is invalid');\n  }\n\n  var str = name + '=' + value;\n\n  if (null != opt.maxAge) {\n    var maxAge = opt.maxAge - 0;\n\n    if (isNaN(maxAge) || !isFinite(maxAge)) {\n      throw new TypeError('option maxAge is invalid')\n    }\n\n    str += '; Max-Age=' + Math.floor(maxAge);\n  }\n\n  if (opt.domain) {\n    if (!fieldContentRegExp.test(opt.domain)) {\n      throw new TypeError('option domain is invalid');\n    }\n\n    str += '; Domain=' + opt.domain;\n  }\n\n  if (opt.path) {\n    if (!fieldContentRegExp.test(opt.path)) {\n      throw new TypeError('option path is invalid');\n    }\n\n    str += '; Path=' + opt.path;\n  }\n\n  if (opt.expires) {\n    if (typeof opt.expires.toUTCString !== 'function') {\n      throw new TypeError('option expires is invalid');\n    }\n\n    str += '; Expires=' + opt.expires.toUTCString();\n  }\n\n  if (opt.httpOnly) {\n    str += '; HttpOnly';\n  }\n\n  if (opt.secure) {\n    str += '; Secure';\n  }\n\n  if (opt.sameSite) {\n    var sameSite = typeof opt.sameSite === 'string'\n      ? opt.sameSite.toLowerCase() : opt.sameSite;\n\n    switch (sameSite) {\n      case true:\n        str += '; SameSite=Strict';\n        break;\n      case 'lax':\n        str += '; SameSite=Lax';\n        break;\n      case 'strict':\n        str += '; SameSite=Strict';\n        break;\n      case 'none':\n        str += '; SameSite=None';\n        break;\n      default:\n        throw new TypeError('option sameSite is invalid');\n    }\n  }\n\n  return str;\n}\n\n/**\n * Try decoding a string using a decoding function.\n *\n * @param {string} str\n * @param {function} decode\n * @private\n */\n\nfunction tryDecode(str, decode) {\n  try {\n    return decode(str);\n  } catch (e) {\n    return str;\n  }\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"privacy-agreement\":\"privacy-policy-consent_privacy-agreement__3QFUT\",\"invalid-feedback\":\"privacy-policy-consent_invalid-feedback__2FPEH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"marketing\":\"marketing-consent_marketing__2i0I5\",\"highlight\":\"marketing-consent_highlight__16gCK\",\"checkboxes\":\"marketing-consent_checkboxes__2fW02\"};"]}}