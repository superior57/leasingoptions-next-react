{"code":"(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[32],{\"9U2n\":function(e,n,t){\"use strict\";t.d(n,\"a\",(function(){return F}));var a=t(\"nKUr\"),i=t(\"rePB\"),c=t(\"Ff2n\"),r=t(\"q1tI\"),l=t(\"MHX4\"),s=t(\"20a2\"),o=t(\"zM5D\"),d=t(\"SeHH\"),u=t(\"8ua7\"),m=t(\"IP2g\"),j=t(\"uB96\"),b=t(\"l7ai\"),f=t(\"oszm\"),h=t(\"gt28\"),p=t(\"btDt\"),O=t(\"DQXc\"),g=t(\"zjkP\"),x=t(\"2inZ\"),v=t(\"7Sq+\"),y=t(\"o0o1\"),N=t.n(y),w=t(\"HaE+\"),I=t(\"1OyB\"),k=t(\"vuIU\"),P=t(\"uDbZ\"),C=function(){function e(){Object(I.a)(this,e)}return Object(k.a)(e,null,[{key:\"VerifySalesPerson\",value:function(){var e=Object(w.a)(N.a.mark((function e(n,t,a){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",Object(P.i)(n,t,a));case 1:case\"end\":return e.stop()}}),e)})));return function(n,t,a){return e.apply(this,arguments)}}()},{key:\"CheckInformationNoticAcceptance\",value:function(){var e=Object(w.a)(N.a.mark((function e(n,t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",new Promise((function(e){Object(P.a)(n,t).then((function(n){var t=!!n.isSucceed&&n.data;e(t)}))})));case 1:case\"end\":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()}]),e}();function S(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function q(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?S(Object(t),!0).forEach((function(n){Object(i.a)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):S(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var F=function(e){var n,t,i,y,N=e.title,w=e.baseData,I=e.settings,k=e.onRequestClose,S=Object(c.a)(e,[\"title\",\"baseData\",\"settings\",\"onRequestClose\"]),F=Object(s.useRouter)(),T=Object(l.c)(),D=T.register,A=T.handleSubmit,E=T.errors,R=parseFloat(\"199\"),L=Object(r.useState)(!1),M=L[0],B=L[1],H=Object(r.useState)(!1),_=H[0],W=H[1],U=Object(r.useState)(null),V=U[0],z=U[1],J=Object(r.useState)(I.salesPersons||[]),K=J[0],Q=J[1],X=Object(r.useState)(!1),Y=X[0],Z=X[1],G=Object(r.useState)(!1),$=G[0],ee=G[1],ne=Object(r.useState)([]),te=ne[0],ae=ne[1],ie=Object(r.useState)(null),ce=ie[0],re=ie[1],le=Object(r.useState)(1),se=le[0],oe=le[1],de=Object(r.useState)({fullName:null,telephone:null,email:null,companyName:null,ownerId:null,allowedCommunicationTypes:null,informationNoticeConfirmed:!1}),ue=de[0],me=de[1];Object(r.useEffect)((function(){0===K.length&&I.isInternal&&Object(P.b)().then((function(e){Q(e.data)}))}),[]);var je=function(){I.isInternal&&(Z(!0),ee(!1),ae([]),re(null))},be=function(e){if(e&&w){B(!0);var n=q(q({},w),{},{quoteEnquiryType:I.proceededToApplyForFinanceDirectly?2:1,isIDDAccepted:I.proceededToApplyForFinanceDirectly&&e.informationNoticeConfirmed,fullName:e.fullName,telephone:e.telephone,email:e.email,companyName:2!==w.leasingDealType?e.companyName:null,gaClientId:Object(p.a)()});I.isInternal?n.salesPersonId=e.ownerId:n.allowedCommunicationTypes=e.allowedCommunicationTypes||null,v.a.SubmitQuoteEnquiry(n).then((function(t){if(B(!1),t.isSucceed&&t.data){if(!I.isInternal){var a=new Date;a.setFullYear(a.getFullYear()+1),n.allowedCommunicationTypes&&x.a.SetToSeenMarketingForm(n.email,a),e.privacyConfirmed&&Object(O.b)(a)}if(I.proceededToApplyForFinanceDirectly)switch(n.leasingDealType.toString()){case\"1\":case\"3\":var i=\"/proposal_business?directfinance=1&fromconfirmquote=1&enquiryid=\"+t.data+\"&email=\"+encodeURI(n.email)+\"&fromInsuredLeasing=\"+(window.location.href.includes(\"car-leasing-with-insurance\")?\"1\":\"0\");F.push(i);break;case\"2\":i=\"/proposal_personal?directfinance=1&fromconfirmquote=1&enquiryid=\"+t.data+\"&email=\"+encodeURI(n.email)+\"&fromInsuredLeasing=\"+(window.location.href.includes(\"car-leasing-with-insurance\")?\"1\":\"0\");F.push(i)}else I.isInternal?F.push(Object(g.r)(!0)):F.push(Object(g.r)(!1,\"quoteconfirm\"));k()}}))}};return Object(a.jsxs)(o.a,q(q({onHide:k,centered:!0,scrollable:!1},S),{},{children:[Object(a.jsx)(o.a.Header,{className:\"d-flex flex-nowrap justify-content-center align-items-center\",closeButton:!0,children:Object(a.jsx)(o.a.Title,{className:\"mb-0\",children:function(e){var n=N;return 2===e&&(n=\"Information Notice\"),n}(se)})}),Object(a.jsx)(o.a.Body,{children:Object(a.jsxs)(l.b,q(q({},T),{},{children:[Object(a.jsx)(\"div\",{className:\"row\",children:Object(a.jsx)(\"div\",{className:\"col-24\",children:Object(a.jsx)(\"p\",{children:\"A member of our team will contact you shortly after your submission.\"})})}),1===se?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(\"div\",{className:\"row\",children:[I.leasingMessage?Object(a.jsx)(\"div\",{className:\"col-24\",children:Object(a.jsxs)(\"p\",{children:[\"I\\u2019m interested in leasing of \",Object(a.jsx)(\"strong\",{children:I.leasingMessage})]})}):null,Object(a.jsxs)(\"div\",{className:\"col-24 col-lg-12 form-group\",children:[Object(a.jsxs)(\"label\",{children:[\"Full Name \",Object(a.jsx)(\"span\",{children:\"(Required)\"})]}),Object(a.jsx)(\"input\",{type:\"text\",className:\"form-control \".concat(E.fullName?\"is-invalid\":\"\"),placeholder:\"First & Last Name\",maxLength:50,name:\"fullName\",disabled:$,ref:D({required:!0})}),E.fullName?Object(a.jsx)(\"span\",{className:\"invalid-feedback d-block\",children:\"Full Name is required.\"}):null]}),w.leasingDealType!==b.a.Personal?Object(a.jsxs)(\"div\",{className:\"col-24 col-lg-12 form-group\",children:[Object(a.jsx)(\"label\",{children:\"Company Name\"}),Object(a.jsx)(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Company Name\",maxLength:50,name:\"companyName\",disabled:$,ref:D()})]}):null,Object(a.jsxs)(\"div\",{className:\"col-24 col-lg-12 form-group\",children:[Object(a.jsxs)(\"label\",{children:[\"Telephone \",Object(a.jsx)(\"span\",{children:\"(Required)\"})]}),Object(a.jsx)(\"input\",{type:\"tel\",className:\"form-control \".concat(E.telephone?\"is-invalid\":\"\"),placeholder:\"Mobile or Home\",maxLength:20,name:\"telephone\",onBlur:function(e){je()},disabled:$,ref:D({required:\"Telephone is required.\",validate:function(e){return!0===Object(h.d)(e)||\"Please specify a valid UK phone number.\"}})}),E.telephone?Object(a.jsx)(\"span\",{className:\"invalid-feedback d-block\",children:null===(n=E.telephone)||void 0===n?void 0:n.message}):null]}),Object(a.jsxs)(\"div\",{className:\"col-24 col-lg-12 form-group\",children:[Object(a.jsxs)(\"label\",{children:[\"Email \",Object(a.jsx)(\"span\",{children:\"(Required)\"})]}),Object(a.jsx)(\"input\",{type:\"email\",className:\"form-control \".concat(E.email?\"is-invalid\":\"\"),placeholder:\"E.g. johnsmith@website.co.uk\",maxLength:50,name:\"email\",onBlur:function(e){I.isInternal||(e.target.value&&Object(h.a)(e.target.value)?z(e.target.value):z(null)),je()},disabled:$,ref:D({required:\"Email is required.\",validate:function(e){return!0===Object(h.a)(e)||\"Email is invalid.\"}})}),E.email?Object(a.jsx)(\"span\",{className:\"invalid-feedback d-block\",children:null===(t=E.email)||void 0===t?void 0:t.message}):null]}),I.isInternal?Object(a.jsxs)(\"div\",{className:\"col-24 col-lg-12 form-group\",children:[Object(a.jsx)(\"label\",{children:\"Salesperson\"}),Object(a.jsxs)(\"select\",{className:\"form-control\",name:\"salesPersonId\",onChange:function(e){je()},disabled:$,ref:D,children:[Object(a.jsx)(\"option\",{value:\"\",children:\"Please select\"}),K.map((function(e){return Object(a.jsx)(\"option\",{value:e.id,children:e.fullName},e.id)}))]})]}):null]}),I.isInternal&&$?Object(a.jsx)(\"div\",{className:\"row\",children:Object(a.jsxs)(\"div\",{className:\"col-24\",children:[ce&&ce.name?Object(a.jsxs)(a.Fragment,{children:[\"Account with these details already exists for Owner: \",ce.name]}):null,te.map((function(e,n){return Object(a.jsxs)(\"div\",{children:[Object(a.jsx)(\"input\",{type:\"radio\",className:\"d-inline mr-1\",name:\"ownerId\",id:\"salesPerson_\".concat(n),value:e.id,defaultChecked:ce.id===e.id,ref:D({required:\"Owner is required.\"})}),Object(a.jsx)(\"label\",{className:\"d-inline\",htmlFor:\"salesPerson_\".concat(n),children:e.text})]},e.id)})),E.ownerId?Object(a.jsx)(\"span\",{className:\"invalid-feedback d-block\",children:null===(i=E.ownerId)||void 0===i?void 0:i.message}):null]})}):null,I.isInternal?null:Object(a.jsx)(\"div\",{className:\"row\",children:Object(a.jsxs)(\"div\",{className:\"col-24\",children:[Object(a.jsx)(d.a,{emailAddress:V,settings:{onVerificationStart:function(){W(!0)},onVerificationComplete:function(){W(!1)}}}),Object(a.jsx)(u.a,{})]})})]}):null,2===se?Object(a.jsx)(\"div\",{className:\"row\",children:Object(a.jsxs)(\"div\",{className:\"col-24\",children:[Object(a.jsxs)(\"ul\",{className:\"mb-3\",children:[Object(a.jsxs)(\"li\",{children:[\"We are \",Object(a.jsx)(\"strong\",{children:\"Leasing Options Limited\"}),\", a credit intermediary for vehicle finance and insurance related products. Our registered office is \",Object(a.jsx)(\"strong\",{children:\"Options House, Atkin Street, Worsley, Manchester, M28 3DG\"})]}),Object(a.jsxs)(\"li\",{children:[\"We are authorised and regulated by the Financial Conduct Authority. Registered no: \",Object(a.jsx)(\"strong\",{children:\"660061\"}),\".\"]}),Object(a.jsx)(\"li\",{children:\"We are a credit broker of vehicle finance, we are not a funder or a lender.\"}),Object(a.jsxs)(\"li\",{children:[\"We charge a Processing Fee of \",Object(f.a)(R),\" including VAT which is only payable at order stage, once acceptable finance has been obtained, as a contribution to the costs incurred in processing the vehicle finance agreement. We do not charge fees for processing insurance products. Payment of the Processing Fee can be made on-line using a credit or debit card or by BACs transfer.\"]})]}),Object(a.jsxs)(\"div\",{className:\"form-group\",children:[Object(a.jsxs)(\"div\",{className:\"form-check form-check-inline privacy-agreement\",children:[Object(a.jsx)(\"input\",{type:\"checkbox\",className:\"form-check-input\",id:\"infoConfirmed\",name:\"informationNoticeConfirmed\",ref:D({validate:function(e){return!0===e||\"Information Notice confirmation required.\"}})}),Object(a.jsx)(\"label\",{htmlFor:\"infoConfirmed\",className:E.informationNoticeConfirmed?\"invalid-feedback\":null,children:\"Please respond to this 'Information Notice' confirming that you understand and acknowledge the above and that you are happy to proceed. Any delays in receiving confirmation may impact on the rates quoted.\"})]}),E.informationNoticeConfirmed&&Object(a.jsx)(\"span\",{className:\"invalid-feedback d-block\",children:null===(y=E.informationNoticeConfirmed)||void 0===y?void 0:y.message})]})]})}):null,I.showPriceWarning?Object(a.jsx)(\"div\",{className:\"row\",children:Object(a.jsx)(\"div\",{className:\"col-24\",children:Object(a.jsxs)(\"div\",{className:\"alert alert-warning\",role:\"alert\",children:[Object(a.jsx)(\"strong\",{children:\"IMPORTANT:\"}),\" This is an indicative price, please speak to your account manager for the exact rental.\"]})})}):null]}))}),Object(a.jsx)(o.a.Footer,{children:Object(a.jsx)(\"button\",{type:\"button\",className:\"btn btn-primary btn-lg\",onClick:A((function(e){if(!M&&!_)if(1===se){B(!0);var n=e.email,t=e.telephone;(function(e,n,t){return new Promise((function(a){Y&&(ee(!1),re(null)),Y&&e?C.VerifySalesPerson(e,n,t).then((function(n){var t=!1;if(Z(!1),n.isSucceed&&n.data.isRequired&&n.data.salesPersons){ee(!0);var i=n.data.salesPersons,c=i.find((function(e){return e.isExisting}));c&&re({id:c.id,name:c.text}),ae(i),t=!0}else re({id:e,name:null});a(t)})):(Z(!1),a(!1))}))})(e.salesPersonId,n,t).then((function(a){if(a)B(!1);else{var i={fullName:e.fullName,telephone:e.telephone,email:e.email,companyName:e.companyName,ownerId:e.ownerId||e.salesPersonId||null,allowedCommunicationTypes:e.allowedCommunicationTypes};I.proceededToApplyForFinanceDirectly?C.CheckInformationNoticAcceptance(n,t).then((function(e){e?(me((function(e){return q(q({},e),i)})),B(!1),oe(2)):be(i)})):be(i)}}))}else if(2===se){var a=q({},ue);a.informationNoticeConfirmed=e.informationNoticeConfirmed,be(a)}})),children:M?Object(a.jsx)(m.a,{width:\"16\",height:\"16\",icon:j.x,className:\"fa-spin\"}):\"Submit\"})})]}))}}}]);","map":{"version":3,"sources":["static/chunks/4d36c3c8e0f50b7a2f17c591e121ffab8d1cbcbd.5caa652589de35df0816.js"],"names":["window","push","9U2n","module","__webpack_exports__","__webpack_require__","d","vehicle_quote_enquiry_modal","jsx_runtime","defineProperty","objectWithoutProperties","react","react_hook_form_es","next_router","Modal","marketing_consent","privacy_policy_consent","index_es","pro_regular_svg_icons_index_es","LeasingDealTypes","currencyHelper","validation","analytics","cookiesHelper","urlHelper","marketingCommunicationsService","enquiryService","regenerator","regenerator_default","n","asyncToGenerator","classCallCheck","createClass","systemService","quotesService_QuotesService","QuotesService","Object","this","key","value","_VerifySalesPerson2","a","mark","_callee","salesPersonId","emailAddress","telephone","wrap","_context","prev","next","abrupt","stop","_x","_x2","_x3","apply","arguments","_CheckInformationNoticAcceptance2","_callee2","_context2","Promise","resolve","then","response","result","isSucceed","data","_x4","_x5","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","_objectSpread","target","i","length","source","forEach","getOwnPropertyDescriptors","defineProperties","_ref","_errors$telephone","_errors$email","_errors$ownerId","_errors$informationNo","title","baseData","settings","onRequestClose","otherProps","router","methods","register","handleSubmit","errors","procFee","parseFloat","_useState","isLoading","setIsLoading","_useState2","marketingConsentIsVerifying","setMarketingConsentIsVerifying","_useState3","emailAddressConsent","setEmailAddressConsent","_useState4","salesPersons","setSalesPersons","_useState5","salesPersonVerificationRequired","setSalesPersonVerificationRequired","_useState6","ownerConfirmRequired","setOwnerConfirmRequired","_useState7","owners","setOwners","_useState8","owner","setOwner","_useState9","step","setStep","_useState10","fullName","email","companyName","ownerId","allowedCommunicationTypes","informationNoticeConfirmed","formState","setFormState","isInternal","setSalesPersonVerificationFlag","doSubmit","formData","enquiryData","quoteEnquiryType","proceededToApplyForFinanceDirectly","isIDDAccepted","leasingDealType","gaClientId","SubmitQuoteEnquiry","expiryDate","Date","setFullYear","getFullYear","SetToSeenMarketingForm","privacyConfirmed","toString","url","encodeURI","location","href","includes","onHide","centered","scrollable","children","Header","className","closeButton","Title","getTitle","Body","leasingMessage","type","concat","placeholder","maxLength","name","disabled","ref","required","Personal","onBlur","event","validate","message","onChange","map","item","id","idx","defaultChecked","htmlFor","text","onVerificationStart","onVerificationComplete","showPriceWarning","role","Footer","onClick","VerifySalesPerson","stopExecutionFlag","isRequired","ownersList","existingOwner","find","isExisting","verifySalesPerson","verifySalesPersonStopExecutionFlag","CheckInformationNoticAcceptance","prevState","width","height","icon"],"mappings":"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"},"name":"static/chunks/4d36c3c8e0f50b7a2f17c591e121ffab8d1cbcbd.5caa652589de35df0816.js","input":"(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[32],{\n\n/***/ \"9U2n\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"a\", function() { return /* reexport */ vehicle_quote_enquiry_modal; });\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(\"nKUr\");\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(\"rePB\");\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\nvar objectWithoutProperties = __webpack_require__(\"Ff2n\");\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(\"q1tI\");\n\n// EXTERNAL MODULE: ./node_modules/react-hook-form/dist/react-hook-form.es.js\nvar react_hook_form_es = __webpack_require__(\"MHX4\");\n\n// EXTERNAL MODULE: ../website/node_modules/next/router.js\nvar next_router = __webpack_require__(\"20a2\");\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Modal.js + 22 modules\nvar Modal = __webpack_require__(\"zM5D\");\n\n// EXTERNAL MODULE: ./components/marketing-consent/index.jsx + 1 modules\nvar marketing_consent = __webpack_require__(\"SeHH\");\n\n// EXTERNAL MODULE: ./components/privacy-policy-consent/index.jsx + 2 modules\nvar privacy_policy_consent = __webpack_require__(\"8ua7\");\n\n// EXTERNAL MODULE: ./node_modules/@fortawesome/react-fontawesome/index.es.js\nvar index_es = __webpack_require__(\"IP2g\");\n\n// EXTERNAL MODULE: ./node_modules/@fortawesome/pro-regular-svg-icons/index.es.js\nvar pro_regular_svg_icons_index_es = __webpack_require__(\"uB96\");\n\n// EXTERNAL MODULE: ./enums/LeasingDealTypes.tsx\nvar LeasingDealTypes = __webpack_require__(\"l7ai\");\n\n// EXTERNAL MODULE: ./helpers/currencyHelper.tsx\nvar currencyHelper = __webpack_require__(\"oszm\");\n\n// EXTERNAL MODULE: ./helpers/validation.tsx\nvar validation = __webpack_require__(\"gt28\");\n\n// EXTERNAL MODULE: ./helpers/analytics.tsx + 12 modules\nvar analytics = __webpack_require__(\"btDt\");\n\n// EXTERNAL MODULE: ./helpers/cookiesHelper.tsx\nvar cookiesHelper = __webpack_require__(\"DQXc\");\n\n// EXTERNAL MODULE: ./helpers/urlHelper.tsx\nvar urlHelper = __webpack_require__(\"zjkP\");\n\n// EXTERNAL MODULE: ./business-logic/marketingCommunicationsService.tsx\nvar marketingCommunicationsService = __webpack_require__(\"2inZ\");\n\n// EXTERNAL MODULE: ./business-logic/enquiryService.tsx + 3 modules\nvar enquiryService = __webpack_require__(\"7Sq+\");\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(\"o0o1\");\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(\"HaE+\");\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(\"1OyB\");\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(\"vuIU\");\n\n// EXTERNAL MODULE: ./business-logic/systemService.tsx + 1 modules\nvar systemService = __webpack_require__(\"uDbZ\");\n\n// CONCATENATED MODULE: ./business-logic/quotesService.tsx\n\n\n\n\n\nvar quotesService_QuotesService = /*#__PURE__*/function () {\n  function QuotesService() {\n    Object(classCallCheck[\"a\" /* default */])(this, QuotesService);\n  }\n\n  Object(createClass[\"a\" /* default */])(QuotesService, null, [{\n    key: \"VerifySalesPerson\",\n    value: function () {\n      var _VerifySalesPerson2 = Object(asyncToGenerator[\"a\" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(salesPersonId, emailAddress, telephone) {\n        return regenerator_default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                return _context.abrupt(\"return\", Object(systemService[\"i\" /* VerifySalesPerson */])(salesPersonId, emailAddress, telephone));\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function VerifySalesPerson(_x, _x2, _x3) {\n        return _VerifySalesPerson2.apply(this, arguments);\n      }\n\n      return VerifySalesPerson;\n    }()\n  }, {\n    key: \"CheckInformationNoticAcceptance\",\n    value: function () {\n      var _CheckInformationNoticAcceptance2 = Object(asyncToGenerator[\"a\" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2(emailAddress, telephone) {\n        return regenerator_default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                return _context2.abrupt(\"return\", new Promise(function (resolve) {\n                  Object(systemService[\"a\" /* CheckInformationNoticAcceptance */])(emailAddress, telephone).then(function (response) {\n                    var result = response.isSucceed ? response.data : false;\n                    resolve(result);\n                  });\n                }));\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function CheckInformationNoticAcceptance(_x4, _x5) {\n        return _CheckInformationNoticAcceptance2.apply(this, arguments);\n      }\n\n      return CheckInformationNoticAcceptance;\n    }()\n  }]);\n\n  return QuotesService;\n}();\n// CONCATENATED MODULE: ./components/vehicle/vehicle-quote-enquiry-modal/vehicle-quote-enquiry-modal.tsx\n\n\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { Object(defineProperty[\"a\" /* default */])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar vehicle_quote_enquiry_modal_VehicleQuoteEnquiryModal = function VehicleQuoteEnquiryModal(_ref) {\n  var _errors$telephone, _errors$email, _errors$ownerId, _errors$informationNo;\n\n  var title = _ref.title,\n      baseData = _ref.baseData,\n      settings = _ref.settings,\n      onRequestClose = _ref.onRequestClose,\n      otherProps = Object(objectWithoutProperties[\"a\" /* default */])(_ref, [\"title\", \"baseData\", \"settings\", \"onRequestClose\"]);\n\n  var router = Object(next_router[\"useRouter\"])();\n  var methods = Object(react_hook_form_es[\"c\" /* useForm */])();\n  var register = methods.register,\n      handleSubmit = methods.handleSubmit,\n      errors = methods.errors;\n  var procFee = parseFloat(\"199\");\n\n  var _useState = Object(react[\"useState\"])(false),\n      isLoading = _useState[0],\n      setIsLoading = _useState[1];\n\n  var _useState2 = Object(react[\"useState\"])(false),\n      marketingConsentIsVerifying = _useState2[0],\n      setMarketingConsentIsVerifying = _useState2[1];\n\n  var _useState3 = Object(react[\"useState\"])(null),\n      emailAddressConsent = _useState3[0],\n      setEmailAddressConsent = _useState3[1];\n\n  var _useState4 = Object(react[\"useState\"])(settings.salesPersons || []),\n      salesPersons = _useState4[0],\n      setSalesPersons = _useState4[1];\n\n  var _useState5 = Object(react[\"useState\"])(false),\n      salesPersonVerificationRequired = _useState5[0],\n      setSalesPersonVerificationRequired = _useState5[1];\n\n  var _useState6 = Object(react[\"useState\"])(false),\n      ownerConfirmRequired = _useState6[0],\n      setOwnerConfirmRequired = _useState6[1];\n\n  var _useState7 = Object(react[\"useState\"])([]),\n      owners = _useState7[0],\n      setOwners = _useState7[1];\n\n  var _useState8 = Object(react[\"useState\"])(null),\n      owner = _useState8[0],\n      setOwner = _useState8[1];\n\n  var _useState9 = Object(react[\"useState\"])(1),\n      step = _useState9[0],\n      setStep = _useState9[1];\n\n  var _useState10 = Object(react[\"useState\"])({\n    fullName: null,\n    telephone: null,\n    email: null,\n    companyName: null,\n    ownerId: null,\n    allowedCommunicationTypes: null,\n    informationNoticeConfirmed: false\n  }),\n      formState = _useState10[0],\n      setFormState = _useState10[1]; //TODO: get salespersons with settings\n\n\n  Object(react[\"useEffect\"])(function () {\n    if (salesPersons.length === 0 && settings.isInternal) {\n      Object(systemService[\"b\" /* GetSalesPeople */])().then(function (result) {\n        setSalesPersons(result.data);\n      });\n    }\n  }, []);\n\n  var getTitle = function getTitle(step) {\n    var result = title;\n\n    if (step === 2) {\n      result = \"Information Notice\";\n    }\n\n    return result;\n  }; //Fires only when input loses focus and triggers marketing-consent to reinitialize\n\n\n  var handleEmailFocusOut = function handleEmailFocusOut(event) {\n    if (!settings.isInternal) {\n      if (event.target.value && Object(validation[\"a\" /* EmailAddressIsValid */])(event.target.value)) {\n        setEmailAddressConsent(event.target.value);\n      } else {\n        setEmailAddressConsent(null);\n      }\n    }\n\n    setSalesPersonVerificationFlag();\n  };\n\n  var handleTelephoneFocusOut = function handleTelephoneFocusOut(event) {\n    setSalesPersonVerificationFlag();\n  };\n\n  var handleSalesPersonChange = function handleSalesPersonChange(event) {\n    setSalesPersonVerificationFlag();\n  };\n\n  var setSalesPersonVerificationFlag = function setSalesPersonVerificationFlag() {\n    if (settings.isInternal) {\n      setSalesPersonVerificationRequired(true);\n      setOwnerConfirmRequired(false);\n      setOwners([]);\n      setOwner(null);\n    }\n  };\n\n  var verifySalesPerson = function verifySalesPerson(salesPersonId, email, telephone) {\n    return new Promise(function (resolve) {\n      if (salesPersonVerificationRequired) {\n        setOwnerConfirmRequired(false);\n        setOwner(null);\n      }\n\n      if (salesPersonVerificationRequired && salesPersonId) {\n        quotesService_QuotesService.VerifySalesPerson(salesPersonId, email, telephone).then(function (result) {\n          var stopExecutionFlag = false;\n          setSalesPersonVerificationRequired(false);\n\n          if (result.isSucceed && result.data.isRequired && result.data.salesPersons) {\n            setOwnerConfirmRequired(true);\n            var ownersList = result.data.salesPersons;\n            var existingOwner = ownersList.find(function (item) {\n              return item.isExisting;\n            });\n\n            if (existingOwner) {\n              setOwner({\n                id: existingOwner.id,\n                name: existingOwner.text\n              });\n            }\n\n            setOwners(ownersList);\n            stopExecutionFlag = true;\n          } else {\n            setOwner({\n              id: salesPersonId,\n              name: null\n            });\n          }\n\n          resolve(stopExecutionFlag);\n        });\n      } else {\n        setSalesPersonVerificationRequired(false);\n        resolve(false);\n      }\n    });\n  };\n\n  var onSubmit = function onSubmit(data) {\n    if (!isLoading && !marketingConsentIsVerifying) {\n      if (step === 1) {\n        setIsLoading(true);\n        var email = data.email;\n        var telephone = data.telephone;\n        var salesPersonId = data.salesPersonId;\n        verifySalesPerson(salesPersonId, email, telephone).then(function (verifySalesPersonStopExecutionFlag) {\n          if (verifySalesPersonStopExecutionFlag) {\n            setIsLoading(false);\n          } else {\n            var formData = {\n              fullName: data.fullName,\n              telephone: data.telephone,\n              email: data.email,\n              companyName: data.companyName,\n              ownerId: data.ownerId || data.salesPersonId || null,\n              allowedCommunicationTypes: data.allowedCommunicationTypes\n            };\n\n            if (settings.proceededToApplyForFinanceDirectly) {\n              quotesService_QuotesService.CheckInformationNoticAcceptance(email, telephone).then(function (result) {\n                if (result) {\n                  setFormState(function (prevState) {\n                    return _objectSpread(_objectSpread({}, prevState), formData);\n                  });\n                  setIsLoading(false);\n                  setStep(2);\n                } else {\n                  doSubmit(formData);\n                }\n              });\n            } else {\n              doSubmit(formData);\n            }\n          }\n        });\n      } else if (step === 2) {\n        var formData = _objectSpread({}, formState);\n\n        formData.informationNoticeConfirmed = data.informationNoticeConfirmed;\n        doSubmit(formData);\n      }\n    }\n  };\n\n  var doSubmit = function doSubmit(formData) {\n    if (formData && baseData) {\n      setIsLoading(true);\n\n      var enquiryData = _objectSpread(_objectSpread({}, baseData), {}, {\n        quoteEnquiryType: settings.proceededToApplyForFinanceDirectly ? 2 : 1,\n        isIDDAccepted: settings.proceededToApplyForFinanceDirectly && formData.informationNoticeConfirmed,\n        fullName: formData.fullName,\n        telephone: formData.telephone,\n        email: formData.email,\n        companyName: baseData.leasingDealType !== 2 ? formData.companyName : null,\n        gaClientId: Object(analytics[\"a\" /* getGAClientId */])()\n      });\n\n      if (settings.isInternal) {\n        enquiryData.salesPersonId = formData.ownerId;\n      } else {\n        enquiryData.allowedCommunicationTypes = formData.allowedCommunicationTypes || null;\n      }\n\n      enquiryService[\"a\" /* EnquiryService */].SubmitQuoteEnquiry(enquiryData).then(function (result) {\n        setIsLoading(false);\n\n        if (result.isSucceed && result.data) {\n          if (!settings.isInternal) {\n            var expiryDate = new Date();\n            expiryDate.setFullYear(expiryDate.getFullYear() + 1);\n\n            if (enquiryData.allowedCommunicationTypes) {\n              marketingCommunicationsService[\"a\" /* MarketingCommunicationsService */].SetToSeenMarketingForm(enquiryData.email, expiryDate);\n            }\n\n            if (formData.privacyConfirmed) {\n              Object(cookiesHelper[\"b\" /* setPrivacyAccepted */])(expiryDate);\n            }\n          }\n\n          if (settings.proceededToApplyForFinanceDirectly) {\n            switch (enquiryData.leasingDealType.toString()) {\n              case \"1\":\n              case \"3\":\n                var url = \"/proposal_business?directfinance=1&fromconfirmquote=1&enquiryid=\" + result.data + \"&email=\" + encodeURI(enquiryData.email) + \"&fromInsuredLeasing=\" + (window.location.href.includes(\"car-leasing-with-insurance\") ? \"1\" : \"0\");\n                router.push(url);\n                break;\n\n              case \"2\":\n                var url = \"/proposal_personal?directfinance=1&fromconfirmquote=1&enquiryid=\" + result.data + \"&email=\" + encodeURI(enquiryData.email) + \"&fromInsuredLeasing=\" + (window.location.href.includes(\"car-leasing-with-insurance\") ? \"1\" : \"0\");\n                router.push(url);\n                break;\n            }\n          } else {\n            if (settings.isInternal) {\n              router.push(Object(urlHelper[\"r\" /* GetThankYouPageUrl */])(true));\n            } else {\n              router.push(Object(urlHelper[\"r\" /* GetThankYouPageUrl */])(false, \"quoteconfirm\"));\n            }\n          }\n\n          onRequestClose();\n        }\n      });\n    }\n  };\n\n  return /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Modal[\"a\" /* default */], _objectSpread(_objectSpread({\n    onHide: onRequestClose,\n    centered: true,\n    scrollable: false\n  }, otherProps), {}, {\n    children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */].Header, {\n      className: \"d-flex flex-nowrap justify-content-center align-items-center\",\n      closeButton: true,\n      children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */].Title, {\n        className: \"mb-0\",\n        children: getTitle(step)\n      })\n    }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */].Body, {\n      children: /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_hook_form_es[\"b\" /* FormContext */], _objectSpread(_objectSpread({}, methods), {}, {\n        children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n            className: \"col-24\",\n            children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\", {\n              children: \"A member of our team will contact you shortly after your submission.\"\n            })\n          })\n        }), step === 1 ? /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"], {\n          children: [/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n            className: \"row\",\n            children: [settings.leasingMessage ? /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n              className: \"col-24\",\n              children: /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\", {\n                children: [\"I\\u2019m interested in leasing of \", /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"strong\", {\n                  children: settings.leasingMessage\n                })]\n              })\n            }) : null, /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n              className: \"col-24 col-lg-12 form-group\",\n              children: [/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\", {\n                children: [\"Full Name \", /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\", {\n                  children: \"(Required)\"\n                })]\n              }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\", {\n                type: \"text\",\n                className: \"form-control \".concat(errors.fullName ? \"is-invalid\" : \"\"),\n                placeholder: \"First & Last Name\",\n                maxLength: 50,\n                name: \"fullName\",\n                disabled: ownerConfirmRequired,\n                ref: register({\n                  required: true\n                })\n              }), errors.fullName ? /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\", {\n                className: \"invalid-feedback d-block\",\n                children: \"Full Name is required.\"\n              }) : null]\n            }), baseData.leasingDealType !== LeasingDealTypes[\"a\" /* LeasingDealTypes */].Personal ? /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n              className: \"col-24 col-lg-12 form-group\",\n              children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\", {\n                children: \"Company Name\"\n              }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\", {\n                type: \"text\",\n                className: \"form-control\",\n                placeholder: \"Company Name\",\n                maxLength: 50,\n                name: \"companyName\",\n                disabled: ownerConfirmRequired,\n                ref: register()\n              })]\n            }) : null, /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n              className: \"col-24 col-lg-12 form-group\",\n              children: [/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\", {\n                children: [\"Telephone \", /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\", {\n                  children: \"(Required)\"\n                })]\n              }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\", {\n                type: \"tel\",\n                className: \"form-control \".concat(errors.telephone ? \"is-invalid\" : \"\"),\n                placeholder: \"Mobile or Home\",\n                maxLength: 20,\n                name: \"telephone\",\n                onBlur: handleTelephoneFocusOut,\n                disabled: ownerConfirmRequired,\n                ref: register({\n                  required: 'Telephone is required.',\n                  validate: function validate(value) {\n                    return Object(validation[\"d\" /* PhoneNumberIsValid */])(value) === true || 'Please specify a valid UK phone number.';\n                  }\n                })\n              }), errors.telephone ? /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\", {\n                className: \"invalid-feedback d-block\",\n                children: (_errors$telephone = errors.telephone) === null || _errors$telephone === void 0 ? void 0 : _errors$telephone.message\n              }) : null]\n            }), /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n              className: \"col-24 col-lg-12 form-group\",\n              children: [/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\", {\n                children: [\"Email \", /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\", {\n                  children: \"(Required)\"\n                })]\n              }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\", {\n                type: \"email\",\n                className: \"form-control \".concat(errors.email ? \"is-invalid\" : \"\"),\n                placeholder: \"E.g. johnsmith@website.co.uk\",\n                maxLength: 50,\n                name: \"email\",\n                onBlur: handleEmailFocusOut,\n                disabled: ownerConfirmRequired,\n                ref: register({\n                  required: 'Email is required.',\n                  validate: function validate(value) {\n                    return Object(validation[\"a\" /* EmailAddressIsValid */])(value) === true || 'Email is invalid.';\n                  }\n                })\n              }), errors.email ? /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\", {\n                className: \"invalid-feedback d-block\",\n                children: (_errors$email = errors.email) === null || _errors$email === void 0 ? void 0 : _errors$email.message\n              }) : null]\n            }), settings.isInternal ? /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n              className: \"col-24 col-lg-12 form-group\",\n              children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\", {\n                children: \"Salesperson\"\n              }), /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\", {\n                className: \"form-control\",\n                name: \"salesPersonId\",\n                onChange: handleSalesPersonChange,\n                disabled: ownerConfirmRequired,\n                ref: register,\n                children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\", {\n                  value: \"\",\n                  children: \"Please select\"\n                }), salesPersons.map(function (item) {\n                  return /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\", {\n                    value: item.id,\n                    children: item.fullName\n                  }, item.id);\n                })]\n              })]\n            }) : null]\n          }), settings.isInternal && ownerConfirmRequired ? /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n            className: \"row\",\n            children: /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n              className: \"col-24\",\n              children: [owner && owner.name ? /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"], {\n                children: [\"Account with these details already exists for Owner: \", owner.name]\n              }) : null, owners.map(function (item, idx) {\n                return /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n                  children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\", {\n                    type: \"radio\",\n                    className: \"d-inline mr-1\",\n                    name: \"ownerId\",\n                    id: \"salesPerson_\".concat(idx),\n                    value: item.id,\n                    defaultChecked: owner.id === item.id,\n                    ref: register({\n                      required: 'Owner is required.'\n                    })\n                  }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\", {\n                    className: \"d-inline\",\n                    htmlFor: \"salesPerson_\".concat(idx),\n                    children: item.text\n                  })]\n                }, item.id);\n              }), errors.ownerId ? /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\", {\n                className: \"invalid-feedback d-block\",\n                children: (_errors$ownerId = errors.ownerId) === null || _errors$ownerId === void 0 ? void 0 : _errors$ownerId.message\n              }) : null]\n            })\n          }) : null, !settings.isInternal ? /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n            className: \"row\",\n            children: /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n              className: \"col-24\",\n              children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(marketing_consent[\"a\" /* default */], {\n                emailAddress: emailAddressConsent,\n                settings: {\n                  onVerificationStart: function onVerificationStart() {\n                    setMarketingConsentIsVerifying(true);\n                  },\n                  onVerificationComplete: function onVerificationComplete() {\n                    setMarketingConsentIsVerifying(false);\n                  }\n                }\n              }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(privacy_policy_consent[\"a\" /* default */], {})]\n            })\n          }) : null]\n        }) : null, step === 2 ? /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n            className: \"col-24\",\n            children: [/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"ul\", {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"li\", {\n                children: [\"We are \", /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"strong\", {\n                  children: \"Leasing Options Limited\"\n                }), \", a credit intermediary for vehicle finance and insurance related products. Our registered office is \", /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"strong\", {\n                  children: \"Options House, Atkin Street, Worsley, Manchester, M28 3DG\"\n                })]\n              }), /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"li\", {\n                children: [\"We are authorised and regulated by the Financial Conduct Authority. Registered no: \", /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"strong\", {\n                  children: \"660061\"\n                }), \".\"]\n              }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\", {\n                children: \"We are a credit broker of vehicle finance, we are not a funder or a lender.\"\n              }), /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"li\", {\n                children: [\"We charge a Processing Fee of \", Object(currencyHelper[\"a\" /* formatMoney */])(procFee), \" including VAT which is only payable at order stage, once acceptable finance has been obtained, as a contribution to the costs incurred in processing the vehicle finance agreement. We do not charge fees for processing insurance products. Payment of the Processing Fee can be made on-line using a credit or debit card or by BACs transfer.\"]\n              })]\n            }), /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n                className: \"form-check form-check-inline privacy-agreement\",\n                children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\", {\n                  type: \"checkbox\",\n                  className: \"form-check-input\",\n                  id: \"infoConfirmed\",\n                  name: \"informationNoticeConfirmed\",\n                  ref: register({\n                    validate: function validate(value) {\n                      return value === true || \"Information Notice confirmation required.\";\n                    }\n                  })\n                }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\", {\n                  htmlFor: \"infoConfirmed\",\n                  className: errors.informationNoticeConfirmed ? \"invalid-feedback\" : null,\n                  children: \"Please respond to this 'Information Notice' confirming that you understand and acknowledge the above and that you are happy to proceed. Any delays in receiving confirmation may impact on the rates quoted.\"\n                })]\n              }), errors.informationNoticeConfirmed && /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\", {\n                className: \"invalid-feedback d-block\",\n                children: (_errors$informationNo = errors.informationNoticeConfirmed) === null || _errors$informationNo === void 0 ? void 0 : _errors$informationNo.message\n              })]\n            })]\n          })\n        }) : null, settings.showPriceWarning ? /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n            className: \"col-24\",\n            children: /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n              className: \"alert alert-warning\",\n              role: \"alert\",\n              children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"strong\", {\n                children: \"IMPORTANT:\"\n              }), \" This is an indicative price, please speak to your account manager for the exact rental.\"]\n            })\n          })\n        }) : null]\n      }))\n    }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */].Footer, {\n      children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\", {\n        type: \"button\",\n        className: \"btn btn-primary btn-lg\",\n        onClick: handleSubmit(onSubmit),\n        children: isLoading ? /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_es[\"a\" /* FontAwesomeIcon */], {\n          width: \"16\",\n          height: \"16\",\n          icon: pro_regular_svg_icons_index_es[\"x\" /* faSpinner */],\n          className: \"fa-spin\"\n        }) : \"Submit\"\n      })\n    })]\n  }));\n};\n\n/* harmony default export */ var vehicle_quote_enquiry_modal = (vehicle_quote_enquiry_modal_VehicleQuoteEnquiryModal);\n// CONCATENATED MODULE: ./components/vehicle/vehicle-quote-enquiry-modal/index.jsx\n\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["E:\\current_project\\PPH\\tfs\\Website\\website\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!E:\\current_project\\PPH\\tfs\\Website\\Website\\business-logic\\quotesService.tsx","E:\\current_project\\PPH\\tfs\\Website\\website\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!E:\\current_project\\PPH\\tfs\\Website\\Website\\components\\vehicle\\vehicle-quote-enquiry-modal\\vehicle-quote-enquiry-modal.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAA6D;AACe;AACJ;AACN;AAC6E;AACxI,IAAI,2BAAa;AACxB;AACA,IAAI,yCAAe;AACnB;;AAEA,EAAE,sCAAY;AACd;AACA;AACA,gCAAgC,2CAAiB,eAAe,qBAAmB;AACnF,eAAe,qBAAmB;AAClC;AACA;AACA;AACA,iDAAiD,kDAAkB;;AAEnE;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;;AAEP;AACA;AACA;;AAEA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA,8CAA8C,2CAAiB,eAAe,qBAAmB;AACjG,eAAe,qBAAmB;AAClC;AACA;AACA;AACA;AACA,kBAAkB,gEAAgC;AAClD;AACA;AACA,mBAAmB;AACnB,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;;AAEP;AACA;AACA;;AAEA;AACA,KAAK;AACL,GAAG;;AAEH;AACA,CAAC,G;;AClEyD;AACR;AACF;AACwB;AACkB;;AAE1F,0CAA0C,gCAAgC,oCAAoC,oDAAoD,8DAA8D,gEAAgE,EAAE,EAAE,gCAAgC,EAAE,aAAa;;AAEnV,gCAAgC,gBAAgB,sBAAsB,OAAO,uDAAuD,aAAa,uDAAuD,CAAC,yCAAe,2BAA2B,EAAE,EAAE,EAAE,6CAA6C,2EAA2E,EAAE,OAAO,iDAAiD,kFAAkF,EAAE,EAAE,EAAE,EAAE,eAAe;;AAEje;AACI;AACf;AACE;AACkB;AACS;AACJ;AACF;AACL;AACL;AACwB;AAC3B;AACS;AACJ;AACwC;AAChC;AACF;AACC;;AAE9D,IAAI,oDAAwB;AAC5B;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,kDAAwB;;AAE3C,eAAe,gCAAS;AACxB,gBAAgB,6CAAO;AACvB;AACA;AACA;AACA,2BAA2B,KAAoC;;AAE/D,kBAAkB,yBAAQ;AAC1B;AACA;;AAEA,mBAAmB,yBAAQ;AAC3B;AACA;;AAEA,mBAAmB,yBAAQ;AAC3B;AACA;;AAEA,mBAAmB,yBAAQ;AAC3B;AACA;;AAEA,mBAAmB,yBAAQ;AAC3B;AACA;;AAEA,mBAAmB,yBAAQ;AAC3B;AACA;;AAEA,mBAAmB,yBAAQ;AAC3B;AACA;;AAEA,mBAAmB,yBAAQ;AAC3B;AACA;;AAEA,mBAAmB,yBAAQ;AAC3B;AACA;;AAEA,oBAAoB,yBAAQ;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,oCAAoC;;;AAGpC,EAAE,0BAAS;AACX;AACA,MAAM,+CAAc;AACpB;AACA,OAAO;AACP;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;;AAEA;AACA,IAAI;;;AAGJ;AACA;AACA,gCAAgC,iDAAmB;AACnD;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,QAAQ,2BAAa;AACrB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA,eAAe;AACf;;AAEA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,cAAc,2BAAa;AAC3B;AACA;AACA,yDAAyD;AACzD,mBAAmB;AACnB;AACA;AACA,iBAAiB;AACjB;AACA;AACA,eAAe;AACf,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP,uCAAuC;;AAEvC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,sDAAsD,eAAe;AACrE;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,0CAAa;AACjC,OAAO;;AAEP;AACA;AACA,OAAO;AACP;AACA;;AAEA,MAAM,wCAAc;AACpB;;AAEA;AACA;AACA;AACA;;AA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","file":"x","sourcesContent":["import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport { VerifySalesPerson as _VerifySalesPerson, CheckInformationNoticAcceptance as _CheckInformationNoticAcceptance } from \"./systemService\";\nexport var QuotesService = /*#__PURE__*/function () {\n  function QuotesService() {\n    _classCallCheck(this, QuotesService);\n  }\n\n  _createClass(QuotesService, null, [{\n    key: \"VerifySalesPerson\",\n    value: function () {\n      var _VerifySalesPerson2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(salesPersonId, emailAddress, telephone) {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                return _context.abrupt(\"return\", _VerifySalesPerson(salesPersonId, emailAddress, telephone));\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function VerifySalesPerson(_x, _x2, _x3) {\n        return _VerifySalesPerson2.apply(this, arguments);\n      }\n\n      return VerifySalesPerson;\n    }()\n  }, {\n    key: \"CheckInformationNoticAcceptance\",\n    value: function () {\n      var _CheckInformationNoticAcceptance2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(emailAddress, telephone) {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                return _context2.abrupt(\"return\", new Promise(function (resolve) {\n                  _CheckInformationNoticAcceptance(emailAddress, telephone).then(function (response) {\n                    var result = response.isSucceed ? response.data : false;\n                    resolve(result);\n                  });\n                }));\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function CheckInformationNoticAcceptance(_x4, _x5) {\n        return _CheckInformationNoticAcceptance2.apply(this, arguments);\n      }\n\n      return CheckInformationNoticAcceptance;\n    }()\n  }]);\n\n  return QuotesService;\n}();","import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from 'react';\nimport { useForm, FormContext } from \"react-hook-form\";\nimport { useRouter } from 'next/router';\nimport Modal from 'react-bootstrap/Modal';\nimport MarketingConsent from 'components/marketing-consent';\nimport PrivacyPolicyConsent from 'components/privacy-policy-consent';\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSpinner } from \"@fortawesome/pro-regular-svg-icons\";\nimport { LeasingDealTypes } from \"enums/LeasingDealTypes\";\nimport { formatMoney } from 'helpers/currencyHelper';\nimport { PhoneNumberIsValid, EmailAddressIsValid } from 'helpers/validation';\nimport { getGAClientId } from 'helpers/analytics';\nimport { setPrivacyAccepted } from 'helpers/cookiesHelper';\nimport { GetThankYouPageUrl } from 'helpers/urlHelper';\nimport { MarketingCommunicationsService } from 'business-logic/marketingCommunicationsService';\nimport { EnquiryService } from \"business-logic/enquiryService\";\nimport { QuotesService } from 'business-logic/quotesService';\nimport { GetSalesPeople } from 'business-logic/systemService';\n\nvar VehicleQuoteEnquiryModal = function VehicleQuoteEnquiryModal(_ref) {\n  var _errors$telephone, _errors$email, _errors$ownerId, _errors$informationNo;\n\n  var title = _ref.title,\n      baseData = _ref.baseData,\n      settings = _ref.settings,\n      onRequestClose = _ref.onRequestClose,\n      otherProps = _objectWithoutProperties(_ref, [\"title\", \"baseData\", \"settings\", \"onRequestClose\"]);\n\n  var router = useRouter();\n  var methods = useForm();\n  var register = methods.register,\n      handleSubmit = methods.handleSubmit,\n      errors = methods.errors;\n  var procFee = parseFloat(process.env.NEXT_PUBLIC_PCH_PROC_FEE);\n\n  var _useState = useState(false),\n      isLoading = _useState[0],\n      setIsLoading = _useState[1];\n\n  var _useState2 = useState(false),\n      marketingConsentIsVerifying = _useState2[0],\n      setMarketingConsentIsVerifying = _useState2[1];\n\n  var _useState3 = useState(null),\n      emailAddressConsent = _useState3[0],\n      setEmailAddressConsent = _useState3[1];\n\n  var _useState4 = useState(settings.salesPersons || []),\n      salesPersons = _useState4[0],\n      setSalesPersons = _useState4[1];\n\n  var _useState5 = useState(false),\n      salesPersonVerificationRequired = _useState5[0],\n      setSalesPersonVerificationRequired = _useState5[1];\n\n  var _useState6 = useState(false),\n      ownerConfirmRequired = _useState6[0],\n      setOwnerConfirmRequired = _useState6[1];\n\n  var _useState7 = useState([]),\n      owners = _useState7[0],\n      setOwners = _useState7[1];\n\n  var _useState8 = useState(null),\n      owner = _useState8[0],\n      setOwner = _useState8[1];\n\n  var _useState9 = useState(1),\n      step = _useState9[0],\n      setStep = _useState9[1];\n\n  var _useState10 = useState({\n    fullName: null,\n    telephone: null,\n    email: null,\n    companyName: null,\n    ownerId: null,\n    allowedCommunicationTypes: null,\n    informationNoticeConfirmed: false\n  }),\n      formState = _useState10[0],\n      setFormState = _useState10[1]; //TODO: get salespersons with settings\n\n\n  useEffect(function () {\n    if (salesPersons.length === 0 && settings.isInternal) {\n      GetSalesPeople().then(function (result) {\n        setSalesPersons(result.data);\n      });\n    }\n  }, []);\n\n  var getTitle = function getTitle(step) {\n    var result = title;\n\n    if (step === 2) {\n      result = \"Information Notice\";\n    }\n\n    return result;\n  }; //Fires only when input loses focus and triggers marketing-consent to reinitialize\n\n\n  var handleEmailFocusOut = function handleEmailFocusOut(event) {\n    if (!settings.isInternal) {\n      if (event.target.value && EmailAddressIsValid(event.target.value)) {\n        setEmailAddressConsent(event.target.value);\n      } else {\n        setEmailAddressConsent(null);\n      }\n    }\n\n    setSalesPersonVerificationFlag();\n  };\n\n  var handleTelephoneFocusOut = function handleTelephoneFocusOut(event) {\n    setSalesPersonVerificationFlag();\n  };\n\n  var handleSalesPersonChange = function handleSalesPersonChange(event) {\n    setSalesPersonVerificationFlag();\n  };\n\n  var setSalesPersonVerificationFlag = function setSalesPersonVerificationFlag() {\n    if (settings.isInternal) {\n      setSalesPersonVerificationRequired(true);\n      setOwnerConfirmRequired(false);\n      setOwners([]);\n      setOwner(null);\n    }\n  };\n\n  var verifySalesPerson = function verifySalesPerson(salesPersonId, email, telephone) {\n    return new Promise(function (resolve) {\n      if (salesPersonVerificationRequired) {\n        setOwnerConfirmRequired(false);\n        setOwner(null);\n      }\n\n      if (salesPersonVerificationRequired && salesPersonId) {\n        QuotesService.VerifySalesPerson(salesPersonId, email, telephone).then(function (result) {\n          var stopExecutionFlag = false;\n          setSalesPersonVerificationRequired(false);\n\n          if (result.isSucceed && result.data.isRequired && result.data.salesPersons) {\n            setOwnerConfirmRequired(true);\n            var ownersList = result.data.salesPersons;\n            var existingOwner = ownersList.find(function (item) {\n              return item.isExisting;\n            });\n\n            if (existingOwner) {\n              setOwner({\n                id: existingOwner.id,\n                name: existingOwner.text\n              });\n            }\n\n            setOwners(ownersList);\n            stopExecutionFlag = true;\n          } else {\n            setOwner({\n              id: salesPersonId,\n              name: null\n            });\n          }\n\n          resolve(stopExecutionFlag);\n        });\n      } else {\n        setSalesPersonVerificationRequired(false);\n        resolve(false);\n      }\n    });\n  };\n\n  var onSubmit = function onSubmit(data) {\n    if (!isLoading && !marketingConsentIsVerifying) {\n      if (step === 1) {\n        setIsLoading(true);\n        var email = data.email;\n        var telephone = data.telephone;\n        var salesPersonId = data.salesPersonId;\n        verifySalesPerson(salesPersonId, email, telephone).then(function (verifySalesPersonStopExecutionFlag) {\n          if (verifySalesPersonStopExecutionFlag) {\n            setIsLoading(false);\n          } else {\n            var formData = {\n              fullName: data.fullName,\n              telephone: data.telephone,\n              email: data.email,\n              companyName: data.companyName,\n              ownerId: data.ownerId || data.salesPersonId || null,\n              allowedCommunicationTypes: data.allowedCommunicationTypes\n            };\n\n            if (settings.proceededToApplyForFinanceDirectly) {\n              QuotesService.CheckInformationNoticAcceptance(email, telephone).then(function (result) {\n                if (result) {\n                  setFormState(function (prevState) {\n                    return _objectSpread(_objectSpread({}, prevState), formData);\n                  });\n                  setIsLoading(false);\n                  setStep(2);\n                } else {\n                  doSubmit(formData);\n                }\n              });\n            } else {\n              doSubmit(formData);\n            }\n          }\n        });\n      } else if (step === 2) {\n        var formData = _objectSpread({}, formState);\n\n        formData.informationNoticeConfirmed = data.informationNoticeConfirmed;\n        doSubmit(formData);\n      }\n    }\n  };\n\n  var doSubmit = function doSubmit(formData) {\n    if (formData && baseData) {\n      setIsLoading(true);\n\n      var enquiryData = _objectSpread(_objectSpread({}, baseData), {}, {\n        quoteEnquiryType: settings.proceededToApplyForFinanceDirectly ? 2 : 1,\n        isIDDAccepted: settings.proceededToApplyForFinanceDirectly && formData.informationNoticeConfirmed,\n        fullName: formData.fullName,\n        telephone: formData.telephone,\n        email: formData.email,\n        companyName: baseData.leasingDealType !== 2 ? formData.companyName : null,\n        gaClientId: getGAClientId()\n      });\n\n      if (settings.isInternal) {\n        enquiryData.salesPersonId = formData.ownerId;\n      } else {\n        enquiryData.allowedCommunicationTypes = formData.allowedCommunicationTypes || null;\n      }\n\n      EnquiryService.SubmitQuoteEnquiry(enquiryData).then(function (result) {\n        setIsLoading(false);\n\n        if (result.isSucceed && result.data) {\n          if (!settings.isInternal) {\n            var expiryDate = new Date();\n            expiryDate.setFullYear(expiryDate.getFullYear() + 1);\n\n            if (enquiryData.allowedCommunicationTypes) {\n              MarketingCommunicationsService.SetToSeenMarketingForm(enquiryData.email, expiryDate);\n            }\n\n            if (formData.privacyConfirmed) {\n              setPrivacyAccepted(expiryDate);\n            }\n          }\n\n          if (settings.proceededToApplyForFinanceDirectly) {\n            switch (enquiryData.leasingDealType.toString()) {\n              case \"1\":\n              case \"3\":\n                var url = \"/proposal_business?directfinance=1&fromconfirmquote=1&enquiryid=\" + result.data + \"&email=\" + encodeURI(enquiryData.email) + \"&fromInsuredLeasing=\" + (window.location.href.includes(\"car-leasing-with-insurance\") ? \"1\" : \"0\");\n                router.push(url);\n                break;\n\n              case \"2\":\n                var url = \"/proposal_personal?directfinance=1&fromconfirmquote=1&enquiryid=\" + result.data + \"&email=\" + encodeURI(enquiryData.email) + \"&fromInsuredLeasing=\" + (window.location.href.includes(\"car-leasing-with-insurance\") ? \"1\" : \"0\");\n                router.push(url);\n                break;\n            }\n          } else {\n            if (settings.isInternal) {\n              router.push(GetThankYouPageUrl(true));\n            } else {\n              router.push(GetThankYouPageUrl(false, \"quoteconfirm\"));\n            }\n          }\n\n          onRequestClose();\n        }\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxs(Modal, _objectSpread(_objectSpread({\n    onHide: onRequestClose,\n    centered: true,\n    scrollable: false\n  }, otherProps), {}, {\n    children: [/*#__PURE__*/_jsx(Modal.Header, {\n      className: \"d-flex flex-nowrap justify-content-center align-items-center\",\n      closeButton: true,\n      children: /*#__PURE__*/_jsx(Modal.Title, {\n        className: \"mb-0\",\n        children: getTitle(step)\n      })\n    }), /*#__PURE__*/_jsx(Modal.Body, {\n      children: /*#__PURE__*/_jsxs(FormContext, _objectSpread(_objectSpread({}, methods), {}, {\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/_jsx(\"div\", {\n            className: \"col-24\",\n            children: /*#__PURE__*/_jsx(\"p\", {\n              children: \"A member of our team will contact you shortly after your submission.\"\n            })\n          })\n        }), step === 1 ? /*#__PURE__*/_jsxs(_Fragment, {\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            className: \"row\",\n            children: [settings.leasingMessage ? /*#__PURE__*/_jsx(\"div\", {\n              className: \"col-24\",\n              children: /*#__PURE__*/_jsxs(\"p\", {\n                children: [\"I\\u2019m interested in leasing of \", /*#__PURE__*/_jsx(\"strong\", {\n                  children: settings.leasingMessage\n                })]\n              })\n            }) : null, /*#__PURE__*/_jsxs(\"div\", {\n              className: \"col-24 col-lg-12 form-group\",\n              children: [/*#__PURE__*/_jsxs(\"label\", {\n                children: [\"Full Name \", /*#__PURE__*/_jsx(\"span\", {\n                  children: \"(Required)\"\n                })]\n              }), /*#__PURE__*/_jsx(\"input\", {\n                type: \"text\",\n                className: \"form-control \".concat(errors.fullName ? \"is-invalid\" : \"\"),\n                placeholder: \"First & Last Name\",\n                maxLength: 50,\n                name: \"fullName\",\n                disabled: ownerConfirmRequired,\n                ref: register({\n                  required: true\n                })\n              }), errors.fullName ? /*#__PURE__*/_jsx(\"span\", {\n                className: \"invalid-feedback d-block\",\n                children: \"Full Name is required.\"\n              }) : null]\n            }), baseData.leasingDealType !== LeasingDealTypes.Personal ? /*#__PURE__*/_jsxs(\"div\", {\n              className: \"col-24 col-lg-12 form-group\",\n              children: [/*#__PURE__*/_jsx(\"label\", {\n                children: \"Company Name\"\n              }), /*#__PURE__*/_jsx(\"input\", {\n                type: \"text\",\n                className: \"form-control\",\n                placeholder: \"Company Name\",\n                maxLength: 50,\n                name: \"companyName\",\n                disabled: ownerConfirmRequired,\n                ref: register()\n              })]\n            }) : null, /*#__PURE__*/_jsxs(\"div\", {\n              className: \"col-24 col-lg-12 form-group\",\n              children: [/*#__PURE__*/_jsxs(\"label\", {\n                children: [\"Telephone \", /*#__PURE__*/_jsx(\"span\", {\n                  children: \"(Required)\"\n                })]\n              }), /*#__PURE__*/_jsx(\"input\", {\n                type: \"tel\",\n                className: \"form-control \".concat(errors.telephone ? \"is-invalid\" : \"\"),\n                placeholder: \"Mobile or Home\",\n                maxLength: 20,\n                name: \"telephone\",\n                onBlur: handleTelephoneFocusOut,\n                disabled: ownerConfirmRequired,\n                ref: register({\n                  required: 'Telephone is required.',\n                  validate: function validate(value) {\n                    return PhoneNumberIsValid(value) === true || 'Please specify a valid UK phone number.';\n                  }\n                })\n              }), errors.telephone ? /*#__PURE__*/_jsx(\"span\", {\n                className: \"invalid-feedback d-block\",\n                children: (_errors$telephone = errors.telephone) === null || _errors$telephone === void 0 ? void 0 : _errors$telephone.message\n              }) : null]\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: \"col-24 col-lg-12 form-group\",\n              children: [/*#__PURE__*/_jsxs(\"label\", {\n                children: [\"Email \", /*#__PURE__*/_jsx(\"span\", {\n                  children: \"(Required)\"\n                })]\n              }), /*#__PURE__*/_jsx(\"input\", {\n                type: \"email\",\n                className: \"form-control \".concat(errors.email ? \"is-invalid\" : \"\"),\n                placeholder: \"E.g. johnsmith@website.co.uk\",\n                maxLength: 50,\n                name: \"email\",\n                onBlur: handleEmailFocusOut,\n                disabled: ownerConfirmRequired,\n                ref: register({\n                  required: 'Email is required.',\n                  validate: function validate(value) {\n                    return EmailAddressIsValid(value) === true || 'Email is invalid.';\n                  }\n                })\n              }), errors.email ? /*#__PURE__*/_jsx(\"span\", {\n                className: \"invalid-feedback d-block\",\n                children: (_errors$email = errors.email) === null || _errors$email === void 0 ? void 0 : _errors$email.message\n              }) : null]\n            }), settings.isInternal ? /*#__PURE__*/_jsxs(\"div\", {\n              className: \"col-24 col-lg-12 form-group\",\n              children: [/*#__PURE__*/_jsx(\"label\", {\n                children: \"Salesperson\"\n              }), /*#__PURE__*/_jsxs(\"select\", {\n                className: \"form-control\",\n                name: \"salesPersonId\",\n                onChange: handleSalesPersonChange,\n                disabled: ownerConfirmRequired,\n                ref: register,\n                children: [/*#__PURE__*/_jsx(\"option\", {\n                  value: \"\",\n                  children: \"Please select\"\n                }), salesPersons.map(function (item) {\n                  return /*#__PURE__*/_jsx(\"option\", {\n                    value: item.id,\n                    children: item.fullName\n                  }, item.id);\n                })]\n              })]\n            }) : null]\n          }), settings.isInternal && ownerConfirmRequired ? /*#__PURE__*/_jsx(\"div\", {\n            className: \"row\",\n            children: /*#__PURE__*/_jsxs(\"div\", {\n              className: \"col-24\",\n              children: [owner && owner.name ? /*#__PURE__*/_jsxs(_Fragment, {\n                children: [\"Account with these details already exists for Owner: \", owner.name]\n              }) : null, owners.map(function (item, idx) {\n                return /*#__PURE__*/_jsxs(\"div\", {\n                  children: [/*#__PURE__*/_jsx(\"input\", {\n                    type: \"radio\",\n                    className: \"d-inline mr-1\",\n                    name: \"ownerId\",\n                    id: \"salesPerson_\".concat(idx),\n                    value: item.id,\n                    defaultChecked: owner.id === item.id,\n                    ref: register({\n                      required: 'Owner is required.'\n                    })\n                  }), /*#__PURE__*/_jsx(\"label\", {\n                    className: \"d-inline\",\n                    htmlFor: \"salesPerson_\".concat(idx),\n                    children: item.text\n                  })]\n                }, item.id);\n              }), errors.ownerId ? /*#__PURE__*/_jsx(\"span\", {\n                className: \"invalid-feedback d-block\",\n                children: (_errors$ownerId = errors.ownerId) === null || _errors$ownerId === void 0 ? void 0 : _errors$ownerId.message\n              }) : null]\n            })\n          }) : null, !settings.isInternal ? /*#__PURE__*/_jsx(\"div\", {\n            className: \"row\",\n            children: /*#__PURE__*/_jsxs(\"div\", {\n              className: \"col-24\",\n              children: [/*#__PURE__*/_jsx(MarketingConsent, {\n                emailAddress: emailAddressConsent,\n                settings: {\n                  onVerificationStart: function onVerificationStart() {\n                    setMarketingConsentIsVerifying(true);\n                  },\n                  onVerificationComplete: function onVerificationComplete() {\n                    setMarketingConsentIsVerifying(false);\n                  }\n                }\n              }), /*#__PURE__*/_jsx(PrivacyPolicyConsent, {})]\n            })\n          }) : null]\n        }) : null, step === 2 ? /*#__PURE__*/_jsx(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/_jsxs(\"div\", {\n            className: \"col-24\",\n            children: [/*#__PURE__*/_jsxs(\"ul\", {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxs(\"li\", {\n                children: [\"We are \", /*#__PURE__*/_jsx(\"strong\", {\n                  children: \"Leasing Options Limited\"\n                }), \", a credit intermediary for vehicle finance and insurance related products. Our registered office is \", /*#__PURE__*/_jsx(\"strong\", {\n                  children: \"Options House, Atkin Street, Worsley, Manchester, M28 3DG\"\n                })]\n              }), /*#__PURE__*/_jsxs(\"li\", {\n                children: [\"We are authorised and regulated by the Financial Conduct Authority. Registered no: \", /*#__PURE__*/_jsx(\"strong\", {\n                  children: \"660061\"\n                }), \".\"]\n              }), /*#__PURE__*/_jsx(\"li\", {\n                children: \"We are a credit broker of vehicle finance, we are not a funder or a lender.\"\n              }), /*#__PURE__*/_jsxs(\"li\", {\n                children: [\"We charge a Processing Fee of \", formatMoney(procFee), \" including VAT which is only payable at order stage, once acceptable finance has been obtained, as a contribution to the costs incurred in processing the vehicle finance agreement. We do not charge fees for processing insurance products. Payment of the Processing Fee can be made on-line using a credit or debit card or by BACs transfer.\"]\n              })]\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxs(\"div\", {\n                className: \"form-check form-check-inline privacy-agreement\",\n                children: [/*#__PURE__*/_jsx(\"input\", {\n                  type: \"checkbox\",\n                  className: \"form-check-input\",\n                  id: \"infoConfirmed\",\n                  name: \"informationNoticeConfirmed\",\n                  ref: register({\n                    validate: function validate(value) {\n                      return value === true || \"Information Notice confirmation required.\";\n                    }\n                  })\n                }), /*#__PURE__*/_jsx(\"label\", {\n                  htmlFor: \"infoConfirmed\",\n                  className: errors.informationNoticeConfirmed ? \"invalid-feedback\" : null,\n                  children: \"Please respond to this 'Information Notice' confirming that you understand and acknowledge the above and that you are happy to proceed. Any delays in receiving confirmation may impact on the rates quoted.\"\n                })]\n              }), errors.informationNoticeConfirmed && /*#__PURE__*/_jsx(\"span\", {\n                className: \"invalid-feedback d-block\",\n                children: (_errors$informationNo = errors.informationNoticeConfirmed) === null || _errors$informationNo === void 0 ? void 0 : _errors$informationNo.message\n              })]\n            })]\n          })\n        }) : null, settings.showPriceWarning ? /*#__PURE__*/_jsx(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/_jsx(\"div\", {\n            className: \"col-24\",\n            children: /*#__PURE__*/_jsxs(\"div\", {\n              className: \"alert alert-warning\",\n              role: \"alert\",\n              children: [/*#__PURE__*/_jsx(\"strong\", {\n                children: \"IMPORTANT:\"\n              }), \" This is an indicative price, please speak to your account manager for the exact rental.\"]\n            })\n          })\n        }) : null]\n      }))\n    }), /*#__PURE__*/_jsx(Modal.Footer, {\n      children: /*#__PURE__*/_jsx(\"button\", {\n        type: \"button\",\n        className: \"btn btn-primary btn-lg\",\n        onClick: handleSubmit(onSubmit),\n        children: isLoading ? /*#__PURE__*/_jsx(FontAwesomeIcon, {\n          width: \"16\",\n          height: \"16\",\n          icon: faSpinner,\n          className: \"fa-spin\"\n        }) : \"Submit\"\n      })\n    })]\n  }));\n};\n\nexport default VehicleQuoteEnquiryModal;"]}}