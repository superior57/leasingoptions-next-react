{"code":"(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[58,59],{TG2e:function(e,t,c){\"use strict\";c.r(t);var r=c(\"nKUr\"),n=c(\"cpVT\"),s=c(\"dhJC\"),o=c(\"q1tI\"),a=c(\"/MKj\"),l=c(\"zM5D\"),i=c(\"mmV+\"),u=c(\"a2hv\"),d=c(\"SUUS\"),j=c(\"brxi\");function b(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,r)}return c}function O(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?b(Object(c),!0).forEach((function(t){Object(n.a)(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):b(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}t.default=Object(a.b)((function(e){return{dealToggle:e.dealSelector,vehicleFilters:e.vehicleFilters,userPostcode:e.userPostcode}}),(function(e){return{updateUserPostcode:function(t){e({type:\"UPDATE_POSTCODE\",userPostcode:t})}}}))((function(e){var t=e.onRequestClose,c=e.title,n=(e.userPostcode,e.updateUserPostcode),a=Object(s.a)(e,[\"onRequestClose\",\"title\",\"userPostcode\",\"updateUserPostcode\"]),b=Object(o.useContext)(u.a),p=Object(o.useRef)(),f=Object(o.useState)(!1),h=f[0],m=f[1],x=Object(o.useState)(!1),P=x[0],v=x[1];return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(l.a,O(O({onHide:t,centered:!0},a),{},{children:[Object(r.jsx)(l.a.Header,{className:\"d-flex flex-nowrap justify-content-center align-items-center\",closeButton:!0,children:Object(r.jsx)(l.a.Title,{className:\"text-center mb-0\",children:c})}),Object(r.jsx)(l.a.Body,{children:Object(r.jsxs)(\"div\",{className:\"w-100 py-3 px-3 px-md-5\",children:[Object(r.jsx)(\"p\",{className:\"mb-2\",children:\"Please enter a full postcode.\"}),Object(r.jsx)(\"div\",{className:\"row\",children:Object(r.jsx)(\"div\",{className:\"col-24 form-group\",children:Object(r.jsx)(\"input\",{type:\"text\",ref:p,className:\"form-control \".concat(h&&!P?\"is-invalid\":\"\"),placeholder:\"AB12 3CD\"})})}),Object(r.jsx)(\"div\",{className:\"row\",children:Object(r.jsx)(\"div\",{className:\"col-24 d-flex align-items-center justify-content-end\",children:Object(r.jsx)(\"button\",{className:\"btn btn-success btn-lg\",onClick:function(e){return function(e){e.preventDefault();var t=p.current.value.toLowerCase();Object(i.b)(t)?(v(!0),n(Object(i.a)(t))):(v(!1),n(null)),m(!0),Object(i.b)(t)&&b.showModal(d.default,{show:!0,title:\"Refine Search\",activePanel:j.a.SearchDetailed})}(e)},children:\"Next\"})})})]})})]}))})}))}}]);","map":{"version":3,"sources":["static/chunks/58.875c9139ec68010ad65c.js"],"names":["window","push","TG2e","module","__webpack_exports__","__webpack_require__","r","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","E_current_project_PPH_tfs_Website_website_node_modules_next_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__","E_current_project_PPH_tfs_Website_website_node_modules_next_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__","react__WEBPACK_IMPORTED_MODULE_3__","react_redux__WEBPACK_IMPORTED_MODULE_4__","react_bootstrap_Modal__WEBPACK_IMPORTED_MODULE_5__","helpers_helpers__WEBPACK_IMPORTED_MODULE_6__","_HOCs_modal_modalContext__WEBPACK_IMPORTED_MODULE_7__","_search__WEBPACK_IMPORTED_MODULE_8__","_enums_SearchPanels__WEBPACK_IMPORTED_MODULE_9__","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","state","dealToggle","dealSelector","vehicleFilters","userPostcode","dispatch","updateUserPostcode","type","_ref","onRequestClose","title","otherProps","modalContext","postcodeRef","_useState","isSubmitted","setIsSubmitted","_useState2","isValidated","setIsValidated","children","onHide","centered","Header","className","closeButton","Title","Body","ref","concat","placeholder","onClick","evt","preventDefault","enteredPostcode","current","value","toLowerCase","showModal","show","activePanel","SearchDetailed","handlePostcodeSubmit"],"mappings":"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"},"name":"static/chunks/58.875c9139ec68010ad65c.js","input":"(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[58,59],{\n\n/***/ \"TG2e\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"nKUr\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var E_current_project_PPH_tfs_Website_website_node_modules_next_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"cpVT\");\n/* harmony import */ var E_current_project_PPH_tfs_Website_website_node_modules_next_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"dhJC\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"/MKj\");\n/* harmony import */ var react_bootstrap_Modal__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"zM5D\");\n/* harmony import */ var helpers_helpers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"mmV+\");\n/* harmony import */ var _HOCs_modal_modalContext__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"a2hv\");\n/* harmony import */ var _search__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"SUUS\");\n/* harmony import */ var _enums_SearchPanels__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"brxi\");\n\n\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { Object(E_current_project_PPH_tfs_Website_website_node_modules_next_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n\n\n\n\n\n\nfunction mapStateToProps(state) {\n  return {\n    dealToggle: state.dealSelector,\n    vehicleFilters: state.vehicleFilters,\n    userPostcode: state.userPostcode\n  };\n}\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    updateUserPostcode: function updateUserPostcode(userPostcode) {\n      dispatch({\n        type: 'UPDATE_POSTCODE',\n        userPostcode: userPostcode\n      });\n    }\n  };\n};\n\nvar ModalPostcode = function ModalPostcode(_ref) {\n  var onRequestClose = _ref.onRequestClose,\n      title = _ref.title,\n      userPostcode = _ref.userPostcode,\n      updateUserPostcode = _ref.updateUserPostcode,\n      otherProps = Object(E_current_project_PPH_tfs_Website_website_node_modules_next_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(_ref, [\"onRequestClose\", \"title\", \"userPostcode\", \"updateUserPostcode\"]);\n\n  var modalContext = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useContext\"])(_HOCs_modal_modalContext__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"]);\n  var postcodeRef = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useRef\"])();\n\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(false),\n      isSubmitted = _useState[0],\n      setIsSubmitted = _useState[1];\n\n  var _useState2 = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(false),\n      isValidated = _useState2[0],\n      setIsValidated = _useState2[1];\n\n  var handlePostcodeSubmit = function handlePostcodeSubmit(evt) {\n    evt.preventDefault();\n    var enteredPostcode = postcodeRef.current.value.toLowerCase();\n\n    if (Object(helpers_helpers__WEBPACK_IMPORTED_MODULE_6__[/* FormatValidatePostcode */ \"b\"])(enteredPostcode)) {\n      setIsValidated(true);\n      updateUserPostcode(Object(helpers_helpers__WEBPACK_IMPORTED_MODULE_6__[/* AddSpaceToPostcode */ \"a\"])(enteredPostcode));\n    } else {\n      setIsValidated(false);\n      updateUserPostcode(null);\n    }\n\n    setIsSubmitted(true);\n\n    if (Object(helpers_helpers__WEBPACK_IMPORTED_MODULE_6__[/* FormatValidatePostcode */ \"b\"])(enteredPostcode)) {\n      modalContext.showModal(_search__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n        show: true,\n        title: \"Refine Search\",\n        activePanel: _enums_SearchPanels__WEBPACK_IMPORTED_MODULE_9__[/* SearchPanels */ \"a\"].SearchDetailed\n      });\n    }\n  };\n\n  return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"Fragment\"], {\n    children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(react_bootstrap_Modal__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"], _objectSpread(_objectSpread({\n      onHide: onRequestClose,\n      centered: true\n    }, otherProps), {}, {\n      children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(react_bootstrap_Modal__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"].Header, {\n        className: \"d-flex flex-nowrap justify-content-center align-items-center\",\n        closeButton: true,\n        children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(react_bootstrap_Modal__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"].Title, {\n          className: \"text-center mb-0\",\n          children: title\n        })\n      }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(react_bootstrap_Modal__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"].Body, {\n        children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"div\", {\n          className: \"w-100 py-3 px-3 px-md-5\",\n          children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"p\", {\n            className: \"mb-2\",\n            children: \"Please enter a full postcode.\"\n          }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", {\n            className: \"row\",\n            children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", {\n              className: \"col-24 form-group\",\n              children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"input\", {\n                type: \"text\",\n                ref: postcodeRef,\n                className: \"form-control \".concat(isSubmitted && !isValidated ? 'is-invalid' : ''),\n                placeholder: \"AB12 3CD\"\n              })\n            })\n          }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", {\n            className: \"row\",\n            children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", {\n              className: \"col-24 d-flex align-items-center justify-content-end\",\n              children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"button\", {\n                className: \"btn btn-success btn-lg\",\n                onClick: function onClick(evt) {\n                  return handlePostcodeSubmit(evt);\n                },\n                children: \"Next\"\n              })\n            })\n          })]\n        })\n      })]\n    }))\n  });\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_4__[/* connect */ \"b\"])(mapStateToProps, mapDispatchToProps)(ModalPostcode));\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["E:\\current_project\\PPH\\tfs\\Website\\website\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!E:\\current_project\\PPH\\tfs\\Website\\website\\components\\layout\\modal-postcode\\modal-postcode.tsx"],"names":[],"mappings":";;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0D;AACwF;AAChG;AACF;AACoH;;AAEpK,0CAA0C,gCAAgC,oCAAoC,oDAAoD,8DAA8D,gEAAgE,EAAE,EAAE,gCAAgC,EAAE,aAAa;;AAEnV,gCAAgC,gBAAgB,sBAAsB,OAAO,uDAAuD,aAAa,uDAAuD,CAAC,yKAAe,2BAA2B,EAAE,EAAE,EAAE,6CAA6C,2EAA2E,EAAE,OAAO,iDAAiD,kFAAkF,EAAE,EAAE,EAAE,EAAE,eAAe;;AAExd;AACtB;AACI;AACmC;AACpB;AACvB;AACyB;;AAE3D;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAmB,kLAAwB;;AAE3C,qBAAqB,wDAAU,CAAC,wEAAY;AAC5C,oBAAoB,oDAAM;;AAE1B,kBAAkB,sDAAQ;AAC1B;AACA;;AAEA,mBAAmB,sDAAQ;AAC3B;AACA;;AAEA;AACA;AACA;;AAEA,QAAQ,sFAAsB;AAC9B;AACA,yBAAyB,kFAAkB;AAC3C,KAAK;AACL;AACA;AACA;;AAEA;;AAEA,QAAQ,sFAAsB;AAC9B,6BAA6B,+CAAM;AACnC;AACA;AACA,qBAAqB,wEAAY;AACjC,OAAO;AACP;AACA;;AAEA,sBAAsB,6DAAI,CAAC,0DAAS;AACpC,2BAA2B,8DAAK,CAAC,qEAAK;AACtC;AACA;AACA,KAAK,iBAAiB;AACtB,8BAA8B,6DAAI,CAAC,qEAAK;AACxC;AACA;AACA,+BAA+B,6DAAI,CAAC,qEAAK;AACzC;AACA;AACA,SAAS;AACT,OAAO,gBAAgB,6DAAI,CAAC,qEAAK;AACjC,+BAA+B,8DAAK;AACpC;AACA,kCAAkC,6DAAI;AACtC;AACA;AACA,WAAW,gBAAgB,6DAAI;AAC/B;AACA,mCAAmC,6DAAI;AACvC;AACA,qCAAqC,6DAAI;AACzC;AACA;AACA;AACA;AACA,eAAe;AACf,aAAa;AACb,WAAW,gBAAgB,6DAAI;AAC/B;AACA,mCAAmC,6DAAI;AACvC;AACA,qCAAqC,6DAAI;AACzC;AACA;AACA;AACA,iBAAiB;AACjB;AACA,eAAe;AACf,aAAa;AACb,WAAW;AACX,SAAS;AACT,OAAO;AACP,KAAK;AACL,GAAG;AACH;;AAEe,kIAAO,oDAAoD,E","file":"x","sourcesContent":["import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport _defineProperty from \"E:/current_project/PPH/tfs/Website/website/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _objectWithoutProperties from \"E:/current_project/PPH/tfs/Website/website/node_modules/next/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useRef, useState, useContext } from 'react';\nimport { connect } from 'react-redux';\nimport Modal from 'react-bootstrap/Modal';\nimport { FormatValidatePostcode, AddSpaceToPostcode } from 'helpers/helpers';\nimport ModalContext from '../../HOCs/modal/modalContext';\nimport Search from '../../search';\nimport { SearchPanels } from '../../../enums/SearchPanels';\n\nfunction mapStateToProps(state) {\n  return {\n    dealToggle: state.dealSelector,\n    vehicleFilters: state.vehicleFilters,\n    userPostcode: state.userPostcode\n  };\n}\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    updateUserPostcode: function updateUserPostcode(userPostcode) {\n      dispatch({\n        type: 'UPDATE_POSTCODE',\n        userPostcode: userPostcode\n      });\n    }\n  };\n};\n\nvar ModalPostcode = function ModalPostcode(_ref) {\n  var onRequestClose = _ref.onRequestClose,\n      title = _ref.title,\n      userPostcode = _ref.userPostcode,\n      updateUserPostcode = _ref.updateUserPostcode,\n      otherProps = _objectWithoutProperties(_ref, [\"onRequestClose\", \"title\", \"userPostcode\", \"updateUserPostcode\"]);\n\n  var modalContext = useContext(ModalContext);\n  var postcodeRef = useRef();\n\n  var _useState = useState(false),\n      isSubmitted = _useState[0],\n      setIsSubmitted = _useState[1];\n\n  var _useState2 = useState(false),\n      isValidated = _useState2[0],\n      setIsValidated = _useState2[1];\n\n  var handlePostcodeSubmit = function handlePostcodeSubmit(evt) {\n    evt.preventDefault();\n    var enteredPostcode = postcodeRef.current.value.toLowerCase();\n\n    if (FormatValidatePostcode(enteredPostcode)) {\n      setIsValidated(true);\n      updateUserPostcode(AddSpaceToPostcode(enteredPostcode));\n    } else {\n      setIsValidated(false);\n      updateUserPostcode(null);\n    }\n\n    setIsSubmitted(true);\n\n    if (FormatValidatePostcode(enteredPostcode)) {\n      modalContext.showModal(Search, {\n        show: true,\n        title: \"Refine Search\",\n        activePanel: SearchPanels.SearchDetailed\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsx(_Fragment, {\n    children: /*#__PURE__*/_jsxs(Modal, _objectSpread(_objectSpread({\n      onHide: onRequestClose,\n      centered: true\n    }, otherProps), {}, {\n      children: [/*#__PURE__*/_jsx(Modal.Header, {\n        className: \"d-flex flex-nowrap justify-content-center align-items-center\",\n        closeButton: true,\n        children: /*#__PURE__*/_jsx(Modal.Title, {\n          className: \"text-center mb-0\",\n          children: title\n        })\n      }), /*#__PURE__*/_jsx(Modal.Body, {\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          className: \"w-100 py-3 px-3 px-md-5\",\n          children: [/*#__PURE__*/_jsx(\"p\", {\n            className: \"mb-2\",\n            children: \"Please enter a full postcode.\"\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"row\",\n            children: /*#__PURE__*/_jsx(\"div\", {\n              className: \"col-24 form-group\",\n              children: /*#__PURE__*/_jsx(\"input\", {\n                type: \"text\",\n                ref: postcodeRef,\n                className: \"form-control \".concat(isSubmitted && !isValidated ? 'is-invalid' : ''),\n                placeholder: \"AB12 3CD\"\n              })\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"row\",\n            children: /*#__PURE__*/_jsx(\"div\", {\n              className: \"col-24 d-flex align-items-center justify-content-end\",\n              children: /*#__PURE__*/_jsx(\"button\", {\n                className: \"btn btn-success btn-lg\",\n                onClick: function onClick(evt) {\n                  return handlePostcodeSubmit(evt);\n                },\n                children: \"Next\"\n              })\n            })\n          })]\n        })\n      })]\n    }))\n  });\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ModalPostcode);"]}}