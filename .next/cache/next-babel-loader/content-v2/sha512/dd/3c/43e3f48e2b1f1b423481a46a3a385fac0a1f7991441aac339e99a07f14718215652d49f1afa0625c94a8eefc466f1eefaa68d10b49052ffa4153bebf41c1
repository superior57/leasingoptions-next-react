{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useState, useContext, useEffect } from 'react';\nimport Router, { useRouter } from 'next/router';\nimport Link from 'next/link';\nimport Navigation from \"../navigation-new\";\nimport HeaderSmartSearch from './header-smart-search';\nimport ModalContext from '../../HOCs/modal/modalContext';\nimport ModalContact from '../modal-contact';\nimport style from './header.module.scss';\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faChevronDown, faPhoneAlt, faBars } from \"@fortawesome/pro-regular-svg-icons\";\nimport { connect } from 'react-redux';\nimport { listenToScroll } from \"helpers/helpers\";\nimport ReactPlaceholder from 'react-placeholder';\nimport \"react-placeholder/lib/reactPlaceholder.css\";\nimport { GetPhoneNumber } from 'helpers/helpers';\n\nconst Header = props => {\n  const modalContext = useContext(ModalContext);\n  const router = useRouter();\n  const {\n    0: isLoaded,\n    1: setIsLoaded\n  } = useState(false);\n  const {\n    0: scrolled,\n    1: setScrolled\n  } = useState(false);\n  const {\n    0: navToggle,\n    1: setNavToggle\n  } = useState(false);\n\n  const handleMenuToggle = evt => {\n    evt.preventDefault();\n    setNavToggle(!navToggle);\n    props.dispatchMenuToggle();\n  };\n\n  const handleMenuClose = evt => {\n    evt.preventDefault();\n    setNavToggle(false);\n    props.dispatchMenuClose();\n  };\n\n  const handleContactClick = () => {\n    modalContext.showModal(ModalContact, {\n      show: true,\n      title: \"Contact\"\n    });\n  };\n\n  useEffect(() => {\n    setIsLoaded(true);\n    Router.events.on('routeChangeStart', url => {\n      setNavToggle(false);\n      props.dispatchMenuClose();\n      props.dispatchRouteChange(url);\n    }); // Listen for scroll\n\n    function setPageScrolled() {\n      if (listenToScroll(0.2)) {\n        var _dfClassicLayers;\n\n        const hashString = window.location.hash;\n\n        if (hashString.includes('dfclassic')) {\n          setScrolled(false);\n        } else {\n          setScrolled(true);\n        } //@ts-ignore doofinder and dfClassicLayers are not declared\n\n\n        if (((_dfClassicLayers = dfClassicLayers) === null || _dfClassicLayers === void 0 ? void 0 : _dfClassicLayers.length) > 0 && dfClassicLayers[0].layer) {\n          //@ts-ignore cannot find name 'dfClassicLayers'\n          dfClassicLayers[0].layer.hide();\n        }\n      } else {\n        setScrolled(false);\n      }\n    }\n\n    ;\n    window.addEventListener('scroll', setPageScrolled);\n    return () => {\n      window.removeEventListener('scroll', setPageScrolled);\n    };\n  }, []);\n  return /*#__PURE__*/_jsxs(\"header\", {\n    className: `${style['header']} ${scrolled ? style['is-scrolled'] : ''} ${router.asPath.includes('/beta') ? '' : style['is-search']}`,\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      className: `container-fluid ${style['head-bar']}`,\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: `row ${style['head-bar__row']}`,\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: `col-2 ${style['head-bar__col']} d-inline-flex justify-content-start align-items-center d-lg-none`,\n          children: /*#__PURE__*/_jsx(FontAwesomeIcon, {\n            width: \"21\",\n            height: \"21\",\n            onClick: evt => handleMenuToggle(evt),\n            icon: faBars\n          })\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: `col-20 col-lg-8 d-inline-flex justify-content-center justify-content-md-start align-items-center ${style['head-bar__col']}`,\n          children: /*#__PURE__*/_jsx(ReactPlaceholder, {\n            firstLaunchOnly: true,\n            type: \"rect\",\n            ready: isLoaded,\n            color: \"#E3E3E3\",\n            style: {\n              width: 130,\n              height: 22\n            },\n            children: /*#__PURE__*/_jsx(Link, {\n              href: \"/\",\n              passHref: true,\n              children: /*#__PURE__*/_jsx(\"a\", {\n                className: \"d-flex text-decoration-none\",\n                children: /*#__PURE__*/_jsx(\"img\", {\n                  src: `${process.env.NEXT_PUBLIC_CDN}/website/static/monochrome-logo.svg`,\n                  alt: \"LeasingOptions Logo\",\n                  className: \"img-fluid\",\n                  width: \"130\",\n                  height: \"21\"\n                })\n              })\n            })\n          })\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: `col-2 ${style['head-bar__col']} d-inline-flex justify-content-end align-items-center d-lg-none`,\n          children: /*#__PURE__*/_jsx(\"a\", {\n            href: `tel:${GetPhoneNumber(props.isInternal)}`,\n            children: /*#__PURE__*/_jsx(FontAwesomeIcon, {\n              width: \"21\",\n              height: \"21\",\n              icon: faPhoneAlt\n            })\n          })\n        }), /*#__PURE__*/_jsx(\"div\", {\n          id: \"text-search\",\n          className: `${style['head-bar__col']} ${style['head-bar__search']} col-24 col-lg-8 d-flex justify-content-end align-items-center`,\n          children: /*#__PURE__*/_jsx(ReactPlaceholder, {\n            firstLaunchOnly: true,\n            type: \"rect\",\n            ready: isLoaded,\n            color: \"#FFFFFF\",\n            className: \"w-100\",\n            style: {\n              height: 29\n            },\n            children: /*#__PURE__*/_jsx(HeaderSmartSearch, {})\n          })\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: `${style['head-bar__col']} col-8 d-none d-lg-flex justify-content-end align-items-center`,\n          children: /*#__PURE__*/_jsx(ReactPlaceholder, {\n            type: \"textRow\",\n            ready: isLoaded,\n            className: \"w-70 mt-0\",\n            color: \"#FFFFFF\",\n            children: /*#__PURE__*/_jsxs(\"ul\", {\n              className: `${style['head-bar__sub']} list-inline`,\n              children: [/*#__PURE__*/_jsx(\"li\", {\n                className: \"list-inline-item\",\n                children: /*#__PURE__*/_jsx(Link, {\n                  passHref: true,\n                  href: \"/my-garage\",\n                  children: /*#__PURE__*/_jsx(\"a\", {\n                    children: \"My Garage\"\n                  })\n                })\n              }), /*#__PURE__*/_jsx(\"li\", {\n                className: \"list-inline-item\",\n                children: /*#__PURE__*/_jsx(Link, {\n                  passHref: true,\n                  href: \"/news\",\n                  children: /*#__PURE__*/_jsx(\"a\", {\n                    children: \"Blog\"\n                  })\n                })\n              }), /*#__PURE__*/_jsx(\"li\", {\n                className: \"list-inline-item\",\n                children: /*#__PURE__*/_jsx(Link, {\n                  passHref: true,\n                  href: \"/advice\",\n                  children: /*#__PURE__*/_jsx(\"a\", {\n                    children: \"Guides\"\n                  })\n                })\n              }), /*#__PURE__*/_jsxs(\"li\", {\n                className: `list-inline-item ${style['head-bar__dd']}`,\n                children: [/*#__PURE__*/_jsxs(\"div\", {\n                  className: style['lvl-caption'],\n                  children: [\"Help \", /*#__PURE__*/_jsx(FontAwesomeIcon, {\n                    width: \"20\",\n                    height: \"20\",\n                    icon: faChevronDown\n                  })]\n                }), /*#__PURE__*/_jsx(\"div\", {\n                  className: style['sub-lvl'],\n                  children: /*#__PURE__*/_jsxs(\"ul\", {\n                    className: style['sub-nav'],\n                    children: [/*#__PURE__*/_jsx(\"li\", {\n                      children: /*#__PURE__*/_jsx(Link, {\n                        passHref: true,\n                        href: \"/car-leasing-faqs\",\n                        children: /*#__PURE__*/_jsx(\"a\", {\n                          children: \"FAQs\"\n                        })\n                      })\n                    }), /*#__PURE__*/_jsx(\"li\", {\n                      children: /*#__PURE__*/_jsx(Link, {\n                        passHref: true,\n                        href: \"/customer-testimonials\",\n                        children: /*#__PURE__*/_jsx(\"a\", {\n                          children: \"Testimonials\"\n                        })\n                      })\n                    }), /*#__PURE__*/_jsx(\"li\", {\n                      children: /*#__PURE__*/_jsx(Link, {\n                        passHref: true,\n                        href: \"/our-story\",\n                        children: /*#__PURE__*/_jsx(\"a\", {\n                          children: \"Our Story\"\n                        })\n                      })\n                    }), /*#__PURE__*/_jsx(\"li\", {\n                      children: /*#__PURE__*/_jsx(Link, {\n                        passHref: true,\n                        href: \"/look-after-my-car\",\n                        children: /*#__PURE__*/_jsx(\"a\", {\n                          children: \"Gap Insurance\"\n                        })\n                      })\n                    }), /*#__PURE__*/_jsx(\"li\", {\n                      children: /*#__PURE__*/_jsx(Link, {\n                        passHref: true,\n                        href: \"/what-is-bik-tax\",\n                        children: /*#__PURE__*/_jsx(\"a\", {\n                          children: \"Tax Calculator\"\n                        })\n                      })\n                    }), /*#__PURE__*/_jsx(\"li\", {\n                      children: /*#__PURE__*/_jsx(Link, {\n                        passHref: true,\n                        href: \"/fair-wear-and-tear\",\n                        children: /*#__PURE__*/_jsx(\"a\", {\n                          children: \"Fair Wear And Tear\"\n                        })\n                      })\n                    })]\n                  })\n                })]\n              }), /*#__PURE__*/_jsx(\"li\", {\n                className: \"list-inline-item\",\n                children: /*#__PURE__*/_jsx(\"a\", {\n                  \"aria-label\": \"Contact\",\n                  onClick: evt => handleContactClick(),\n                  children: \"Contact\"\n                })\n              })]\n            })\n          })\n        })]\n      })\n    }), /*#__PURE__*/_jsx(Navigation, {\n      navToggle: navToggle,\n      handleMenuClose: handleMenuClose\n    })]\n  });\n};\n\nconst mapStateToProps = state => ({\n  isInternal: state.isInternal,\n  dealSelector: state.dealSelector,\n  vehicleFilters: state.vehicleFilters,\n  userPostcode: state.userPostcode\n});\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    dispatchMenuToggle: () => {\n      dispatch({\n        type: 'UPDATE_OVERLAY_STATE',\n        state: false\n      });\n    },\n    dispatchMenuClose: () => {\n      dispatch({\n        type: 'UPDATE_LINK_STATE',\n        id: \"\",\n        level: 1,\n        controls: false,\n        indicator: \"\"\n      });\n      dispatch({\n        type: 'UPDATE_OVERLAY_STATE',\n        state: false\n      });\n    },\n    dispatchRouteChange: url => {\n      //Set referrer\n      dispatch({\n        type: \"UPDATE_REFERRER\",\n        url: url\n      }); // Reset navigation state\n\n      dispatch({\n        type: 'UPDATE_LINK_STATE',\n        id: \"\",\n        level: 1,\n        controls: false,\n        indicator: \"\"\n      }); // Reset Overlay\n\n      dispatch({\n        type: 'UPDATE_OVERLAY_STATE',\n        state: false\n      });\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Header);","map":null,"metadata":{},"sourceType":"module"}