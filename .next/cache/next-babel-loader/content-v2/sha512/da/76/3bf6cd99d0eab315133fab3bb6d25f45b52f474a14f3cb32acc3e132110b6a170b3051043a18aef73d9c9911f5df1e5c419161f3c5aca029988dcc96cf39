{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React, { useEffect, useState, useContext } from 'react';\nimport PageBanner from 'components/page-banner';\nimport PageUsps from 'components/layout/page-usps/page-usps';\nimport AsideAccordion from 'components/layout/aside-accordion';\nimport AsideGuides from 'components/layout/aside-guides';\nimport VehicleCarousel from 'components/vehicle-carousel';\nimport CardVehicleShort from 'components/card/card-vehicle-short';\nimport DropDown from 'components/layout/drop-down';\nimport Faqs from 'components/layout/faqs';\nimport TrustMini from 'components/trustpilot/trust-mini';\nimport ModalContext from 'components/HOCs/modal/modalContext';\nimport ModalContact from 'components/layout/modal-contact';\nimport VehicleQuoteEnquiryModal from 'components/vehicle/vehicle-quote-enquiry-modal';\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faCheck } from \"@fortawesome/pro-regular-svg-icons\";\nimport CardWithStickers from 'components/card/card-with-stickers';\nimport * as _ from 'underscore';\nimport { LeasingDealTypes } from 'enums/LeasingDealTypes';\nimport { VehicleTypes } from 'enums/VehicleTypes';\nimport { TrustThemeTypes } from 'enums/TrustThemeTypes';\nimport { GetShortTermDeals } from 'business-logic/vehicleService';\nconst defaultMake = {\n  name: \"All\",\n  value: null\n}; //TODO: check logic\n\nconst ShortTermPage = ({\n  leasingDealType,\n  vehicleType,\n  shortTermDeals,\n  faqList,\n  categoryList\n}) => {\n  const modalContext = useContext(ModalContext);\n  const imagesPath = `${process.env.NEXT_PUBLIC_CDN}/website/short-term-leasing${vehicleType === VehicleTypes.Commercial ? \"-van\" : \"\"}`;\n  const cssTrail = vehicleType === VehicleTypes.Commercial ? \"stvl\" : \"stl\";\n  const {\n    0: totalResults,\n    1: setTotalResults\n  } = useState(shortTermDeals.length);\n  const {\n    0: displayOrder,\n    1: setDisplayOrder\n  } = useState({\n    label: 'Price High >Low',\n    value: 'monthlyPrice',\n    direction: 'DESC'\n  });\n  const {\n    0: displayMake,\n    1: setSelectedMake\n  } = useState(defaultMake);\n  const {\n    0: shortTermDealsData,\n    1: setShortTermDealsData\n  } = useState(shortTermDeals);\n  const {\n    0: dealsToDisplay,\n    1: setDealsToDisplay\n  } = useState(shortTermDeals);\n  const {\n    0: makesList,\n    1: setMakesList\n  } = useState([defaultMake]);\n  useEffect(() => {\n    sort(displayOrder);\n  }, [displayOrder]);\n  useEffect(() => {\n    if (displayMake.value) {\n      const filteredList = _.filter(shortTermDealsData, function (item) {\n        return item.make === displayMake.value;\n      });\n\n      setDealsToDisplay(filteredList);\n    } else {\n      setDealsToDisplay(shortTermDealsData);\n    }\n  }, [displayMake]);\n  useEffect(() => {\n    Promise.resolve(filterShortTermDeals(vehicleType, leasingDealType)).then(function (data) {\n      setTotalResults(data.data.length);\n      handleItemsToShow(data.data);\n    });\n  }, [leasingDealType]);\n\n  const handleContactClick = () => {\n    modalContext.showModal(ModalContact, {\n      show: true,\n      title: \"Contact\"\n    });\n  };\n\n  const sort = displayOrder => {\n    if (dealsToDisplay.length > 0) {\n      let sortedList = _.sortBy(dealsToDisplay, function (item) {\n        var deal = leasingDealType === LeasingDealTypes.Personal ? item.personalDeal : item.businessDeal;\n\n        if (deal) {\n          return deal[displayOrder.value];\n        }\n      });\n\n      if (displayOrder.direction === 'DESC') {\n        sortedList = sortedList.reverse();\n      }\n\n      setDealsToDisplay(sortedList);\n    }\n  };\n\n  const handleItemsToShow = data => {\n    let itemsToShow = JSON.parse(JSON.stringify(data)); // clone object\n\n    var makesFiltered = _.sortBy(_.uniq(_.map(itemsToShow, function (item) {\n      return item.make;\n    })));\n\n    let newMakeList = [defaultMake];\n    makesFiltered.forEach(make => {\n      newMakeList.push({\n        value: make,\n        name: make\n      });\n    });\n    sort(displayOrder);\n    setMakesList(newMakeList);\n    setSelectedMake(defaultMake);\n    setShortTermDealsData(itemsToShow);\n    setDealsToDisplay(itemsToShow);\n    setTotalResults(shortTermDealsData.length);\n  };\n\n  const filterShortTermDeals = async (vehicleType, leaseDealType) => {\n    return await GetShortTermDeals(vehicleType, leaseDealType);\n  };\n\n  const showEnquiryModal = item => {\n    if (item && item.id) {\n      let enquiryData = {\n        dealType: 3,\n        dealId: item.id,\n        leasingDealType: leasingDealType,\n        details: item.make + \" \" + item.model + \" \" + item.derivative\n      };\n      modalContext.showModal(VehicleQuoteEnquiryModal, {\n        show: true,\n        title: \"Enquire Now\",\n        baseData: enquiryData,\n        settings: {\n          isIntrenal: false,\n          leasingMessage: item.make + \" \" + item.model + \" \" + item.derivative,\n          proceededToApplyForFinanceDirectly: false\n        }\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(PageBanner, {\n      className: `page-banner--${cssTrail}`,\n      image: \"\",\n      children: /*#__PURE__*/_jsx(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          className: \"col-24 col-md-20 col-lg-18 pt-md-3\",\n          children: [/*#__PURE__*/_jsxs(\"h1\", {\n            className: \"text-white\",\n            children: [\"Short Term \", vehicleType === VehicleTypes.Commercial ? \"Van\" : \"Car\", \" Leasing\"]\n          }), /*#__PURE__*/_jsx(\"p\", {\n            className: \"text-white mb-3 mb-md-5\",\n            children: \"Find a flexible lease contract with our range of short term car and van leases.\"\n          }), /*#__PURE__*/_jsxs(\"ul\", {\n            className: \"mb-3 mb-md-5\",\n            children: [/*#__PURE__*/_jsxs(\"li\", {\n              className: \"text-white\",\n              children: [/*#__PURE__*/_jsx(FontAwesomeIcon, {\n                width: \"16\",\n                height: \"16\",\n                icon: faCheck\n              }), \" No long-term commitment\"]\n            }), /*#__PURE__*/_jsxs(\"li\", {\n              className: \"text-white\",\n              children: [/*#__PURE__*/_jsx(FontAwesomeIcon, {\n                width: \"16\",\n                height: \"16\",\n                icon: faCheck\n              }), \" More cost-effective than daily rentals\"]\n            }), /*#__PURE__*/_jsxs(\"li\", {\n              className: \"text-white\",\n              children: [/*#__PURE__*/_jsx(FontAwesomeIcon, {\n                width: \"16\",\n                height: \"16\",\n                icon: faCheck\n              }), \" Simple, fixed monthly payments\"]\n            }), /*#__PURE__*/_jsxs(\"li\", {\n              className: \"text-white\",\n              children: [/*#__PURE__*/_jsx(FontAwesomeIcon, {\n                width: \"16\",\n                height: \"16\",\n                icon: faCheck\n              }), \" New vehicle in as little as three days\"]\n            }), /*#__PURE__*/_jsxs(\"li\", {\n              className: \"text-white\",\n              children: [/*#__PURE__*/_jsx(FontAwesomeIcon, {\n                width: \"16\",\n                height: \"16\",\n                icon: faCheck\n              }), \" Maintenance and servicing included\"]\n            }), /*#__PURE__*/_jsxs(\"li\", {\n              className: \"text-white\",\n              children: [/*#__PURE__*/_jsx(FontAwesomeIcon, {\n                width: \"16\",\n                height: \"16\",\n                icon: faCheck\n              }), \" Get a Brand New Car Delivered within 3 days (subject to vehicle availability)\"]\n            }), /*#__PURE__*/_jsxs(\"li\", {\n              className: \"text-white\",\n              children: [/*#__PURE__*/_jsx(FontAwesomeIcon, {\n                width: \"16\",\n                height: \"16\",\n                icon: faCheck\n              }), \" Fully Covered with Road Tax, Maintenance and Servicing Included\"]\n            })]\n          }), /*#__PURE__*/_jsx(\"button\", {\n            className: \"btn btn-primary btn-lg\",\n            onClick: () => handleContactClick(),\n            children: \"Get in touch\"\n          })]\n        })\n      })\n    }), /*#__PURE__*/_jsxs(PageUsps, {\n      className: \"bg-light-grey\",\n      logoUrl: `${imagesPath}/stl-logo.svg`,\n      children: [/*#__PURE__*/_jsxs(\"div\", {\n        children: [/*#__PURE__*/_jsx(\"img\", {\n          \"data-src\": `${imagesPath}/contract.svg`,\n          className: \"lazyload\",\n          alt: \"\"\n        }), /*#__PURE__*/_jsx(\"span\", {\n          children: \"Shorter Contract\"\n        })]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        children: [/*#__PURE__*/_jsx(\"img\", {\n          \"data-src\": `${imagesPath}/repairs.svg`,\n          className: \"lazyload\",\n          alt: \"\"\n        }), /*#__PURE__*/_jsx(\"span\", {\n          children: \"Maintenance & Repairs\"\n        })]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        children: [/*#__PURE__*/_jsx(\"img\", {\n          \"data-src\": `${imagesPath}/payments.svg`,\n          className: \"lazyload\",\n          alt: \"\"\n        }), /*#__PURE__*/_jsx(\"span\", {\n          children: \"Fixed Monthly Payments\"\n        })]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        children: [/*#__PURE__*/_jsx(\"img\", {\n          \"data-src\": `${imagesPath}/delivery.svg`,\n          className: \"lazyload\",\n          alt: \"\"\n        }), /*#__PURE__*/_jsx(\"span\", {\n          children: \"Fast Delivery\"\n        })]\n      })]\n    }), shortTermDealsData.length > 0 ? /*#__PURE__*/_jsxs(\"section\", {\n      className: \"container-fluid py-3 py-md-5 bg-white\",\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsx(\"div\", {\n          className: \"col-24\",\n          children: /*#__PURE__*/_jsxs(\"h2\", {\n            className: \"mb-3 mb-md-5\",\n            children: [/*#__PURE__*/_jsx(\"mark\", {\n              className: \"mark-text\",\n              children: totalResults\n            }), \" Short Term Deals Available\"]\n          })\n        })\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: \"col-24 col-md-12 col-lg-6 mb-3 mb-md-5\",\n          children: /*#__PURE__*/_jsx(DropDown, {\n            indicator: true,\n            active: defaultMake.name,\n            wrapperClass: \"w-100\",\n            buttonClass: \"btn-block btn-outline-secondary\",\n            buttonText: \"Make\",\n            children: makesList.map(make => /*#__PURE__*/_jsx(\"button\", {\n              type: \"button\",\n              className: \"text-left\",\n              onClick: () => setSelectedMake(make),\n              children: make.name\n            }, `make-${make.value}`))\n          })\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"col-24 col-md-12 col-lg-6 offset-lg-12 mb-3 mb-md-5\",\n          children: /*#__PURE__*/_jsxs(DropDown, {\n            indicator: true,\n            active: displayOrder.label,\n            wrapperClass: \"w-100\",\n            buttonClass: \"btn-block btn-outline-secondary\",\n            buttonText: \"Sort by\",\n            children: [/*#__PURE__*/_jsxs(\"button\", {\n              type: \"button\",\n              className: \"text-left\",\n              onClick: () => setDisplayOrder({\n                label: 'Price High >Low',\n                value: 'monthlyPrice',\n                direction: 'DESC'\n              }),\n              children: [\"Price High \", '>', \" Low\"]\n            }), /*#__PURE__*/_jsxs(\"button\", {\n              type: \"button\",\n              className: \"text-left\",\n              onClick: () => setDisplayOrder({\n                label: 'Price Low > High',\n                value: 'monthlyPrice',\n                direction: 'ASC'\n              }),\n              children: [\"Price Low \", '>', \" High\"]\n            }), /*#__PURE__*/_jsxs(\"button\", {\n              type: \"button\",\n              className: \"text-left\",\n              onClick: () => setDisplayOrder({\n                label: 'Term Low > High',\n                value: 'term',\n                direction: 'DESC'\n              }),\n              children: [\"Term Low \", '>', \" High\"]\n            }), /*#__PURE__*/_jsxs(\"button\", {\n              type: \"button\",\n              className: \"text-left\",\n              onClick: () => setDisplayOrder({\n                label: 'Term High > Low',\n                value: 'term',\n                direction: 'ASC'\n              }),\n              children: [\"Term High \", '>', \" Low\"]\n            })]\n          })\n        })]\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsx(\"div\", {\n          className: \"col-24 px-2 px-md-0\",\n          children: /*#__PURE__*/_jsx(CardWithStickers, {\n            children: /*#__PURE__*/_jsx(VehicleCarousel, {\n              tabletArrows: true,\n              desktopArrows: true,\n              infinite: shortTermDealsData.length > 3,\n              children: dealsToDisplay.map(vehicle => /*#__PURE__*/_jsx(CardVehicleShort, {\n                vehicle: vehicle,\n                leasingDealType: leasingDealType,\n                settings: {\n                  onEnquiry: showEnquiryModal\n                }\n              }, `featured-${vehicle.id}`))\n            })\n          })\n        })\n      })]\n    }) : null, /*#__PURE__*/_jsx(\"section\", {\n      className: \"container-fluid bg-light-grey py-5\",\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: \"col-24 col-lg-6 d-flex flex-wrap order-lg-2\",\n          children: [/*#__PURE__*/_jsx(AsideAccordion, {\n            title: \"About Short Term Car Leasing\",\n            children: /*#__PURE__*/_jsxs(\"nav\", {\n              children: [/*#__PURE__*/_jsx(\"a\", {\n                href: \"#what\",\n                className: \"anchor-link\",\n                children: \"What is Short Term Leasing?\"\n              }), /*#__PURE__*/_jsx(\"a\", {\n                href: \"#leasing\",\n                className: \"anchor-link\",\n                children: \"Personal or Business Short Term Leasing?\"\n              }), /*#__PURE__*/_jsx(\"a\", {\n                href: \"#faqs\",\n                className: \"anchor-link\",\n                children: \"FAQs\"\n              }), /*#__PURE__*/_jsx(\"a\", {\n                onClick: evt => handleContactClick(),\n                \"aria-label\": \"Contact\",\n                children: \"Contact\"\n              })]\n            })\n          }), /*#__PURE__*/_jsx(AsideGuides, {\n            categoryList: categoryList\n          })]\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"col-24 col-lg-18 d-flex flex-wrap order-lg-1\",\n          children: /*#__PURE__*/_jsxs(\"div\", {\n            id: \"what\",\n            className: \"box p-3 p-md-5 bg-white page-content\",\n            children: [vehicleType === VehicleTypes.Car ? /*#__PURE__*/_jsxs(_Fragment, {\n              children: [/*#__PURE__*/_jsx(\"h2\", {\n                children: \"What is Short Term Car Leasing?\"\n              }), /*#__PURE__*/_jsx(\"p\", {\n                children: /*#__PURE__*/_jsx(\"strong\", {\n                  children: \"Our short term lease deals make choosing your next vehicle easy. With more flexibility, shorter contract lengths and maintenance included, you're just a few clicks away from a brand new car.\"\n                })\n              }), /*#__PURE__*/_jsx(\"p\", {\n                children: \"Sometimes a two, three or four year agreement is longer than necessary and you may only need a short term lease to fill a gap for a few months. Leasing Options are here to help with a range of short term contracts that allow a fixed rate of payment over terms as little as just three months. All short-term contracts come with maintenance and your new car could be delivered in as little as three days!\"\n              })]\n            }) : null, vehicleType === VehicleTypes.Commercial ? /*#__PURE__*/_jsxs(_Fragment, {\n              children: [/*#__PURE__*/_jsx(\"h2\", {\n                children: \"What is Short Term Van Leasing?\"\n              }), /*#__PURE__*/_jsx(\"p\", {\n                children: /*#__PURE__*/_jsx(\"strong\", {\n                  children: \"Our short term lease deals make choosing your next vehicle easy. With more flexibility, shorter contract lengths and maintenance included, you're just a few clicks away from a brand new van or pickup.\"\n                })\n              }), /*#__PURE__*/_jsx(\"p\", {\n                children: \"Sometimes a two, three or four year agreement is longer than necessary and you may only need a short term lease to fill a gap for a few months. Leasing Options are here to help with a range of short term contracts that allow a fixed rate of payment over terms even as short as just three months. All short term contracts come with maintenance and your new van or pickup could be delivered in as little as three days!\"\n              })]\n            }) : null, leasingDealType === LeasingDealTypes.Business && /*#__PURE__*/_jsxs(_Fragment, {\n              children: [/*#__PURE__*/_jsx(\"h2\", {\n                children: \"Benefits\"\n              }), /*#__PURE__*/_jsx(\"p\", {\n                children: \" Reclaimable VAT on monthly leasing payments (100% reclaimable for sole business use or 50% for mixed business-private usage)\"\n              }), /*#__PURE__*/_jsx(\"p\", {\n                children: \"Reclaimable monthly lease payments (for cars emitting 110g/km or less CO2 100% is reclaimable or 85% if emissions are 111/km or more)\"\n              })]\n            }), /*#__PURE__*/_jsx(TrustMini, {\n              theme: TrustThemeTypes.Dark\n            })]\n          })\n        })]\n      })\n    }), /*#__PURE__*/_jsx(\"section\", {\n      id: \"leasing\",\n      className: `container-fluid bg-${cssTrail} py-3 py-md-5`,\n      children: /*#__PURE__*/_jsx(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsx(\"div\", {\n          className: \"col-24\",\n          children: /*#__PURE__*/_jsxs(\"div\", {\n            className: \"w-100 bg-white p-3 p-md-5\",\n            children: [/*#__PURE__*/_jsx(\"div\", {\n              className: \"row\",\n              children: /*#__PURE__*/_jsx(\"div\", {\n                className: \"col-24 text-center\",\n                children: /*#__PURE__*/_jsx(\"h2\", {\n                  className: \"mb-4 mb-md-5\",\n                  children: \"Do I Need Personal or Business Short Term Leasing?\"\n                })\n              })\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: \"row\",\n              children: [/*#__PURE__*/_jsx(\"div\", {\n                className: \"col-24 col-md-12 d-flex\",\n                children: /*#__PURE__*/_jsxs(\"div\", {\n                  className: \"w-100 box box--stl p-3 p-md-4 mb-3 mb-md-0 text-center\",\n                  children: [/*#__PURE__*/_jsx(\"h3\", {\n                    className: \"text-center mb-3 mb-md-5\",\n                    children: \"Personal Short Term Leasing\"\n                  }), /*#__PURE__*/_jsxs(\"ul\", {\n                    children: [/*#__PURE__*/_jsx(\"li\", {\n                      children: \"You have a new vehicle on order with a longer than usual waiting period\"\n                    }), /*#__PURE__*/_jsx(\"li\", {\n                      children: \"You have a little or no credit history or a poor credit history\"\n                    }), /*#__PURE__*/_jsx(\"li\", {\n                      children: \"Want flexibility and a quick delivery time\"\n                    })]\n                  })]\n                })\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: \"col-24 col-md-12 d-flex\",\n                children: /*#__PURE__*/_jsxs(\"div\", {\n                  className: \"w-100 box box--stl p-3 p-md-4 mb-3 mb-md-0 text-center\",\n                  children: [/*#__PURE__*/_jsx(\"h3\", {\n                    className: \"text-center mb-3 mb-md-5\",\n                    children: \"Business Short Term Leasing\"\n                  }), /*#__PURE__*/_jsxs(\"ul\", {\n                    children: [/*#__PURE__*/_jsx(\"li\", {\n                      children: \"You do not want to commit to a long term contract\"\n                    }), /*#__PURE__*/_jsx(\"li\", {\n                      children: \"Have contract, seasonal or temporary employees\"\n                    }), /*#__PURE__*/_jsx(\"li\", {\n                      children: \"If your business is seasonal, with a varying need for vehicles\"\n                    })]\n                  })]\n                })\n              })]\n            })]\n          })\n        })\n      })\n    }), faqList ? /*#__PURE__*/_jsx(Faqs, {\n      title: \"Short Term Leasing FAQs\",\n      titleCentered: true,\n      className: \"bg-light-grey\",\n      faqs: faqList\n    }) : null]\n  });\n};\n\nexport default ShortTermPage;","map":null,"metadata":{},"sourceType":"module"}