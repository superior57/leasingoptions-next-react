{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport { useFormContext, Controller } from \"react-hook-form\";\nimport DatePicker from \"react-datepicker\";\nimport { getFieldName, getFieldError } from 'helpers/fieldArrayHelper';\nimport { IsOver18 } from 'helpers/validation';\nimport '../../../node_modules/react-datepicker/dist/react-datepicker.min.css';\n\nvar DateOfBirth = function DateOfBirth(_ref) {\n  var _getFieldError, _getFieldError2;\n\n  var collectionName = _ref.collectionName,\n      index = _ref.index,\n      defaultValue = _ref.defaultValue,\n      minYears = _ref.minYears;\n\n  var _useFormContext = useFormContext(),\n      register = _useFormContext.register,\n      errors = _useFormContext.errors,\n      control = _useFormContext.control;\n\n  return /*#__PURE__*/_jsx(\"div\", {\n    className: \"form-row mb-3\",\n    children: /*#__PURE__*/_jsxs(\"div\", {\n      className: \"col-24 col-md-12 col-lg-6\",\n      children: [/*#__PURE__*/_jsxs(\"label\", {\n        children: [\"Date of Birth \", /*#__PURE__*/_jsx(\"small\", {\n          children: \"(Required)\"\n        })]\n      }), /*#__PURE__*/_jsx(Controller, {\n        as: DatePicker,\n        control: control,\n        valueName: \"selected\",\n        name: getFieldName(\"dob\", collectionName, index),\n        className: \"form-control \".concat(getFieldError(\"dob\", collectionName, index, errors) ? \"is-invalid\" : \"\"),\n        dateFormat: \"dd/MM/yyyy\",\n        maxDate: new Date().setFullYear(new Date().getFullYear() - minYears),\n        placeholderText: \"Date of birth\",\n        defaultValue: defaultValue,\n        rules: {\n          required: true,\n          validate: IsOver18\n        },\n        showMonthDropdown: true,\n        useShortMonthInDropdown: true,\n        showYearDropdown: 15\n      }), ((_getFieldError = getFieldError(\"dob\", collectionName, index, errors)) === null || _getFieldError === void 0 ? void 0 : _getFieldError.type) === \"required\" && /*#__PURE__*/_jsx(\"span\", {\n        className: \"invalid-feedback d-block\",\n        children: \"This field is required\"\n      }), ((_getFieldError2 = getFieldError(\"dob\", collectionName, index, errors)) === null || _getFieldError2 === void 0 ? void 0 : _getFieldError2.type) === \"validate\" && /*#__PURE__*/_jsx(\"span\", {\n        className: \"invalid-feedback d-block\",\n        children: \"You need to be at least 18 years old\"\n      })]\n    })\n  });\n};\n\nexport default DateOfBirth;","map":null,"metadata":{},"sourceType":"module"}