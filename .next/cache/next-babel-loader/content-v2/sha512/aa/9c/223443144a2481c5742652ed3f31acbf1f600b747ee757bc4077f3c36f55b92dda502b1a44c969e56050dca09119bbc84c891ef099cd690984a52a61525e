{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useState, useEffect } from 'react';\nimport { useFormContext } from \"react-hook-form\";\nimport { getFieldName, getFieldId } from 'helpers/fieldArrayHelper';\nimport DiretorDetails from '../business/director-details';\n\nconst BusinessDirectorList = ({\n  formData\n}) => {\n  const collectionName = \"directors\";\n  const {\n    register\n  } = useFormContext();\n  const {\n    0: directors,\n    1: setDirectors\n  } = useState([]);\n  useEffect(() => {\n    if (!formData[collectionName]) {\n      addDirector({});\n    } else {\n      setDirectors(formData[collectionName]);\n    }\n  }, []);\n\n  const addDirector = props => {\n    setDirectors([...directors, props]);\n  };\n\n  const removeDirector = () => {\n    setDirectors([...directors.slice(0, 1)]);\n  };\n\n  const onRadioboxChange = evt => {\n    if (evt.target.value === \"yes\" && directors.length === 1) {\n      addDirector({});\n    } else if (evt.target.value === \"no\" && directors.length > 1) {\n      removeDirector();\n    }\n  };\n\n  return /*#__PURE__*/_jsx(_Fragment, {\n    children: directors.map((item, index) => {\n      return /*#__PURE__*/_jsxs(React.Fragment, {\n        children: [/*#__PURE__*/_jsx(\"h3\", {\n          children: index === 0 ? \"Director Details\" : \"Additional Director\"\n        }), /*#__PURE__*/_jsx(DiretorDetails, {\n          collectionName: collectionName,\n          index: index,\n          formData: item\n        }), index === 0 && /*#__PURE__*/_jsxs(_Fragment, {\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: \"form-row\",\n            children: /*#__PURE__*/_jsx(\"div\", {\n              className: \"col-24 col-md-12\",\n              children: /*#__PURE__*/_jsx(\"label\", {\n                children: \"Add Director\"\n              })\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"form-row mb-5\",\n            children: /*#__PURE__*/_jsxs(\"div\", {\n              className: \"col-24 col-md-12\",\n              children: [/*#__PURE__*/_jsxs(\"div\", {\n                className: \"form-check form-check-inline\",\n                children: [/*#__PURE__*/_jsx(\"input\", {\n                  className: \"form-check-input\",\n                  type: \"radio\",\n                  name: getFieldName(\"addDirector\", collectionName, index),\n                  id: getFieldId(\"addDirector_yes\", collectionName, index),\n                  value: \"yes\",\n                  ref: register(),\n                  defaultChecked: item.addDirector == \"yes\",\n                  onChange: onRadioboxChange\n                }), /*#__PURE__*/_jsx(\"label\", {\n                  className: \"form-check-label\",\n                  htmlFor: getFieldId(\"addDirector_yes\", collectionName, index),\n                  children: \"Yes\"\n                })]\n              }), /*#__PURE__*/_jsxs(\"div\", {\n                className: \"form-check form-check-inline\",\n                children: [/*#__PURE__*/_jsx(\"input\", {\n                  className: \"form-check-input\",\n                  type: \"radio\",\n                  name: getFieldName(\"addDirector\", collectionName, index),\n                  id: getFieldId(\"addDirector_no\", collectionName, index),\n                  value: \"no\",\n                  ref: register(),\n                  defaultChecked: !item.addDirector || item.addDirector == \"no\",\n                  onChange: onRadioboxChange\n                }), /*#__PURE__*/_jsx(\"label\", {\n                  className: \"form-check-label\",\n                  htmlFor: getFieldId(\"addDirector_no\", collectionName, index),\n                  children: \"No\"\n                })]\n              })]\n            })\n          })]\n        })]\n      }, index);\n    })\n  });\n};\n\nexport default BusinessDirectorList;","map":null,"metadata":{},"sourceType":"module"}