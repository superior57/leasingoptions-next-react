{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useState, useEffect } from 'react';\nimport AccountBox from '../account-box';\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faMobileAlt } from \"@fortawesome/free-solid-svg-icons\";\nimport { Button } from 'react-bootstrap';\nimport AccountAPI from 'API/AccountAPI';\n\nvar AccountAlerts = function AccountAlerts(props) {\n  var _props$currentContrac, _props$currentContrac4, _props$currentContrac5;\n\n  var _useState = useState(),\n      customer = _useState[0],\n      setCustomer = _useState[1];\n\n  useEffect(function () {\n    setCustomer(JSON.parse(localStorage.getItem('lo-account-credentials')));\n  }, []);\n\n  var _useState2 = useState(false),\n      smsToggle = _useState2[0],\n      setSmsToggle = _useState2[1];\n\n  var _useState3 = useState((_props$currentContrac = props.currentContract) === null || _props$currentContrac === void 0 ? void 0 : _props$currentContrac.renewalAlertSmsNumber),\n      smsPhoneNumber = _useState3[0],\n      setSmsPhoneNumber = _useState3[1];\n\n  var handleSmsToggle = function handleSmsToggle(evt) {\n    evt.preventDefault();\n    setSmsToggle(true);\n  };\n\n  var handleAlertChange = function handleAlertChange(evt) {\n    var _props$currentContrac2;\n\n    var alertData = {\n      accountId: customer === null || customer === void 0 ? void 0 : customer.accountId,\n      dealsheetId: (_props$currentContrac2 = props.currentContract) === null || _props$currentContrac2 === void 0 ? void 0 : _props$currentContrac2.dealsheetId,\n      type: evt.target.name,\n      value: evt.target.value\n    };\n    AccountAPI.setRenewalAlert(alertData)[\"catch\"](function (error) {\n      console.log(error);\n    });\n  };\n\n  var handleSmsClick = function handleSmsClick() {\n    setSmsToggle(false);\n    props.handleSmsChange(smsPhoneNumber);\n  };\n\n  useEffect(function () {\n    var _props$currentContrac3;\n\n    setSmsPhoneNumber((_props$currentContrac3 = props.currentContract) === null || _props$currentContrac3 === void 0 ? void 0 : _props$currentContrac3.renewalAlertSmsNumber);\n  }, [props.currentContract]);\n  return /*#__PURE__*/_jsxs(AccountBox, {\n    icon: /*#__PURE__*/_jsx(FontAwesomeIcon, {\n      icon: faMobileAlt\n    }),\n    title: \"CONTRACT EXPIRATION ALERTS\",\n    border: false,\n    children: [/*#__PURE__*/_jsxs(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxs(\"div\", {\n        className: \"col-24 mb-2 \".concat(smsToggle ? \"d-none\" : \"\"),\n        children: [\"Please notify me with an SMS on \", (_props$currentContrac4 = props.currentContract) === null || _props$currentContrac4 === void 0 ? void 0 : _props$currentContrac4.renewalAlertSmsNumber, \" click \", /*#__PURE__*/_jsx(\"button\", {\n          className: \"btn btn-text\",\n          onClick: function onClick(evt) {\n            return handleSmsToggle(evt);\n          },\n          children: \"here\"\n        }), \" to change\"]\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: \"col-24 mb-2 \".concat(smsToggle ? \"\" : \"d-none\"),\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          className: \"form-row mb-3\",\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: \"col-14 col-sm-18 mb-2 mb-md-0\",\n            children: /*#__PURE__*/_jsx(\"input\", {\n              type: \"text\",\n              value: smsPhoneNumber,\n              onChange: function onChange(evt) {\n                setSmsPhoneNumber(parseInt(evt.target.value));\n              },\n              className: \"form-control\"\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"col-10 col-sm-6\",\n            children: /*#__PURE__*/_jsx(Button, {\n              className: \"btn btn-success btn-lg btn-fluid\",\n              onClick: function onClick() {\n                return handleSmsClick();\n              },\n              children: \"Apply\"\n            })\n          })]\n        })\n      })]\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        className: \"col-4 offset-16 text-center mb-1\",\n        children: /*#__PURE__*/_jsx(\"strong\", {\n          children: \"YES\"\n        })\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: \"col-4 text-center mb-1\",\n        children: /*#__PURE__*/_jsx(\"strong\", {\n          children: \"NO\"\n        })\n      })]\n    }), (_props$currentContrac5 = props.currentContract) === null || _props$currentContrac5 === void 0 ? void 0 : _props$currentContrac5.renewalAlerts.map(function (alert) {\n      return /*#__PURE__*/_jsxs(\"div\", {\n        className: \"row py-3 bg-white \".concat(alert.type === 1 ? \"border-bottom border-dark\" : \"\"),\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: \"col-16\",\n          children: [/*#__PURE__*/_jsxs(\"strong\", {\n            children: [alert.type === 1 ? \"3\" : \"6\", \" Month\"]\n          }), \" Alert\"]\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"col-4\",\n          children: /*#__PURE__*/_jsx(\"input\", {\n            type: \"radio\",\n            defaultChecked: alert.value ? true : false,\n            value: \"true\",\n            name: \"\".concat(alert.type),\n            onChange: function onChange(evt) {\n              return handleAlertChange(evt);\n            },\n            className: \"form-control\"\n          })\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"col-4\",\n          children: /*#__PURE__*/_jsx(\"input\", {\n            type: \"radio\",\n            defaultChecked: !alert.value ? true : false,\n            value: \"false\",\n            name: \"\".concat(alert.type),\n            onChange: function onChange(evt) {\n              return handleAlertChange(evt);\n            },\n            className: \"form-control\"\n          })\n        })]\n      }, alert.type);\n    })]\n  });\n};\n\nexport default AccountAlerts;","map":null,"metadata":{},"sourceType":"module"}