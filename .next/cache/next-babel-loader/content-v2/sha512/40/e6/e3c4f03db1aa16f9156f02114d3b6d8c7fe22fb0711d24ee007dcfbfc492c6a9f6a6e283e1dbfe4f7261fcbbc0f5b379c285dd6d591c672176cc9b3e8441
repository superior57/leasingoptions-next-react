{"ast":null,"code":"import { VehicleTypes } from \"enums/VehicleTypes\";\nimport { LeasingDealTypes } from \"enums/LeasingDealTypes\";\nimport { isNullOrWhiteSpace } from \"./stringHelper\";\nimport { getFriendlyUrlSegment, getUrl } from \"./urlsHelper\";\n\nconst queryString = require('query-string');\n\nexport const GetCanonicalUrl = relativePath => {\n  return process.env.NEXT_PUBLIC_CANONICALBASEURL + (!isNullOrWhiteSpace(relativePath) && relativePath !== \"/\" ? relativePath : \"\");\n};\nexport const GetNonAmpCanonicalUrl = relativePath => {\n  if (process.env.NEXT_PUBLIC_CANONICALBASEURL + (!isNullOrWhiteSpace(relativePath) && relativePath !== \"/\")) {\n    return relativePath.replace(\"/amp\", \"\");\n  } else {\n    return relativePath;\n  }\n};\nexport const GetVehiclesSearchUrl = (leasingDealType, userPostcode, trailingPart = null) => {\n  if (userPostcode) {\n    return GetAtcUrl(leasingDealType, userPostcode, \"/search\");\n  } else {\n    let vehicleTemplateUrl = GetVehicleUrlTemplate(leasingDealType).toLowerCase();\n\n    if (vehicleTemplateUrl.includes(\"?\")) {\n      var fullUrl = vehicleTemplateUrl.split('?');\n      var startUrl = fullUrl[0];\n      var endUrl = fullUrl[1];\n      return startUrl + \"/search?\" + endUrl + (trailingPart ? \"&\" + trailingPart : '');\n    } else {\n      return vehicleTemplateUrl + \"/search\" + (trailingPart ? \"?\" + trailingPart : '');\n    }\n  }\n};\nexport const GetVehicleManufacturerUrl = (isATC, userPostcode, leasingDealType, manufacturer) => {\n  if (isATC && userPostcode) {\n    return GetAtcUrl(leasingDealType, userPostcode, \"/\" + getFriendlyUrlSegment(manufacturer));\n  } else {\n    return GetDealTypeUrl(leasingDealType, \"/\" + getFriendlyUrlSegment(manufacturer));\n  }\n};\nexport const GetShortModelUrl = (isATC, userPostcode, leasingDealType, manufacturer, shortModText, vehicleFilters) => {\n  let baseUrl = '';\n  let queryParams = [];\n\n  if (isATC && userPostcode) {\n    baseUrl = GetAtcUrl(leasingDealType, userPostcode, \"/\" + getFriendlyUrlSegment(manufacturer) + \"/\" + getFriendlyUrlSegment(shortModText));\n  } else {\n    baseUrl = GetDealTypeUrl(leasingDealType, \"/\" + getFriendlyUrlSegment(manufacturer) + \"/\" + getFriendlyUrlSegment(shortModText));\n  }\n\n  return getUrl(baseUrl, GetQueryParamsFromFilter(vehicleFilters));\n};\nexport const GetDynamicShortModelUrl = (isATC, userPostcode, leasingDealType, vehicleFilters) => {\n  let baseUrl = '';\n  let queryParams = [];\n\n  if (isATC && userPostcode) {\n    baseUrl = GetAtcUrl(leasingDealType, userPostcode, \"/[make]/[shortModel]\");\n  } else {\n    baseUrl = GetDealTypeUrl(leasingDealType, \"/[make]/[shortModel]\");\n  }\n\n  return getUrl(baseUrl, GetQueryParamsFromFilter(vehicleFilters));\n};\nexport const GetNewsTypeUrl = newsType => {\n  var newsTypeUrl = getFriendlyUrlSegment(newsType).trim();\n\n  if (newsTypeUrl) {\n    return \"/news/\" + newsTypeUrl;\n  }\n\n  return null;\n};\nexport const GetAdviceCategoryUrl = categoryUrl => {\n  return \"/advice/\" + getFriendlyUrlSegment(categoryUrl).toLowerCase();\n};\nexport const GetAdviceTagUrl = tagUrl => {\n  return \"/advice/tag-\" + getFriendlyUrlSegment(tagUrl).toLowerCase();\n};\nexport const GetAdviceArticleUrl = (categoryUrl, articleUrl) => {\n  return (\"/advice/\" + getFriendlyUrlSegment(categoryUrl) + \"/\" + getFriendlyUrlSegment(articleUrl)).toLowerCase();\n};\nexport const BodyTypeUrlLeasingDeal = (leasingDealType, bodyType) => {\n  return GetDealTypeUrl(leasingDealType, \"/body-type-\" + getFriendlyUrlSegment(bodyType.toString()));\n};\nexport const ShortTermLeasing = leasingDealType => {\n  return GetDealTypeUrl(leasingDealType, \"/short-term\");\n};\nexport const InStockUrlLeasingType = leasingDealType => {\n  return GetDealTypeUrl(leasingDealType, \"/in-stock\");\n};\nexport const BudgetToUrlLeasingType = (leasingDealType, budget) => {\n  return GetDealTypeUrl(leasingDealType, \"/budget/\" + budget);\n};\nexport const BudgetFromUrlLeasingDealType = (leasingDealType, budget) => {\n  return GetDealTypeUrl(leasingDealType, \"/budget-over/\" + budget);\n};\nexport const BudgetToUrlVehicleType = (vehicleType, budget) => {\n  return GetVehicleTypeUrl(vehicleType, \"/budget/\" + budget);\n};\nexport const BudgetFromUrlVehicleType = (vehicleType, budget) => {\n  return GetVehicleTypeUrl(vehicleType, \"/budget-over/\" + budget);\n};\nexport const BodyTypeUrlVehicleType = (vehicleType, bodyType) => {\n  return GetVehicleTypeUrl(vehicleType, \"/body-type/\" + getFriendlyUrlSegment(bodyType.toString()));\n};\nexport const InStockUrlVehicleType = vehicleType => {\n  return GetVehicleTypeUrl(vehicleType, \"/in-stock\");\n};\nexport const GetVehicleUrlTemplate = leasingDealType => {\n  var result = \"/\" + (leasingDealType == LeasingDealTypes.Van ? \"van\" : \"car\") + \"-leasing\";\n\n  if (leasingDealType == LeasingDealTypes.Business) {\n    result += \"?leasingdeal=business\";\n  }\n\n  return result.toLowerCase();\n};\nexport const GetVehicleUrl = (isATC, userPostcode, leasingDealType, manufacturer, shortModText, model, derivative, vehicleref, mileage, rentals, term, isDefault = false, isInternal = false) => {\n  let url = \"\";\n\n  if (isATC && userPostcode) {\n    url = GetAtcUrl(leasingDealType, userPostcode, \"/\" + getFriendlyUrlSegment(manufacturer) + \"/\" + getFriendlyUrlSegment(shortModText) + \"/\" + getFriendlyUrlSegment(model) + \"/\" + getFriendlyUrlSegment(derivative) + \"/\" + vehicleref + \"/vehicle\");\n  } else {\n    url = GetDealTypeUrl(leasingDealType, \"/\" + getFriendlyUrlSegment(manufacturer) + \"/\" + getFriendlyUrlSegment(shortModText) + \"/\" + getFriendlyUrlSegment(model) + \"/\" + getFriendlyUrlSegment(derivative) + \"/\" + vehicleref + \"/vehicle\");\n  }\n\n  if (mileage || rentals || term || isDefault || isInternal) {\n    if (!url.includes('?')) {\n      url += \"?\";\n    }\n\n    if (mileage && rentals && term) {\n      url += '&' + queryString.stringify({\n        mileage,\n        rentals,\n        term\n      });\n    }\n\n    if (isInternal) {\n      url += \"&isInternal=1\";\n    }\n\n    if (isDefault) {\n      url += \"&isDefault=1\";\n    }\n  }\n\n  return url.toLowerCase();\n};\nexport const GetDynamicVehicleUrl = (isATC, userPostcode, leasingDealType) => {\n  let url = \"\";\n\n  if (isATC && userPostcode) {\n    url = GetAtcUrl(leasingDealType, userPostcode, \"/[make]/[shortModel]/[model]/[derivative]/[vehicleRef]/vehicle\");\n  } else {\n    url = GetDealTypeUrl(leasingDealType, \"/[make]/[shortModel]/[model]/[derivative]/[vehicleRef]/vehicle\");\n  }\n\n  return url;\n};\nexport const GetVehicleTypeUrl = (vehicleType, trailingPart = null) => {\n  var result = GetBaseVehicleTypeUrl(vehicleType);\n\n  if (!isNullOrWhiteSpace(result) && !isNullOrWhiteSpace(trailingPart)) {\n    result += trailingPart;\n  }\n\n  return result.toLowerCase();\n};\nexport const GetBaseVehicleTypeUrl = vehicleType => {\n  var result = \"\";\n\n  switch (vehicleType) {\n    case VehicleTypes.Car:\n      result = \"/car-leasing\";\n      break;\n\n    case VehicleTypes.Commercial:\n      result = \"/van-leasing\";\n      break;\n  }\n\n  return result.toLowerCase();\n};\nexport const GetDealTypeUrl = (leasingDealType, trailingPart = null) => {\n  let result = \"\";\n\n  if (leasingDealType == LeasingDealTypes.Business) {\n    result = \"/car-leasing\" + (trailingPart !== null && trailingPart !== void 0 ? trailingPart : \"\") + \"?leasingdeal=business\";\n  } else if (leasingDealType == LeasingDealTypes.Personal) {\n    result = \"/car-leasing\" + (trailingPart !== null && trailingPart !== void 0 ? trailingPart : \"\");\n  } else if (leasingDealType == LeasingDealTypes.Van) {\n    result = \"/van-leasing\" + (trailingPart !== null && trailingPart !== void 0 ? trailingPart : \"\");\n  }\n\n  return result;\n};\nexport const GetAtcUrl = (leasingDealType, userPostcode, trailingPart = null) => {\n  let result = \"/car-leasing-with-insurance/\" + getFriendlyUrlSegment(userPostcode).toLowerCase() + trailingPart;\n\n  if (leasingDealType == LeasingDealTypes.Business) {\n    result += \"?leasingdeal=business\";\n  }\n\n  return result;\n};\nexport const GetThankYouPageUrl = (isInternal, goal = null) => {\n  if (!isInternal) {\n    return \"/thankyou?goal=\" + goal;\n  } else {\n    return \"/thankyouinternal\";\n  }\n};\nexport const GetVehicleTypeFromUrl = url => {\n  if (CheckVanUrl(url)) {\n    return VehicleTypes.Commercial;\n  } else {\n    return VehicleTypes.Car;\n  }\n};\nexport const CheckAtcUrl = url => {\n  return url.includes(\"car-leasing-with-insurance\");\n};\nexport const CheckCarUrl = url => {\n  return url.includes(\"car-leasing\");\n};\nexport const CheckVanUrl = url => {\n  if (url.includes(\"van-leasing\") || url.includes(\"van-leasing-deals\")) {\n    return true;\n  } else {\n    return false;\n  }\n};\nexport const GetSearchFiltersUrl = (leasingDealType, userPostcode, vehicleFilters) => {\n  let baseUrl = null;\n  let isAtc = false;\n\n  if (userPostcode) {\n    isAtc = true;\n\n    if (vehicleFilters.manufacturerUrl === \"\") {\n      baseUrl = GetVehiclesSearchUrl(leasingDealType, userPostcode);\n    } else if (vehicleFilters.modelUrl === \"\") {\n      baseUrl = GetVehicleManufacturerUrl(isAtc, userPostcode, leasingDealType, vehicleFilters.manufacturerUrl);\n    } else {\n      baseUrl = GetShortModelUrl(isAtc, userPostcode, leasingDealType, vehicleFilters.manufacturerUrl, vehicleFilters.modelUrl, null);\n    }\n  } else {\n    if (vehicleFilters.manufacturerUrl === \"\") {\n      baseUrl = GetVehiclesSearchUrl(leasingDealType, '');\n    } else if (vehicleFilters.modelUrl === \"\") {\n      baseUrl = GetVehicleManufacturerUrl(isAtc, null, leasingDealType, vehicleFilters.manufacturerUrl);\n    } else {\n      baseUrl = GetShortModelUrl(isAtc, null, leasingDealType, vehicleFilters.manufacturerUrl, vehicleFilters.modelUrl, null);\n    }\n  }\n\n  return getUrl(baseUrl, GetQueryParamsFromFilter(vehicleFilters));\n};\n\nconst GetQueryParamsFromFilter = vehicleFilters => {\n  let queryParams = [];\n\n  if (vehicleFilters) {\n    if (vehicleFilters.shortDerTextUrl && vehicleFilters.shortDerTextUrl.id !== \"\") {\n      queryParams.push(\"trimlevel=\" + vehicleFilters.shortDerTextUrl.id);\n    }\n\n    if (vehicleFilters.mileage && vehicleFilters.mileage.id) {\n      queryParams.push(\"mileage=\" + vehicleFilters.mileage.id);\n    }\n\n    if (vehicleFilters.initialRental && vehicleFilters.initialRental.id) {\n      queryParams.push(\"rentals=\" + vehicleFilters.initialRental.id);\n    }\n\n    if (vehicleFilters.term && vehicleFilters.term.id) {\n      queryParams.push(\"term=\" + vehicleFilters.term.id);\n    }\n\n    if (vehicleFilters.priceFrom && vehicleFilters.priceFrom.id) {\n      queryParams.push(\"pricefrom=\" + vehicleFilters.priceFrom.id);\n    }\n\n    if (vehicleFilters.priceTo && vehicleFilters.priceTo.id) {\n      queryParams.push(\"priceto=\" + vehicleFilters.priceTo.id);\n    }\n\n    if (vehicleFilters.fuelType && vehicleFilters.fuelType.id) {\n      queryParams.push(\"fuel=\" + vehicleFilters.fuelType.id);\n    }\n\n    if (vehicleFilters.transmission && vehicleFilters.transmission.id) {\n      queryParams.push(\"gear=\" + vehicleFilters.transmission.id);\n    }\n\n    if (vehicleFilters.engineSize && vehicleFilters.engineSize.id !== \"\") {\n      queryParams.push(\"engine=\" + vehicleFilters.engineSize.id);\n    }\n\n    if (vehicleFilters.driveTrain && vehicleFilters.driveTrain.id !== \"\") {\n      queryParams.push(\"drivetrain=\" + vehicleFilters.driveTrain.id);\n    }\n\n    if (vehicleFilters.doors && vehicleFilters.doors.id) {\n      queryParams.push(\"doors=\" + vehicleFilters.doors.id);\n    }\n\n    if (vehicleFilters.seats && vehicleFilters.seats.id) {\n      queryParams.push(\"seats=\" + vehicleFilters.seats.id);\n    }\n\n    if (vehicleFilters.co2 && vehicleFilters.co2.id) {\n      queryParams.push(\"co2=\" + vehicleFilters.co2.id);\n    }\n\n    if (vehicleFilters.mpg && vehicleFilters.mpg.id) {\n      queryParams.push(\"mpg=\" + vehicleFilters.mpg.id);\n    }\n\n    if (vehicleFilters.vehicleStyle && vehicleFilters.vehicleStyle.id) {\n      queryParams.push(\"vehiclestyle=\" + vehicleFilters.vehicleStyle.id);\n    }\n\n    if (vehicleFilters.vehicleSize && vehicleFilters.vehicleSize.id) {\n      queryParams.push(\"vehiclesize=\" + vehicleFilters.vehicleSize.id);\n    }\n\n    if (vehicleFilters.isInStock) {\n      queryParams.push(\"isinstock=true\");\n    }\n\n    if (vehicleFilters.isSpecial) {\n      queryParams.push(\"isspecial=true\");\n    }\n  }\n\n  return queryParams;\n};\n\nexport const GetFullUrlPath = () => {\n  return window.location.pathname + window.location.search;\n};","map":null,"metadata":{},"sourceType":"module"}