{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _objectWithoutProperties from \"E:/current_project/PPH/tfs/Website/website/node_modules/next/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport React, { useState } from 'react';\nimport Router from 'next/router';\nimport style from './navigation.module.scss';\nimport { VehicleTypes } from 'enums/VehicleTypes';\nimport { GetDealTypeUrl } from 'helpers/urlHelper';\nimport { connect } from 'react-redux';\nimport { GetModels } from 'business-logic/vehicleService';\n\nfunction mapStateToProps(state) {\n  return {\n    carManufacturerList: state.carManufacturerList,\n    vanManufacturerList: state.vanManufacturerList\n  };\n}\n\nvar NavModel = function NavModel(_ref) {\n  var id = _ref.id,\n      VehicleType = _ref.VehicleType,\n      dealSelector = _ref.dealSelector,\n      otherProps = _objectWithoutProperties(_ref, [\"id\", \"VehicleType\", \"dealSelector\"]);\n\n  var _useState = useState(),\n      manfacturer = _useState[0],\n      setManufacturer = _useState[1];\n\n  var _useState2 = useState([]),\n      modelList = _useState2[0],\n      setModelList = _useState2[1];\n\n  var manufacturerList = VehicleType === VehicleTypes.Commercial ? otherProps.vanManufacturerList : otherProps.carManufacturerList;\n\n  var handleModelRequest = function handleModelRequest(evt) {\n    var manfacturerUrl = evt.currentTarget.value;\n    setManufacturer(manfacturerUrl);\n\n    if (manfacturerUrl) {\n      GetModels(VehicleType, manfacturerUrl).then(function (data) {\n        setModelList(data.data);\n      });\n    }\n  };\n\n  var handleModelClick = function handleModelClick(model) {\n    if (manfacturer) {\n      GetModels(VehicleType, manfacturer).then(function (data) {\n        setModelList(data.data);\n      });\n    }\n\n    Router.push(GetDealTypeUrl(dealSelector, '/[make]/[shortModel]'), GetDealTypeUrl(dealSelector, '/' + manfacturer + '/' + model));\n  };\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    id: id,\n    className: style['panel-content'],\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      className: \"form-group\",\n      children: /*#__PURE__*/_jsxs(\"select\", {\n        className: \"form-control\",\n        onChange: function onChange(evt) {\n          return handleModelRequest(evt);\n        },\n        children: [/*#__PURE__*/_jsx(\"option\", {\n          value: \"\",\n          children: \"Select Make\"\n        }), manufacturerList.map(function (manufacturer) {\n          return /*#__PURE__*/_jsx(\"option\", {\n            value: manufacturer.id,\n            children: manufacturer.text\n          }, manufacturer.id);\n        })]\n      })\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: \"form-group\",\n      children: /*#__PURE__*/_jsxs(\"select\", {\n        className: \"form-control\",\n        onChange: function onChange(evt) {\n          return handleModelClick(evt.currentTarget.value);\n        },\n        children: [/*#__PURE__*/_jsx(\"option\", {\n          value: \"\",\n          children: \"Select Model\"\n        }), modelList.map(function (model) {\n          return /*#__PURE__*/_jsx(\"option\", {\n            value: model.id,\n            children: model.text\n          }, model.id);\n        })]\n      })\n    })]\n  });\n};\n\nexport default connect(mapStateToProps)(NavModel);","map":null,"metadata":{},"sourceType":"module"}