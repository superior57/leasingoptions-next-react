{"ast":null,"code":"import { getSitemapVehiclesXMLPage } from \"business-logic/sitemapService\";\nimport SitemapItemChangeFrequencies from \"enums/SitemapItemChangeFrequencies\";\nimport { getFriendlyUrlSegment } from \"helpers/urlsHelper\";\nexport const getServerSideProps = async ({\n  res,\n  req,\n  query\n}) => {\n  if (!req || !res) {\n    return {\n      props: {}\n    };\n  }\n\n  const make = query.make;\n  const items = await getSitemapVehiclesXMLPage(getFriendlyUrlSegment(make));\n  res.setHeader('Content-Type', 'text/xml; charset=utf-8');\n  res.write(SitemapVehiclePages(items));\n  res.end();\n};\n\nconst SitemapVehiclePages = items => {\n  return `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n    <?xml-stylesheet type=\"text/xsl\" href=\"sitemap1.xsl\"?>\n    <urlset xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\">\n        ${items.map(function (item) {\n    return `\n                <url>\n                    <loc>${`${item.url}`}</loc>\n                    <lastmod>${`${item.modifiedOn}`}</lastmod> \n                    <changefreq>${SitemapItemChangeFrequencies[item.changeFrequency]}</changefreq> \n                    <priority>${item.priority / 10}</priority>                          \n                </url>`;\n  })}\n    </urlset>`;\n};\n\nexport default SitemapVehiclePages;","map":null,"metadata":{},"sourceType":"module"}