{"ast":null,"code":"import { getSitemapXMLPage } from \"business-logic/sitemapService\";\nexport const getServerSideProps = async ({\n  res,\n  req\n}) => {\n  if (!req || !res) {\n    return {\n      props: {}\n    };\n  }\n\n  const items = await getSitemapXMLPage();\n  res.setHeader('Content-Type', 'text/xml; charset=utf-8');\n  res.write(sitemap(items));\n  res.end();\n};\n\nconst sitemap = items => {\n  return `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n    <?xml-stylesheet type=\"text/xsl\" href=\"sitemap.xsl\"?>\n    <sitemapindex xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\">\n        ${items.map(function (item) {\n    return `\n                <sitemap>\n                    <loc>${`${item.url}`}</loc>\n                    <lastmod>${`${item.modifiedOn}`}</lastmod>                            \n                </sitemap> \n            `;\n  })}\n    </sitemapindex>`;\n};\n\nexport default sitemap;","map":null,"metadata":{},"sourceType":"module"}