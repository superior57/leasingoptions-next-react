{"ast":null,"code":"import _classCallCheck from \"E:/current_project/PPH/tfs/Website/website/node_modules/next/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _defineProperty from \"E:/current_project/PPH/tfs/Website/website/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport moment from 'moment';\nimport { ProposalTypes } from 'enums/ProposalTypes';\nexport var ProposalDataHelper = function ProposalDataHelper() {\n  _classCallCheck(this, ProposalDataHelper);\n};\n\n_defineProperty(ProposalDataHelper, \"getProposalData\", function (proposalType, data, slimVersion) {\n  switch (proposalType) {\n    case ProposalTypes.Personal:\n      if (slimVersion) {\n        return ProposalDataHelper.getPersonalProposalDataSlim(data);\n      } else {\n        return ProposalDataHelper.getPersonalProposalData(data);\n      }\n\n      break;\n\n    case ProposalTypes.BusinessSole:\n      return ProposalDataHelper.getSoleProposalData(data);\n      break;\n\n    case ProposalTypes.BusinessPartner:\n      return ProposalDataHelper.getPartnershipProposalData(data);\n      break;\n\n    case ProposalTypes.BusinessLtd:\n      return ProposalDataHelper.getLimitedProposalData(data);\n  }\n});\n\n_defineProperty(ProposalDataHelper, \"getPersonalProposalDataSlim\", function (data) {\n  var _data$, _data$2, _data$3, _data$4, _data$5, _data$6, _data$7, _data$8, _data$9, _data$10, _data$11, _data$12, _data$13, _data$14, _data$15, _data$15$addresses, _data$16, _data$17, _data$18, _data$19, _data$20, _data$21, _data$22, _data$23, _data$24, _data$25, _data$26, _data$27, _data$28, _data$29, _data$30;\n\n  var result = {};\n  result[\"person\"] = {\n    hirerTitleId: (_data$ = data[\"2\"]) === null || _data$ === void 0 ? void 0 : _data$.title,\n    foreName: (_data$2 = data[\"2\"]) === null || _data$2 === void 0 ? void 0 : _data$2.firstName,\n    middleName: (_data$3 = data[\"2\"]) === null || _data$3 === void 0 ? void 0 : _data$3.middleName,\n    surName: (_data$4 = data[\"2\"]) === null || _data$4 === void 0 ? void 0 : _data$4.lastName,\n    mobile: (_data$5 = data[\"2\"]) === null || _data$5 === void 0 ? void 0 : _data$5.mobileNumber,\n    landline: (_data$6 = data[\"2\"]) === null || _data$6 === void 0 ? void 0 : _data$6.homeNumber,\n    email: (_data$7 = data[\"2\"]) === null || _data$7 === void 0 ? void 0 : _data$7.emailAddress,\n    birthDate: data[\"3\"].dob ? moment(data[\"3\"].dob).format(\"DD/MM/YYYY\") : null,\n    genderId: (_data$8 = data[\"3\"]) === null || _data$8 === void 0 ? void 0 : _data$8.genderId,\n    nationalityId: (_data$9 = data[\"3\"]) === null || _data$9 === void 0 ? void 0 : _data$9.nationalityId,\n    maritalStatusId: (_data$10 = data[\"3\"]) === null || _data$10 === void 0 ? void 0 : _data$10.maritalStatusId,\n    propertyStatusId: (_data$11 = data[\"3\"]) === null || _data$11 === void 0 ? void 0 : _data$11.propertyStatusId,\n    propertyTenureId: (_data$12 = data[\"3\"]) === null || _data$12 === void 0 ? void 0 : _data$12.propertyTenureId,\n    propertyTypeId: (_data$13 = data[\"3\"]) === null || _data$13 === void 0 ? void 0 : _data$13.propertyTypeId,\n    dependents: (_data$14 = data[\"3\"]) === null || _data$14 === void 0 ? void 0 : _data$14.dependents,\n    addresses: (_data$15 = data[\"4\"]) === null || _data$15 === void 0 ? void 0 : (_data$15$addresses = _data$15.addresses) === null || _data$15$addresses === void 0 ? void 0 : _data$15$addresses.map(function (item, index) {\n      return ProposalDataHelper.getAddress(item);\n    })\n  };\n  result[\"income\"] = {\n    grossAnnualSalary: (_data$16 = data[\"4\"]) === null || _data$16 === void 0 ? void 0 : _data$16.grossAnnualSalary,\n    netMonthlySalary: (_data$17 = data[\"4\"]) === null || _data$17 === void 0 ? void 0 : _data$17.netMonthlySalary,\n    grossMonthlySalary: (_data$18 = data[\"4\"]) === null || _data$18 === void 0 ? void 0 : _data$18.grossMonthlySalary,\n    partnerNetMonthlySalary: (_data$19 = data[\"4\"]) === null || _data$19 === void 0 ? void 0 : _data$19.partnerNetMonthlySalary,\n    partnerGrossMonthlySalary: (_data$20 = data[\"4\"]) === null || _data$20 === void 0 ? void 0 : _data$20.partnerGrossMonthlySalary,\n    otherIncome: (_data$21 = data[\"4\"]) === null || _data$21 === void 0 ? void 0 : _data$21.otherIncome,\n    otherIncomeDetails: (_data$22 = data[\"4\"]) === null || _data$22 === void 0 ? void 0 : _data$22.otherIncomeDetails,\n    mortgageRent: (_data$23 = data[\"5\"]) === null || _data$23 === void 0 ? void 0 : _data$23.mortgageRent,\n    utilityBills: (_data$24 = data[\"5\"]) === null || _data$24 === void 0 ? void 0 : _data$24.utilityBills,\n    loans: (_data$25 = data[\"5\"]) === null || _data$25 === void 0 ? void 0 : _data$25.loans,\n    totalMonthlyExpenditure: (_data$26 = data[\"5\"]) === null || _data$26 === void 0 ? void 0 : _data$26.totalMonthlyExpenditure,\n    //cardRepaymentAmount: self.expenditures.cardRepaymentAmount(), - not used on website\n    otherExpenses: (_data$27 = data[\"5\"]) === null || _data$27 === void 0 ? void 0 : _data$27.otherExpenses,\n    currentCarPayment: (_data$28 = data[\"5\"]) === null || _data$28 === void 0 ? void 0 : _data$28.currentCarPayment,\n    replacesCurrentCar: ((_data$29 = data[\"5\"]) === null || _data$29 === void 0 ? void 0 : _data$29.replacesCurrentCar) == \"yes\"\n  };\n\n  if (data[\"5\"]) {\n    result[\"creditCards\"] = {\n      amex: data[\"5\"].amex || false,\n      masterCard: data[\"5\"].masterCard || false,\n      visa: data[\"5\"].visa || false,\n      other: data[\"5\"].other || false\n    };\n  }\n\n  if (data[\"6\"] && data[\"6\"].employments) {\n    result[\"employments\"] = data[\"6\"].employments.map(function (item, index) {\n      return ProposalDataHelper.getEmployment(item);\n    });\n  }\n\n  if (data[\"7\"] || data[\"8\"]) {\n    result[\"bank\"] = ProposalDataHelper.getBankDetails(data[\"7\"], data[\"8\"]);\n  }\n\n  result[\"notes\"] = (_data$30 = data[\"5\"]) === null || _data$30 === void 0 ? void 0 : _data$30.notes;\n  return result;\n});\n\n_defineProperty(ProposalDataHelper, \"getPersonalProposalData\", function (data) {\n  var _data$31, _data$32, _data$33, _data$34, _data$35, _data$36, _data$37, _data$38, _data$39, _data$40, _data$41, _data$42, _data$43, _data$44, _data$45, _data$45$addresses, _data$46, _data$47, _data$48, _data$49, _data$50, _data$51, _data$52, _data$53, _data$54, _data$55, _data$56, _data$57, _data$58, _data$59;\n\n  var result = {};\n  result[\"person\"] = {\n    hirerTitleId: (_data$31 = data[\"2\"]) === null || _data$31 === void 0 ? void 0 : _data$31.title,\n    foreName: (_data$32 = data[\"2\"]) === null || _data$32 === void 0 ? void 0 : _data$32.firstName,\n    middleName: (_data$33 = data[\"2\"]) === null || _data$33 === void 0 ? void 0 : _data$33.middleName,\n    surName: (_data$34 = data[\"2\"]) === null || _data$34 === void 0 ? void 0 : _data$34.lastName,\n    mobile: (_data$35 = data[\"2\"]) === null || _data$35 === void 0 ? void 0 : _data$35.mobileNumber,\n    landline: (_data$36 = data[\"2\"]) === null || _data$36 === void 0 ? void 0 : _data$36.homeNumber,\n    email: (_data$37 = data[\"2\"]) === null || _data$37 === void 0 ? void 0 : _data$37.emailAddress,\n    birthDate: data[\"3\"].dob ? moment(data[\"3\"].dob).format(\"DD/MM/YYYY\") : null,\n    genderId: (_data$38 = data[\"3\"]) === null || _data$38 === void 0 ? void 0 : _data$38.genderId,\n    nationalityId: (_data$39 = data[\"3\"]) === null || _data$39 === void 0 ? void 0 : _data$39.nationalityId,\n    maritalStatusId: (_data$40 = data[\"3\"]) === null || _data$40 === void 0 ? void 0 : _data$40.maritalStatusId,\n    propertyStatusId: (_data$41 = data[\"3\"]) === null || _data$41 === void 0 ? void 0 : _data$41.propertyStatusId,\n    propertyTenureId: (_data$42 = data[\"3\"]) === null || _data$42 === void 0 ? void 0 : _data$42.propertyTenureId,\n    propertyTypeId: (_data$43 = data[\"3\"]) === null || _data$43 === void 0 ? void 0 : _data$43.propertyTypeId,\n    dependents: (_data$44 = data[\"3\"]) === null || _data$44 === void 0 ? void 0 : _data$44.dependents,\n    addresses: (_data$45 = data[\"4\"]) === null || _data$45 === void 0 ? void 0 : (_data$45$addresses = _data$45.addresses) === null || _data$45$addresses === void 0 ? void 0 : _data$45$addresses.map(function (item, index) {\n      return ProposalDataHelper.getAddress(item);\n    })\n  };\n  result[\"income\"] = {\n    netMonthlySalary: (_data$46 = data[\"5\"]) === null || _data$46 === void 0 ? void 0 : _data$46.netMonthlySalary,\n    grossMonthlySalary: (_data$47 = data[\"5\"]) === null || _data$47 === void 0 ? void 0 : _data$47.grossMonthlySalary,\n    partnerNetMonthlySalary: (_data$48 = data[\"5\"]) === null || _data$48 === void 0 ? void 0 : _data$48.partnerNetMonthlySalary,\n    partnerGrossMonthlySalary: (_data$49 = data[\"5\"]) === null || _data$49 === void 0 ? void 0 : _data$49.partnerGrossMonthlySalary,\n    otherIncome: (_data$50 = data[\"5\"]) === null || _data$50 === void 0 ? void 0 : _data$50.otherIncome,\n    otherIncomeDetails: (_data$51 = data[\"5\"]) === null || _data$51 === void 0 ? void 0 : _data$51.otherIncomeDetails,\n    mortgageRent: (_data$52 = data[\"6\"]) === null || _data$52 === void 0 ? void 0 : _data$52.mortgageRent,\n    utilityBills: (_data$53 = data[\"6\"]) === null || _data$53 === void 0 ? void 0 : _data$53.utilityBills,\n    loans: (_data$54 = data[\"6\"]) === null || _data$54 === void 0 ? void 0 : _data$54.loans,\n    totalMonthlyExpenditure: (_data$55 = data[\"6\"]) === null || _data$55 === void 0 ? void 0 : _data$55.totalMonthlyExpenditure,\n    //cardRepaymentAmount: self.expenditures.cardRepaymentAmount(), - not used on website\n    otherExpenses: (_data$56 = data[\"6\"]) === null || _data$56 === void 0 ? void 0 : _data$56.otherExpenses,\n    currentCarPayment: (_data$57 = data[\"6\"]) === null || _data$57 === void 0 ? void 0 : _data$57.currentCarPayment,\n    replacesCurrentCar: ((_data$58 = data[\"6\"]) === null || _data$58 === void 0 ? void 0 : _data$58.replacesCurrentCar) == \"yes\"\n  };\n\n  if (data[\"6\"]) {\n    result[\"creditCards\"] = {\n      amex: data[\"6\"].amex || false,\n      masterCard: data[\"6\"].masterCard || false,\n      visa: data[\"6\"].visa || false,\n      other: data[\"6\"].other || false\n    };\n  }\n\n  if (data[\"7\"] && data[\"7\"].employments) {\n    result[\"employments\"] = data[\"7\"].employments.map(function (item, index) {\n      return ProposalDataHelper.getEmployment(item);\n    });\n  }\n\n  if (data[\"8\"] || data[\"9\"]) {\n    result[\"bank\"] = ProposalDataHelper.getBankDetails(data[\"8\"], data[\"9\"]);\n  }\n\n  result[\"notes\"] = (_data$59 = data[\"6\"]) === null || _data$59 === void 0 ? void 0 : _data$59.notes;\n  return result;\n});\n\n_defineProperty(ProposalDataHelper, \"getSoleProposalData\", function (data) {\n  var result = ProposalDataHelper.getBusinessProposalBase(data[\"2\"], data[\"3\"]);\n  result[\"businessPerson\"] = ProposalDataHelper.getBusinessPerson(data[\"4\"]);\n  result[\"bank\"] = ProposalDataHelper.getBankDetails(data[\"5\"], data[\"6\"]);\n  return result;\n});\n\n_defineProperty(ProposalDataHelper, \"getPartnershipProposalData\", function (data) {\n  var result = ProposalDataHelper.getBusinessProposalBase(data[\"2\"], data[\"3\"]);\n  result[\"partners\"] = [ProposalDataHelper.getBusinessPerson(data[\"4\"]), ProposalDataHelper.getBusinessPerson(data[\"5\"])];\n  result[\"bank\"] = ProposalDataHelper.getBankDetails(data[\"6\"], data[\"7\"]);\n  return result;\n});\n\n_defineProperty(ProposalDataHelper, \"getLimitedProposalData\", function (data) {\n  var _data$4$directors;\n\n  var result = ProposalDataHelper.getBusinessProposalBase(data[\"2\"], data[\"3\"]);\n  result[\"directors\"] = (_data$4$directors = data[\"4\"].directors) === null || _data$4$directors === void 0 ? void 0 : _data$4$directors.map(function (item, index) {\n    return ProposalDataHelper.getBusinessPerson(item);\n  });\n  result[\"bank\"] = ProposalDataHelper.getBankDetails(data[\"5\"], data[\"6\"]);\n  return result;\n});\n\n_defineProperty(ProposalDataHelper, \"getAddress\", function (address) {\n  var result = {\n    address1: address.address1,\n    address2: address.address2,\n    address3: address.address3,\n    postcode: address.postcode,\n    town: address.town,\n    county: address.county,\n    fromDate: address.fromDate ? moment(address.fromDate).format(\"DD/MM/YYYY\") : null,\n    monthsAtAddress: address.timeAtAddressMonths,\n    yearsAtAddress: address.timeAtAddressYears\n  };\n  return result;\n});\n\n_defineProperty(ProposalDataHelper, \"getEmployment\", function (data) {\n  var result = {\n    typeId: data.typeId,\n    position: data.position,\n    employerName: data.employerName,\n    natureOfBusiness: data.natureOfBusiness,\n    telephone: data.telephone,\n    startDate: data.startDate ? moment(data.startDate).format(\"DD/MM/YYYY\") : null,\n    yearsEmployed: data.timeEmployedYears,\n    monthsEmployed: data.timeEmployedMonths,\n    address: {\n      address1: data.address1,\n      address2: data.address2,\n      address3: data.address3,\n      postcode: data.postcode,\n      town: data.town,\n      county: data.county\n    }\n  };\n  return result;\n});\n\n_defineProperty(ProposalDataHelper, \"getBusinessPerson\", function (data) {\n  var _data$addresses;\n\n  return {\n    hirerTitleId: data.title,\n    name: \"\".concat(data.firstName, \" \").concat(data.middleName, \" \").concat(data.lastName),\n    foreName: data.firstName,\n    middleName: data.middleName,\n    surName: data.lastName,\n    birthDate: data.dob ? moment(data.dob).format(\"DD/MM/YYYY\") : null,\n    genderId: data.genderId,\n    email: data.emailAddress,\n    nationalityId: data.nationalityId,\n    maritalStatusId: data.maritalStatusId,\n    propertyStatusId: data.propertyStatusId,\n    propertyTypeId: data.propertyTypeId,\n    addresses: data === null || data === void 0 ? void 0 : (_data$addresses = data.addresses) === null || _data$addresses === void 0 ? void 0 : _data$addresses.map(function (item, index) {\n      return ProposalDataHelper.getAddress(item);\n    })\n  };\n});\n\n_defineProperty(ProposalDataHelper, \"getBankDetails\", function (accountData, addressData) {\n  return {\n    sortCode: accountData.sortCode,\n    bankName: accountData.bankName,\n    accountName: accountData.accountName,\n    accountNumber: accountData.accountNumber,\n    yearsWithBank: parseInt(addressData.bankYears) || 0,\n    address: ProposalDataHelper.getAddress(addressData)\n  };\n});\n\n_defineProperty(ProposalDataHelper, \"getBusinessProposalBase\", function (details, contactPage) {\n  var result = {\n    tradingName: details.tradingName,\n    natureOfBusiness: details.natureOfBusiness,\n    dateEstablished: details.establishedDate ? moment(details.establishedDate).format(\"DD/MM/YYYY\") : null,\n    vatNumber: details.vatNumber,\n    parentCompany: details.parentCompany,\n    companyReg: details.companyReg,\n    email: contactPage.emailAddress,\n    landline: contactPage.landline,\n    fax: contactPage.fax,\n    mobile: contactPage.mobileNumber,\n    addresses: [ProposalDataHelper.getAddress(contactPage)],\n    notes: contactPage === null || contactPage === void 0 ? void 0 : contactPage.notes\n  };\n  return result;\n});","map":null,"metadata":{},"sourceType":"module"}