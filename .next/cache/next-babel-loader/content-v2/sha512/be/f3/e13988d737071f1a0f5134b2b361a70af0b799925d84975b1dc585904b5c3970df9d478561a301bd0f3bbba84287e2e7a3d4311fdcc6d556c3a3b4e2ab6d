{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useState, useEffect } from 'react';\nimport VehicleOptionsAccordionList from '../vehicle-options-accordion-list';\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPlus, faMinus } from \"@fortawesome/pro-regular-svg-icons\";\n\n//TODO: Do not use index as key. Include item ids to service response. Unify options api responses\nvar VehicleOptionsAccordion = function VehicleOptionsAccordion(_ref) {\n  var type = _ref.type,\n      data = _ref.data,\n      isDeactivated = _ref.isDeactivated,\n      settings = _ref.settings;\n\n  var _useState = useState(null),\n      activeIdx = _useState[0],\n      setActiveIdx = _useState[1];\n\n  useEffect(function () {\n    setActiveIdx(null);\n  }, [isDeactivated]);\n\n  var handleAccordionToggleClick = function handleAccordionToggleClick(itemIdx) {\n    if (!isDeactivated) {\n      if (itemIdx !== activeIdx) {\n        setActiveIdx(itemIdx);\n      } else {\n        setActiveIdx(null);\n      }\n    }\n  };\n\n  var isActive = function isActive(itemIdx) {\n    return isDeactivated || activeIdx === itemIdx;\n  };\n\n  if (data && data.length) {\n    return /*#__PURE__*/_jsx(\"div\", {\n      className: \"accordion\",\n      children: data.map(function (category, idx) {\n        return /*#__PURE__*/_jsxs(\"div\", {\n          className: \"accordion__item \".concat(isActive(idx) ? 'is-active' : ''),\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            className: \"accordion__toggle d-flex flex-nowrap justify-content-between align-items-center \".concat(category.isSelected ? 'is-selected' : ''),\n            onClick: function onClick() {\n              return handleAccordionToggleClick(idx);\n            },\n            children: [category.name, \" \", /*#__PURE__*/_jsx(FontAwesomeIcon, {\n              width: \"20\",\n              height: \"20\",\n              icon: isActive(idx) ? faMinus : faPlus\n            })]\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"accordion__options\",\n            children: /*#__PURE__*/_jsx(VehicleOptionsAccordionList, {\n              type: type,\n              data: category.options,\n              settings: {\n                optionsSelectAllowed: settings.optionsSelectAllowed,\n                onOptionClick: settings.onOptionClick\n              }\n            })\n          })]\n        }, \"category-\".concat(idx));\n      })\n    });\n  }\n\n  return null;\n};\n\nexport default VehicleOptionsAccordion;","map":null,"metadata":{},"sourceType":"module"}