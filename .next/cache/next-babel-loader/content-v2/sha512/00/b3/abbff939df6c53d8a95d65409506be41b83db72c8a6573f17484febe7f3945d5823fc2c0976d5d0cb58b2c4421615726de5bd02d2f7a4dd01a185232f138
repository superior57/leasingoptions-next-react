{"ast":null,"code":"import _regeneratorRuntime from \"E:/current_project/PPH/tfs/Website/website/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _asyncToGenerator from \"E:/current_project/PPH/tfs/Website/website/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport React, { useState, useEffect } from 'react';\nimport MainLayout from '../components/layout/main-layout';\nimport FaqSearch from '../components/layout/faq-search';\nimport FaqResults from '../components/layout/faq-results';\nimport FaqList from '../components/layout/faq-list';\nimport FaqContent from '../components/layout/faq-content';\nimport { ContentService } from 'business-logic/contentService';\nexport var __N_SSP = true;\nexport default function LeasingFaqs(_ref) {\n  var faqSearch = _ref.faqSearch,\n      faqList = _ref.faqList;\n\n  var _useState = useState(faqSearch ? faqSearch : ''),\n      searchTerm = _useState[0],\n      setSearchTerm = _useState[1];\n\n  var _useState2 = useState([]),\n      searchList = _useState2[0],\n      setSearchList = _useState2[1];\n\n  var _useState3 = useState(false),\n      isLoading = _useState3[0],\n      setIsLoading = _useState3[1];\n\n  var _useState4 = useState(1),\n      currentPage = _useState4[0],\n      setCurrentPage = _useState4[1];\n\n  var _useState5 = useState(5),\n      resultsPerPage = _useState5[0],\n      setResultsPerPage = _useState5[1];\n\n  var _useState6 = useState(0),\n      totalResults = _useState6[0],\n      setTotalResults = _useState6[1];\n\n  var _useState7 = useState(1),\n      pageCount = _useState7[0],\n      setPagecount = _useState7[1];\n\n  var handlePageSize = function handlePageSize(pagesize) {\n    return setResultsPerPage(pagesize);\n  };\n\n  var handlePageClick = function handlePageClick(evt, page) {\n    evt.preventDefault();\n    setCurrentPage(page);\n  };\n\n  var handleFaqSearch = function handleFaqSearch(searchTerm) {\n    setSearchTerm(searchTerm);\n    GetFaqSearchResults(searchTerm, currentPage, resultsPerPage);\n  };\n\n  var handleResultsClear = function handleResultsClear() {\n    setSearchTerm('');\n    setSearchList([]);\n    setIsLoading(false);\n    setCurrentPage(1);\n    setResultsPerPage(5);\n    setTotalResults(0);\n    setPagecount(1);\n  };\n\n  useEffect(function () {\n    GetFaqSearchResults(searchTerm, currentPage, resultsPerPage);\n  }, [currentPage, resultsPerPage]);\n\n  function GetFaqSearchResults(searchTerm, currentPage, resultsPerPage) {\n    if (searchTerm.length >= 3) {\n      setIsLoading(true);\n      Promise.resolve(GetFaqSearchPromise(searchTerm, currentPage, resultsPerPage)).then(function (data) {\n        setSearchList(data.data);\n        setTotalResults(data.data.totalItemsCount);\n        setPagecount(data.data.totalPagesCount);\n        setIsLoading(false);\n      });\n    } else {\n      setSearchList([]);\n      setSearchTerm('');\n    }\n  }\n\n  function GetFaqSearchPromise(_x, _x2, _x3) {\n    return _GetFaqSearchPromise.apply(this, arguments);\n  }\n\n  function _GetFaqSearchPromise() {\n    _GetFaqSearchPromise = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(searchTerm, currentPage, resultsPerPage) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return ContentService.GetFaqSearchResults(searchTerm, currentPage, resultsPerPage);\n\n            case 2:\n              return _context.abrupt(\"return\", _context.sent);\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _GetFaqSearchPromise.apply(this, arguments);\n  }\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(\"section\", {\n      className: \"container-fluid py-3 py-md-5\",\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/_jsxs(\"div\", {\n            className: \"col-24\",\n            children: [/*#__PURE__*/_jsx(\"h1\", {\n              children: \"Car Leasing FAQs\"\n            }), /*#__PURE__*/_jsx(\"h2\", {\n              className: \"text-mint\",\n              children: \"Have a question? Try typing a few words into out search box\"\n            })]\n          })\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/_jsx(\"div\", {\n            className: \"col-24\",\n            children: /*#__PURE__*/_jsx(FaqSearch, {\n              defaultValue: faqSearch ? faqSearch : \"\",\n              handleFaqSearch: handleFaqSearch,\n              isLoading: isLoading,\n              handleResultsClear: handleResultsClear\n            })\n          })\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/_jsx(\"div\", {\n            className: \"col-24\",\n            children: /*#__PURE__*/_jsx(FaqResults, {\n              searchList: searchList,\n              searchTerm: searchTerm,\n              currentPage: currentPage,\n              resultsPerPage: resultsPerPage,\n              totalResults: totalResults,\n              pageCount: pageCount,\n              handlePageSize: handlePageSize,\n              handlePageClick: handlePageClick\n            })\n          })\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/_jsx(\"div\", {\n            className: \"col-24\",\n            children: /*#__PURE__*/_jsx(FaqList, {\n              faqs: faqList\n            })\n          })\n        })]\n      })\n    }), /*#__PURE__*/_jsx(\"section\", {\n      className: \"container-fluid py-3 py-md-5 bg-light-grey\",\n      children: /*#__PURE__*/_jsx(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsx(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/_jsx(\"div\", {\n            className: \"col-24\",\n            children: /*#__PURE__*/_jsxs(\"div\", {\n              className: \"bg-faq-area\",\n              children: [/*#__PURE__*/_jsx(\"h1\", {\n                children: \"All Questions\"\n              }), faqList.map(function (faqGroup) {\n                return /*#__PURE__*/_jsxs(\"div\", {\n                  children: [/*#__PURE__*/_jsx(\"h2\", {\n                    children: faqGroup.name.replace('amp;', '')\n                  }), /*#__PURE__*/_jsx(FaqContent, {\n                    faqs: faqGroup.items\n                  })]\n                }, faqGroup.id);\n              })]\n            })\n          })\n        })\n      })\n    })]\n  });\n}\nLeasingFaqs.layout = MainLayout;","map":null,"metadata":{},"sourceType":"module"}