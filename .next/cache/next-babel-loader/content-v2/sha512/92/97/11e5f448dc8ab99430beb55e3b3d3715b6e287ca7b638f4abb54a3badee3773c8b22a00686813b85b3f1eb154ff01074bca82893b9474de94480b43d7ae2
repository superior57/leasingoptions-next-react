{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useState } from 'react';\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPlus, faMinus } from \"@fortawesome/pro-light-svg-icons\";\nimport { formatMoney } from 'helpers/currencyHelper';\nimport style from './garage-item.module.scss';\n\n//TODO: Do not use index as key. Include item ids to service response. Unify options api responses\nvar GarageVehicleOptionsAccordion = function GarageVehicleOptionsAccordion(_ref) {\n  var data = _ref.data,\n      settings = _ref.settings;\n\n  var _useState = useState(null),\n      activeIdx = _useState[0],\n      setActiveIdx = _useState[1];\n\n  var isActive = function isActive(idx) {\n    return activeIdx === idx;\n  };\n\n  var handleToggleClick = function handleToggleClick(itemIdx) {\n    var idxToApply = null;\n\n    if (itemIdx !== activeIdx) {\n      idxToApply = itemIdx;\n    }\n\n    setActiveIdx(idxToApply);\n  };\n\n  var handleOptionClick = function handleOptionClick(option) {\n    if (settings.onOptionClick && settings.optionsSelectAllowed) {\n      settings.onOptionClick(option);\n    }\n  };\n\n  if (data && data.length) {\n    return data.map(function (category, categoryIdx) {\n      return /*#__PURE__*/_jsxs(\"div\", {\n        className: \"\".concat(style['garage-option'], \" \").concat(isActive(categoryIdx) ? style['is-active'] : ''),\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: \"\".concat(style['garage-option__title'], \" \").concat(category.isSelected ? style['is-selected'] : ''),\n          onClick: function onClick() {\n            return handleToggleClick(categoryIdx);\n          },\n          children: [/*#__PURE__*/_jsx(\"span\", {\n            children: category.name\n          }), isActive(categoryIdx) ? /*#__PURE__*/_jsx(FontAwesomeIcon, {\n            width: \"16\",\n            height: \"16\",\n            icon: faMinus\n          }) : /*#__PURE__*/_jsx(FontAwesomeIcon, {\n            width: \"16\",\n            height: \"16\",\n            icon: faPlus\n          })]\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: style['garage-option__content'],\n          children: category.options.map(function (option, optionIdx) {\n            return /*#__PURE__*/_jsxs(\"div\", {\n              className: \"w-100 \".concat(\"value\" in option ? 'd-flex justify-content-between align-items-start mb-3' : 'd-block'),\n              children: [/*#__PURE__*/_jsx(\"span\", {\n                className: \"price\" in option ? 'w-100 d-flex mb-3' : '',\n                children: option.name\n              }), \"value\" in option ? /*#__PURE__*/_jsx(\"span\", {\n                className: \"text-right\",\n                children: option.value\n              }) : null, \"price\" in option ? /*#__PURE__*/_jsxs(\"div\", {\n                className: style['garage-option__toggle'],\n                children: [/*#__PURE__*/_jsx(\"span\", {\n                  className: \"vehicle-option__indicator vehicle-option__indicator--sml \".concat(option.isSelected ? \"is-active\" : \"\"),\n                  onClick: function onClick() {\n                    return handleOptionClick(option);\n                  }\n                }), /*#__PURE__*/_jsx(\"label\", {\n                  children: option.isSelected ? \"Remove\" : \"Add\"\n                }), formatMoney(option.price)]\n              }) : null]\n            }, \"option-\".concat(optionIdx));\n          })\n        })]\n      }, \"category-\".concat(categoryIdx));\n    });\n  }\n\n  return null;\n};\n\nexport default GarageVehicleOptionsAccordion;","map":null,"metadata":{},"sourceType":"module"}