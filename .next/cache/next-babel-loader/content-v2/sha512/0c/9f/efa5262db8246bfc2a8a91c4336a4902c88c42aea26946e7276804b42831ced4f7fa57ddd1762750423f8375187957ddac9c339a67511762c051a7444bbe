{"ast":null,"code":"import { VehicleTypes } from 'enums/VehicleTypes';\nimport { LeasingDealTypes } from 'enums/LeasingDealTypes';\nimport { getBaseUrl } from 'helpers/urlsHelper';\nimport { GetCanonicalUrl } from 'helpers/urlHelper';\nimport { getLandingPageSchema, GetServiceSchema } from 'helpers/schemaHelper';\nimport { getVehiclesFilter } from 'helpers/vehiclesFilterHelper';\nimport { dispatchUpdateDealToggle, dispatchUpdateVehicleFilterSearch } from 'redux/dispatches/dispatchs'; //TODO: check mvc logic\n\nexport const getProps = async context => {\n  const vehiclesFilter = getVehiclesFilter(context);\n  const vehicleType = vehiclesFilter.vehicleType;\n  const leasingDealType = vehiclesFilter.leasingDealType;\n\n  if (vehicleType === VehicleTypes.None || leasingDealType === LeasingDealTypes.None) {\n    //Do we have custom page to show?\n    context.res.writeHead(404);\n    context.res.end();\n    return;\n  }\n\n  await dispatchUpdateVehicleFilterSearch(context, vehiclesFilter);\n\n  if (vehicleType === VehicleTypes.Car) {\n    //TODO: set from filter?\n    dispatchUpdateDealToggle(context);\n  }\n\n  const webPageSchema = getLandingPageSchema(leasingDealType, context.req.url);\n  const serviceSchema = await GetServiceSchema(vehicleType); //TODO: move hardcoded data to component?\n\n  let metaData = null;\n\n  switch (leasingDealType) {\n    case LeasingDealTypes.Personal:\n      metaData = {\n        title: `Car Leasing | Top Personal Lease Deals & Contract Hire | Leasing Options`,\n        description: `Today’s best car leasing deals for personal car contract hire from Leasing Options ✔ Wide variety of brand new car leasing offers ✔ Free UK delivery.`,\n        keywords: `Personal Car Leasing, Personal Car Lease Deals, Personal Car Leasing Manchester, Contract hire`,\n        canonicalUrl: GetCanonicalUrl(getBaseUrl(context.req.url)).toLowerCase(),\n        imageUrl: process.env.NEXT_PUBLIC_CDN + '/website/static/hero/personal-1.jpg'\n      };\n      break;\n\n    case LeasingDealTypes.Business:\n      metaData = {\n        title: `Business Car Leasing | Car Contract Hire Deals | Leasing Options`,\n        description: `The best business car leasing deals available now at Leasing Options ✔ Huge range of affordable contract hire vehicles ✔ 5-star Trustpilot rating.`,\n        keywords: \"Car Leasing, Business Car Leasing, Car Lease Deals, Car Leasing Manchester, Contract Hire\",\n        canonicalUrl: GetCanonicalUrl(getBaseUrl(context.req.url)).toLowerCase(),\n        imageUrl: process.env.NEXT_PUBLIC_CDN + '/website/static/hero/business-1.jpg'\n      };\n      break;\n\n    case LeasingDealTypes.Van:\n      metaData = {\n        title: `Van Leasing | Van Lease Deals & Long Term Van Hire | Leasing Options UK`,\n        description: `Leasing Options offer the most competitive van lease deals in the marketplace. We will not be beaten on price for long term van hire.`,\n        keywords: `Van Leasing, Long Term Van Hire, Van lease deals`,\n        canonicalUrl: GetCanonicalUrl(getBaseUrl(context.req.url)).toLowerCase(),\n        imageUrl: process.env.NEXT_PUBLIC_CDN + '/website/static/hero/van-1.jpg'\n      };\n      break;\n  }\n\n  return {\n    props: {\n      metaData: metaData,\n      serviceSchema: serviceSchema,\n      webPageSchema: webPageSchema\n    }\n  };\n};","map":null,"metadata":{},"sourceType":"module"}