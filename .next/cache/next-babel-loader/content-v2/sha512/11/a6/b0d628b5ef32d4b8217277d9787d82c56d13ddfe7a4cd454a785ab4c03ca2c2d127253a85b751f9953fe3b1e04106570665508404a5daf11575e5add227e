{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useState, useEffect } from 'react';\nimport style from './vehicle-options-tab-content.module.scss';\nimport VehicleOptionsAccordion from '../vehicle-options-accordion';\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSearch } from \"@fortawesome/pro-regular-svg-icons\";\n\nconst VehicleOptionsTabContent = ({\n  type,\n  data,\n  isLoading,\n  settings\n}) => {\n  const {\n    0: options,\n    1: setOptions\n  } = useState(data);\n  const {\n    0: isFiltered,\n    1: setIsFiltered\n  } = useState(false);\n  useEffect(() => {\n    setIsFiltered(false);\n\n    if (options !== data) {\n      setOptions(data);\n    }\n  }, [data]);\n\n  const handleOptionsSearch = evt => {\n    if (evt.target.value && evt.target.value.length >= 3) {\n      let value = evt.target.value.toLowerCase();\n      let filteredOptions = [];\n      data.forEach(item => {\n        let options = item.options.filter(option => {\n          return option.name.toLowerCase().search(value) !== -1;\n        });\n\n        if (options && options.length > 0) {\n          filteredOptions.push({\n            name: item.name,\n            options: options\n          });\n        }\n      });\n      setIsFiltered(true);\n      setOptions(filteredOptions);\n    } else {\n      setIsFiltered(false);\n\n      if (options !== data) {\n        setOptions(data);\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(\"p\", {\n      className: `${style['cap-warning']} my-3 mx-md-3`,\n      children: \"All vehicle data is supplied by an industry leading third party provider,  for guidance purposes only, and is subject to change. Leasing Options Limited is not responsible for any vehicle-data discrepancies or errors.\"\n    }), isLoading && /*#__PURE__*/_jsx(\"div\", {\n      children: \"Please wait while data is loading\"\n    }), !isLoading && options && /*#__PURE__*/_jsxs(_Fragment, {\n      children: [settings.searchAllowed && /*#__PURE__*/_jsxs(\"div\", {\n        className: style['option-search'],\n        children: [/*#__PURE__*/_jsx(FontAwesomeIcon, {\n          width: \"20\",\n          height: \"20\",\n          icon: faSearch\n        }), /*#__PURE__*/_jsx(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          name: \"search\",\n          placeholder: \"Search\",\n          onChange: handleOptionsSearch\n        })]\n      }), /*#__PURE__*/_jsx(VehicleOptionsAccordion, {\n        type: type,\n        data: options,\n        isDeactivated: isFiltered,\n        settings: {\n          optionsSelectAllowed: settings.optionsSelectAllowed,\n          onOptionClick: settings.onOptionClick\n        }\n      })]\n    })]\n  });\n};\n\nexport default VehicleOptionsTabContent;","map":null,"metadata":{},"sourceType":"module"}