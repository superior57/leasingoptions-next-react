(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[55],{"4ec0":function(e,t,n){"use strict";n.d(t,"a",(function(){return be}));var a=n("nKUr"),c=n("cpVT"),i=n("q1tI"),l=n("MHX4"),r=n("20a2"),s=n("AXUl"),o=n.n(s),d=n("IP2g"),u=n("WE53"),b=n("Ezaw"),j=n("l7ai"),m=n("Kj82"),h=n("wbKs"),p=function(e){var t=e.idx,n=e.settings,c=Object(i.useState)([]),l=c[0],r=c[1],s=Object(i.useState)([]),p=s[0],O=s[1],f=Object(i.useState)([]),v=f[0],g=f[1],x=Object(i.useState)(void 0),y=x[0],N=x[1],w=Object(i.useState)(""),k=w[0],P=w[1],_=Object(i.useState)(""),C=_[0],S=_[1],T=Object(i.useState)(void 0),D=T[0],M=T[1];Object(i.useEffect)((function(){y?Object(h.m)(y===j.a.Van?b.a.Commercial:b.a.Car).then((function(e){var t=[];e.isSucceed&&e.data&&(t=e.data),P(""),r(t)})):(P(""),r([]))}),[y]),Object(i.useEffect)((function(){y&&!Object(m.c)(k)?Object(h.o)(y===j.a.Van?b.a.Commercial:b.a.Car,k).then((function(e){S(""),O(e.data)})):(S(""),O([]))}),[k]),Object(i.useEffect)((function(){!y||Object(m.c)(k)||Object(m.c)(C)?(M(void 0),g([])):Object(h.q)(y===j.a.Van?b.a.Commercial:b.a.Car,k,C).then((function(e){var t=[];e.isSucceed&&e.data&&(t=e.data),g(t)}))}),[C]);return Object(a.jsxs)("div",{className:"".concat(o.a["garage-column"]," w-100 box box--thick bg-white p-3 py-md-4"),children:[Object(a.jsxs)("div",{className:"w-100 d-flex justify-content-between align-items-center mb-3",children:["Select ",Object(a.jsx)("span",{children:Object(a.jsx)(d.a,{width:"30",height:"30",icon:u.G,className:"fa-2x",onClick:function(){N(void 0),P(""),r([]),S(""),O([]),M(void 0),g([])}})})]}),Object(a.jsx)("div",{className:"form-group text-left",children:Object(a.jsxs)("select",{className:"form-control",onChange:function(e){N(parseInt(e.currentTarget.value)||void 0),P(""),S(""),M(void 0)},value:y||"",children:[Object(a.jsx)("option",{value:"",children:"Contract Type"}),Object(a.jsx)("option",{value:j.a.Business,children:"Business"}),Object(a.jsx)("option",{value:j.a.Personal,children:"Personal"}),Object(a.jsx)("option",{value:j.a.Van,children:"Van"})]})}),Object(a.jsx)("div",{className:"form-group text-left",children:Object(a.jsxs)("select",{className:"form-control",onChange:function(e){P(e.currentTarget.value),S(""),M(void 0)},value:k,children:[Object(a.jsx)("option",{value:"",children:"Make"}),l.map((function(e){return Object(a.jsx)("option",{value:e.id,children:e.text},e.id)}))]})}),Object(a.jsx)("div",{className:"form-group text-left",children:Object(a.jsxs)("select",{className:"form-control",onChange:function(e){S(e.currentTarget.value),M(void 0)},value:C,children:[Object(a.jsx)("option",{value:"",children:"Model"}),p.map((function(e){return Object(a.jsx)("option",{value:e.id,children:e.text},e.id)}))]})}),Object(a.jsx)("div",{className:"form-group text-left",children:Object(a.jsxs)("select",{className:"form-control",onChange:function(e){M(parseInt(e.currentTarget.value)||void 0)},value:D||"",children:[Object(a.jsx)("option",{value:"",children:"Vehicle"}),v.map((function(e){return Object(a.jsx)("option",{value:e.id,children:e.text},e.id)}))]})}),D?Object(a.jsxs)("button",{className:"btn btn-outline-secondary btn-block btn-labeled btn-lg",onClick:function(){n.onSelect&&n.onSelect(t,{leasingDealType:y,makeUrl:k,modelUrl:C,vehicleRef:D})},children:[Object(a.jsx)("span",{className:"btn-label",children:Object(a.jsx)(d.a,{width:"16",height:"16",icon:u.x})}),Object(a.jsx)("span",{className:"btn-text",children:"Add This Vehicle"})]}):null]})},O=n("oszm"),f=function(e){var t=e.data,n=e.settings,c=Object(i.useState)(null),l=c[0],r=c[1],s=function(e){return l===e};return t&&t.length?t.map((function(e,t){return Object(a.jsxs)("div",{className:"".concat(o.a["garage-option"]," ").concat(s(t)?o.a["is-active"]:""),children:[Object(a.jsxs)("div",{className:"".concat(o.a["garage-option__title"]," ").concat(e.isSelected?o.a["is-selected"]:""),onClick:function(){return function(e){var t=null;e!==l&&(t=e),r(t)}(t)},children:[Object(a.jsx)("span",{children:e.name}),s(t)?Object(a.jsx)(d.a,{width:"16",height:"16",icon:u.v}):Object(a.jsx)(d.a,{width:"16",height:"16",icon:u.x})]}),Object(a.jsx)("div",{className:o.a["garage-option__content"],children:e.options.map((function(e,t){return Object(a.jsxs)("div",{className:"w-100 ".concat("value"in e?"d-flex justify-content-between align-items-start mb-3":"d-block"),children:[Object(a.jsx)("span",{className:"price"in e?"w-100 d-flex mb-3":"",children:e.name}),"value"in e?Object(a.jsx)("span",{className:"text-right",children:e.value}):null,"price"in e?Object(a.jsxs)("div",{className:o.a["garage-option__toggle"],children:[Object(a.jsx)("span",{className:"vehicle-option__indicator vehicle-option__indicator--sml ".concat(e.isSelected?"is-active":""),onClick:function(){return function(e){n.onOptionClick&&n.optionsSelectAllowed&&n.onOptionClick(e)}(e)}}),Object(a.jsx)("label",{children:e.isSelected?"Remove":"Add"}),Object(O.a)(e.price)]}):null]},"option-".concat(t))}))})]},"category-".concat(t))})):null},v=n("5BkG");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y,N=function(e){var t,n,c,r=e.idx,s=e.data,d=e.settings,u=Object(l.d)(),b=u.register,j=u.errors,m=u.setValue,h=u.reset,p="garageManualData",f=function(e){return Object(v.c)(e,p,r)},g=function(e){return Object(v.a)(e,p,r,j)},y=Object(i.useState)([{name:f("dealerOption1Price"),disabled:!0},{name:f("dealerOption2Price"),disabled:!0},{name:f("dealerOption3Price"),disabled:!0}]),N=y[0],w=y[1];Object(i.useEffect)((function(){m(f("monthlyPrice"),s.monthlyPrice),m(f("monthlyMaintenancePrice"),s.maintenance?s.monthlyMaintenancePrice:null),m(f("initialRentalPrice"),s.initialRentalPrice),m(f("exteriorColor"),s.exteriorColor),m(f("interiorColor"),s.interiorColor),h()}),[s]);var k=function(e){var t=e.target.name.substring(e.target.name.indexOf(".")+1),n=parseInt(e.target.value)||null,a=s[t];d.onTryChangeColor(t,a,n)},P=function(e){var t=e.target.name+"Price",n=!e.target.value;n&&m(t,null);var a=C(t);a&&a.disabled!==n&&w((function(e){return e.map((function(e){return e.name===t?x(x({},e),{},{disabled:n}):e}))}))},_=function(e){var t=e.target.name,n=e.target.value;m(t,n?Object(O.a)(Object(O.c)(n)):null)},C=function(e){return N.find((function(t){return t.name===e}))};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"row ".concat(o.a["garage-column__row"]),children:Object(a.jsxs)("div",{className:"col-24 py-3",children:[Object(a.jsx)("label",{children:"Monthly Price"}),Object(a.jsx)("input",{name:f("monthlyPrice"),className:"form-control ".concat(g("monthlyPrice")?"is-invalid":""),type:"text",onBlur:_,ref:b({required:"Monthly price is required."})}),g("monthlyPrice")?Object(a.jsx)("span",{className:"invalid-feedback d-block",children:null===(t=g("monthlyPrice"))||void 0===t?void 0:t.message}):null]})}),s.maintenance?Object(a.jsx)("div",{className:"row ".concat(o.a["garage-column__row"]),children:Object(a.jsxs)("div",{className:"col-24 py-3",children:[Object(a.jsx)("label",{children:"Maintenance Price"}),Object(a.jsx)("input",{name:f("monthlyMaintenancePrice"),className:"form-control ".concat(g("monthlyMaintenancePrice")?"is-invalid":""),type:"text",defaultValue:s.maintenance?s.monthlyMaintenancePrice:"",onBlur:_,ref:b({required:"Monthly maintenance price is required."})}),g("monthlyMaintenancePrice")?Object(a.jsx)("span",{className:"invalid-feedback d-block",children:null===(n=g("monthlyMaintenancePrice"))||void 0===n?void 0:n.message}):null]})}):null,Object(a.jsx)("div",{className:"row ".concat(o.a["garage-column__row"]),children:Object(a.jsxs)("div",{className:"col-24 py-3",children:[Object(a.jsx)("label",{children:"Initial Rental"}),Object(a.jsx)("input",{name:f("initialRentalPrice"),className:"form-control ".concat(g("initialRentalPrice")?"is-invalid":""),type:"text",onBlur:_,ref:b({required:"Initial rental price is required."})}),g("initialRentalPrice")?Object(a.jsx)("span",{className:"invalid-feedback d-block",children:null===(c=g("initialRentalPrice"))||void 0===c?void 0:c.message}):null]})}),Object(a.jsx)("div",{className:"row ".concat(o.a["garage-column__row"]),children:Object(a.jsxs)("div",{className:"col-24 py-3",children:[Object(a.jsx)("label",{children:"Dealer Option\\Price 1"}),Object(a.jsx)("input",{name:f("dealerOption1"),className:"form-control mb-1",type:"text",maxLength:100,onChange:P,ref:b}),Object(a.jsx)("input",{name:f("dealerOption1Price"),className:"form-control",type:"text",disabled:C(f("dealerOption1Price")).disabled,onBlur:_,ref:b})]})}),Object(a.jsx)("div",{className:"row ".concat(o.a["garage-column__row"]),children:Object(a.jsxs)("div",{className:"col-24 py-3",children:[Object(a.jsx)("label",{children:"Dealer Option\\Price 2"}),Object(a.jsx)("input",{name:f("dealerOption2"),className:"form-control mb-1",type:"text",maxLength:100,onChange:P,ref:b}),Object(a.jsx)("input",{name:f("dealerOption2Price"),className:"form-control",type:"text",disabled:C(f("dealerOption2Price")).disabled,onBlur:_,ref:b})]})}),Object(a.jsx)("div",{className:"row ".concat(o.a["garage-column__row"]),children:Object(a.jsxs)("div",{className:"col-24 py-3",children:[Object(a.jsx)("label",{children:"Dealer Option\\Price 3"}),Object(a.jsx)("input",{name:f("dealerOption3"),className:"form-control mb-1",type:"text",maxLength:100,onChange:P,ref:b}),Object(a.jsx)("input",{name:f("dealerOption3Price"),className:"form-control",type:"text",disabled:C(f("dealerOption3Price")).disabled,onBlur:_,ref:b})]})}),Object(a.jsx)("div",{className:"row ".concat(o.a["garage-column__row"]),children:Object(a.jsxs)("div",{className:"col-24 py-3",children:[Object(a.jsx)("label",{children:"Exterior Colour"}),Object(a.jsxs)("select",{name:f("exteriorColor"),className:"form-control",onChange:k,ref:b,children:[Object(a.jsx)("option",{value:"",children:"Not selected"}),Object(a.jsx)("option",{value:"1000",children:"TBC"}),d.exteriorColors.map((function(e){return Object(a.jsx)("option",{value:e.id,children:e.name},e.id)}))]}),1e3===s.exteriorColor?Object(a.jsx)("input",{name:f("exteriorColorManual"),className:"form-control mt-1",type:"text",maxLength:200,ref:b}):null]})}),Object(a.jsx)("div",{className:"row ".concat(o.a["garage-column__row"]),children:Object(a.jsxs)("div",{className:"col-24 py-3",children:[Object(a.jsx)("label",{children:"Interior Colour"}),Object(a.jsxs)("select",{name:f("interiorColor"),className:"form-control",onChange:k,ref:b,children:[Object(a.jsx)("option",{value:"",children:"Not selected"}),Object(a.jsx)("option",{value:"1000",children:"TBC"}),d.interiorColors.map((function(e){return Object(a.jsx)("option",{value:e.id,children:e.name},e.id)}))]}),1e3===s.interiorColor?Object(a.jsx)("input",{name:f("interiorColorManual"),className:"form-control mt-1",type:"text",maxLength:200,ref:b}):null]})})]})},w=n("a2hv"),k=n("Wj+e"),P=n("TovF"),_=n("uB96"),C=n("xG9w");!function(e){e[e.Price=1]="Price",e[e.Specification=2]="Specification",e[e.Technical=3]="Technical",e[e.Extras=4]="Extras"}(y||(y={}));var S=n("mmV+"),T=n("Ezyo"),D=n("YLv1"),M=n("/kJK"),I=n("CTce");function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var F=function(e){var t=e.idx,n=e.id,c=e.baseDetails,l=e.customOptions,r=e.prices,s=e.vehicleOptions,m=e.settings,h=c.imageUrl||"/website/static/img-placeholder.jpg",p="https://imagecdn.leasingoptions.co.uk/fit-in/570x380"+("/"===h[0]?"":"/")+h,v=r.extraOptions&&r.extraOptions.length>0,g=Object(i.useContext)(w.a),x=m.isInternal||!0,E=[];m.availableMileages&&m.availableMileages.length>0&&(m.availableMileages.length<=3?Array.prototype.push.apply(E,m.availableMileages):Array.prototype.push.apply(E,l.leasingDealType===j.a.Van?[8e3,1e4,12e3]:[5e3,8e3,1e4]));var F=Object(i.useState)([]),q=F[0],B=F[1],A=Object(i.useState)([]),G=A[0],V=A[1],L=Object(i.useState)([]),U=L[0],z=L[1],K=Object(i.useState)([]),Y=K[0],J=K[1],Z=Object(i.useState)([]),H=Z[0],W=Z[1],X=Object(i.useState)({maintenance:null,monthlyPrice:null,monthlyMaintenancePrice:null,initialRentalPrice:null,exteriorColor:null,interiorColor:null}),Q=X[0],$=X[1],ee=Object(i.useState)({interiorColor:{id:null,name:null},exteriorColor:{id:null,name:null}}),te=ee[0],ne=ee[1],ae=Object(i.useState)(null),ce=ae[0],ie=ae[1];Object(i.useEffect)((function(){var e=[],t=[],n=[],a=[],i=[];if(c.optionsIsSelectable){if(s.extras){var r=s.extras.options||[],o=s.extras.relationships||[],d=[81,82,83,84,86,90,97,110,109],u=[44,45,73,74,75,76,103,104,105,106,107,108];r.forEach((function(t){var n=C.a.contains(d,t.code),c=C.a.contains(u,t.code);t.options.forEach((function(t){var l=C.a.pluck(C.a.filter(o,(function(e){return e&&C.a.contains(M.a.allowedRelationshipTypes,e.type)&&e.options&&C.a.find(e.options,(function(e){return e.id===t.code}))})),"id"),r={id:t.code,name:t.name,price:t.price,linkedRelationshipIds:l};e.push(r),n&&a.push(r),c&&i.push(r)}))})),o.forEach((function(e){var n={id:e.id,type:e.type,primaryOptionIds:C.a.pluck(C.a.filter(e.options,(function(e){return e.isPrimary})),"id"),regularOptionIds:C.a.pluck(C.a.filter(e.options,(function(e){return!e.isPrimary})),"id"),mirrorRelationshipIds:e.mirrorRelationshipIds};t.push(n)}))}n=M.a.getOptionsStates(l.options,t)}B(e),J(a),W(i),V(t),z(n)}),[c,l,s]),Object(i.useEffect)((function(){var e={id:null,name:null},t={id:null,name:null},n=oe(0,l.options);n?(e.id=n.id,e.name=n.name):!ce||"exteriorColor"!==ce.type||ce.newId&&1e3!==ce.newId||(e.id=ce.newId,e.name=1e3===ce.newId?"TBC":null);var a=oe(1,l.options);a?(t.id=a.id,t.name=a.name):!ce||"interiorColor"!==ce.type||ce.newId&&1e3!==ce.newId||(t.id=ce.newId,t.name=1e3===ce.newId?"TBC":null),ne((function(n){var a={interiorColor:t,exteriorColor:e};return R(R({},n),a)})),ie(null)}),[Y,H,l.options]),Object(i.useEffect)((function(){$((function(e){var t={maintenance:l.maintenance,monthlyPrice:r.monthlyPrice,monthlyMaintenancePrice:r.monthlyMaintenancePrice,initialRentalPrice:r.initialRental,exteriorColor:te.exteriorColor.id,interiorColor:te.interiorColor.id};return R(R({},e),t)}))}),[r,te]);var le,re=function(e,a){if(m.onRefresh&&l&&l[e]!==a){var c={};c[e]=a,m.onRefresh(t,n,R(R({},l),c))}},se=function(e){if(e){var a=[e],c=new I.a;c.init(q,G);var i=c.processOptions(a,null,l.options,U);if(i){if(i.silentlySelectedOptionIds&&m.onRefresh&&l){var r={options:i.selectedOptionIds||[]};m.onRefresh(t,n,R(R({},l),r))}i.confirmRelationshipIds&&i.confirmRelationshipIds.length>0&&g.showModal(k.a,{show:!0,title:"+ Optional Extras",data:{extraOptions:q.map((function(e){return{id:e.id,name:e.name,price:Object(T.a)(l.leasingDealType,e.price,l.term,l.initialRentalMonths),linkedRelationshipIds:e.linkedRelationshipIds}})),extraOptionsRelationships:G},options:{leasingDealType:l.leasingDealType},initialState:i,settings:{onCancel:function(){ne((function(e){return R({},e)})),ie(null)},onApply:function(e){if(e){if(m.onRefresh&&l){var a={options:e.selectedOptionIds||[]};m.onRefresh(t,n,R(R({},l),a))}e.optionsStates&&z(e.optionsStates)}}}})}}},oe=function(e,t){var n=null;if(t&&t.length>0){var a=[];switch(e){case 0:a=H;break;case 1:a=Y}a&&a.length>0&&(n=C.a.find(a,(function(e){return C.a.contains(t,e.id)})))}return n};return Object(a.jsxs)("div",{className:"".concat(o.a["garage-column"]," w-100 box box--thick bg-white p-3 py-md-4"),children:[Object(a.jsxs)("div",{className:"".concat(o.a["garage-column__header"]," w-100 d-flex justify-content-between align-items-center mb-3"),children:["Compare ",Object(a.jsxs)("span",{children:[m.isCloneAllowed?Object(a.jsx)(d.a,{width:"22",height:"22",icon:_.k,onClick:function(){m.isCloneAllowed&&m.onClone&&m.onClone(t)}}):""," ",Object(a.jsx)(d.a,{width:"30",height:"30",icon:u.G,onClick:function(){m.onRemove&&m.onRemove(t)}})]})]}),Object(a.jsx)("div",{className:"row ".concat(o.a["garage-column__row"]),children:Object(a.jsx)("div",{className:"col-24",children:Object(a.jsx)("img",{alt:"".concat(c.manufacturer," ").concat(c.model," ").concat(c.derivative),className:"img-fluid lazyload ".concat(Object(S.t)(p)?"izmo-image":"nonizmopaddingfix"),"data-src":p})})}),Object(a.jsx)("div",{className:"row ".concat(o.a["garage-column__row"]),children:Object(a.jsxs)("div",{className:"col-24 py-3",children:[Object(a.jsxs)("span",{className:"d-block",children:[c.manufacturer," ",c.model]}),Object(a.jsx)("small",{className:"d-block",children:c.derivative})]})}),m.viewMode===y.Price||m.viewMode===y.Extras?Object(a.jsxs)("div",{className:"w-100 position-relative",children:[Object(a.jsxs)("div",{className:"row ".concat(o.a["garage-column__row"]),children:[Object(a.jsxs)("div",{className:"col-12 py-3",children:[Object(D.c)(l.leasingDealType)," Lease",Object(a.jsx)("br",{}),"Per month",Object(a.jsx)("br",{}),Object(S.h)(l.leasingDealType)]}),Object(a.jsx)("div",{className:"col-12 py-3 pl-0 text-right vehicle-price",children:r.fullMonthlyPrice})]}),Object(a.jsxs)("div",{className:"row ".concat(o.a["garage-column__row"]),children:[Object(a.jsxs)("div",{className:"col-10 py-3",children:["Initial Rental ",Object(a.jsx)(P.a,{id:"rental-popover",trigger:Object(a.jsx)(d.a,{width:"16",height:"16",icon:_.q}),body:"Your first payment is calculated in multiples of your monthly rental. Choosing a larger initial rental makes your monthly payments smaller. This is part of your contract and is not a deposit. It is non-refundable and is usually taken within 14 days of your vehicle being delivered."})]}),Object(a.jsxs)("div",{className:"col-14 py-3 text-right",children:[r.initialRental," ",Object(S.h)(l.leasingDealType)]}),Object(a.jsx)("div",{className:"col-11 pb-3",children:"Processing Fee"}),Object(a.jsxs)("div",{className:"col-13 pb-3 text-right",children:[r.processingFee," ",Object(S.h)(l.leasingDealType)]})]}),Object(a.jsx)("div",{className:"row ".concat(o.a["garage-column__row"]),children:Object(a.jsxs)("div",{className:"col-24 py-3",children:["+ Optional extras ",Object(a.jsx)(P.a,{id:"extras-popover",trigger:Object(a.jsx)(d.a,{width:"16",height:"16",icon:_.q}),body:"You can factory fit optional extras to this vehicle"})]})}),v?Object(a.jsx)(a.Fragment,{children:r.extraOptions.map((function(e,t){return Object(a.jsxs)("div",{className:"row ".concat(o.a["garage-column__row"]),children:[Object(a.jsx)("div",{className:"col-13 pb-3",children:e.name}),Object(a.jsxs)("div",{className:"col-11 pb-3 text-right",children:[Object(O.a)(e.price)," ",Object(S.h)(l.leasingDealType)]})]},t)}))}):null,v?null:Object(a.jsxs)("div",{className:"row ".concat(o.a["garage-column__row"]),children:[Object(a.jsx)("div",{className:"col-11 pb-3",children:"None Added"}),Object(a.jsxs)("div",{className:"col-13 pb-3 text-right",children:[Object(O.a)(0)," ",Object(S.h)(l.leasingDealType)]})]}),x&&l.maintenance?Object(a.jsxs)("div",{className:"row ".concat(o.a["garage-column__row"]),children:[Object(a.jsx)("div",{className:"col-11 py-3",children:"Maintenance"}),Object(a.jsx)("div",{className:"col-13 py-3 text-right",children:r.monthlyMaintenancePrice})]}):null,m.isInternal?Object(a.jsxs)("div",{className:"row ".concat(o.a["garage-column__row"]),children:[Object(a.jsx)("div",{className:"col-11 py-3",children:"Sales Code"}),Object(a.jsx)("div",{className:"col-13 py-3 text-right",children:r.salesCode})]}):null]}):null,Object(a.jsxs)("div",{className:"w-100 position-relative",hidden:m.viewMode!==y.Price,children:[Object(a.jsx)("div",{className:"row ".concat(o.a["garage-column__row"]),children:Object(a.jsxs)("div",{className:"col-24 py-3",children:[Object(a.jsx)("label",{children:"Contract Type"}),c.vehicleType===b.a.Commercial?Object(a.jsx)("ul",{className:"".concat(o.a["chck-buttons"]," ").concat(m.useBlackFridayTheme?"chck-buttons--bf":""),children:Object(a.jsx)("li",{children:Object(a.jsx)("button",{className:"".concat(o.a["chck-btn"]," ").concat(o.a.active),children:"Van"})})}):null,c.vehicleType!==b.a.Commercial?Object(a.jsxs)("ul",{className:"".concat(o.a["chck-buttons"]," ").concat(m.useBlackFridayTheme?"chck-buttons--bf":""),children:[Object(a.jsx)("li",{children:Object(a.jsx)("button",{onClick:function(){return re("leasingDealType",j.a.Business)},className:"".concat(o.a["chck-btn"]," ").concat(l.leasingDealType===j.a.Business?o.a.active:""),children:"Business"})}),Object(a.jsx)("li",{children:Object(a.jsx)("button",{onClick:function(){return re("leasingDealType",j.a.Personal)},className:"".concat(o.a["chck-btn"]," ").concat(l.leasingDealType===j.a.Personal?o.a.active:""),children:"Personal"})})]}):null]})}),Object(a.jsx)("div",{className:"row ".concat(o.a["garage-column__row"]),children:Object(a.jsxs)("div",{className:"col-24 py-3",children:[Object(a.jsx)("label",{children:"Contract Length"}),Object(a.jsx)("ul",{className:"".concat(o.a["chck-buttons"]," ").concat(m.useBlackFridayTheme?"chck-buttons--bf":""," ").concat(o.a["chck-buttons--x3"]),children:[2,3,4].map((function(e){return Object(a.jsx)("li",{children:Object(a.jsxs)("button",{onClick:function(){return re("term",e)},className:"".concat(o.a["chck-btn"]," ").concat(l.term===e?o.a.active:""),children:[e," Years"]})},"rental-".concat(e))}))})]})}),Object(a.jsx)("div",{className:"row ".concat(o.a["garage-column__row"]),children:Object(a.jsxs)("div",{className:"col-24 py-3",children:[Object(a.jsx)("label",{children:"Annual Mileage"}),E&&E.length>0?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("ul",{className:"".concat(o.a["chck-buttons"]," ").concat(m.useBlackFridayTheme?"chck-buttons--bf":""," ").concat(o.a["chck-buttons--x3"]),children:E.map((function(e){return Object(a.jsx)("li",{children:Object(a.jsx)("button",{onClick:function(){return re("mileage",e)},className:"".concat(o.a["chck-btn"]," ").concat(l.mileage===e?o.a.active:""),children:Object(O.b)(e)})},"button-".concat(e))}))}),m.availableMileages.length>3?Object(a.jsx)("select",{className:"form-control",onChange:function(e){return re("mileage",parseInt(e.currentTarget.value))},value:l.mileage,children:m.availableMileages.map((function(e){return Object(a.jsx)("option",{value:e,children:Object(O.b)(e)},"mileage-".concat(e))}))}):null]}):null]})}),Object(a.jsx)("div",{className:"row ".concat(o.a["garage-column__row"]),children:Object(a.jsxs)("div",{className:"col-24 py-3",children:[Object(a.jsxs)("label",{children:["Inital Rental ",Object(a.jsx)(P.a,{id:"rental-popover",trigger:Object(a.jsx)(d.a,{width:"16",height:"16",icon:_.q}),body:"Your first payment is calculated in multiples of your monthly rental. Choosing a larger initial rental makes your monthly payments smaller. This is part of your contract and is not a deposit. It is non-refundable and is usually taken within 14 days of your vehicle being delivered."})]}),Object(a.jsx)("ul",{className:"".concat(o.a["chck-buttons"]," ").concat(m.useBlackFridayTheme?"chck-buttons--bf":""),children:[1,3,6,9,12].map((function(e){return Object(a.jsx)("li",{children:Object(a.jsxs)("button",{onClick:function(){return re("initialRentalMonths",e)},className:"".concat(o.a["chck-btn"]," ").concat(l.initialRentalMonths===e?o.a.active:""),children:[e," Rental",1!==e?"s":""]})},"rental-".concat(e))}))})]})}),x?Object(a.jsx)("div",{className:"row ".concat(o.a["garage-column__row"]),children:Object(a.jsxs)("div",{className:"col-24 py-3",children:[Object(a.jsx)("label",{children:"Monthly Maintenance Package"}),Object(a.jsxs)("ul",{className:"".concat(o.a["chck-buttons"]," ").concat(m.useBlackFridayTheme?"chck-buttons--bf":""),children:[Object(a.jsx)("li",{children:Object(a.jsx)("button",{onClick:function(){return re("maintenance",!1)},className:"".concat(o.a["chck-btn"]," ").concat(l.maintenance?"":o.a.active),children:"No"})}),c.hasMaintenance?Object(a.jsx)("li",{children:Object(a.jsx)("button",{onClick:function(){return re("maintenance",!0)},className:"".concat(o.a["chck-btn"]," ").concat(l.maintenance?o.a.active:""),children:"Yes"})}):null]})]})}):null,m.isInternal?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"row ".concat(o.a["garage-column__row"]),children:Object(a.jsxs)("div",{className:"col-24 py-3",children:[Object(a.jsx)("label",{children:"Additional Sales Code"}),Object(a.jsxs)("select",{className:"form-control",value:l.salesCode||0,onChange:function(e){return re("salesCode",parseInt(e.currentTarget.value))},children:[Object(a.jsx)("option",{value:0,children:"\xa30"}),Object(a.jsx)("option",{value:100,children:"\xa3100"}),Object(a.jsx)("option",{value:200,children:"\xa3200"}),Object(a.jsx)("option",{value:300,children:"\xa3300"}),Object(a.jsx)("option",{value:400,children:"\xa3400"}),Object(a.jsx)("option",{value:500,children:"\xa3500"}),Object(a.jsx)("option",{value:750,children:"\xa3750"}),Object(a.jsx)("option",{value:1e3,children:"\xa31000"})]})]})}),Object(a.jsx)(N,{idx:t,data:Q,settings:{interiorColors:Y,exteriorColors:H,onTryChangeColor:function(e,t,n){var a=null;n&&1e3!==n?a={id:n,selectionRequiredBy:[0],deselectionRequiredBy:[]}:t&&1e3!==t&&(a={id:t,selectionRequiredBy:[],deselectionRequiredBy:[0]}),a?(ie({type:e,prevId:t,newId:n}),se(a)):ne((function(t){var a={};return a[e]={id:n,name:null},R(R({},t),a)}))}}})]}):null]}),Object(a.jsx)("div",{className:"w-100 position-relative",hidden:m.viewMode!==y.Specification,children:Object(a.jsx)(f,{data:s.specifications})}),Object(a.jsx)("div",{className:"w-100 position-relative",hidden:m.viewMode!==y.Technical,children:Object(a.jsx)(f,{data:s.technicals})}),Object(a.jsx)("div",{className:"w-100 position-relative",hidden:m.viewMode!==y.Extras,children:Object(a.jsx)(f,{data:(le=s.extras.options,le.map((function(e){var t={code:e.code,name:e.name,options:e.options.map((function(e){var t={code:e.code,name:e.name,price:Object(T.a)(l.leasingDealType,e.price,l.term,l.initialRentalMonths),isSelected:l.options.includes(e.code)};return t.price=M.a.getOptionPrice({id:t.code,price:t.price,name:"",linkedRelationshipIds:[]},l.optionsStates),t})),isSelected:!1};return t.isSelected=C.a.some(t.options||[],(function(e){return e.isSelected})),t}))),settings:{optionsSelectAllowed:c.optionsIsSelectable,onOptionClick:function(e){if(e&&c.optionsIsSelectable){e.id=e.code;var t=M.a.getOptionAction(e,l.options||[]);se(t)}}}})}),Object(a.jsx)("div",{className:"row ".concat(o.a["garage-column__row"]),children:Object(a.jsx)("div",{className:"col-24 py-3",children:Object(a.jsx)("button",{className:"btn btn-primary btn-lg btn-block",onClick:function(){m.onEnquire&&m.onEnquire(t)},children:"Enquire On This Deal"})})})]})},q=n("xVrE"),B=n("zjkP"),A=n("ZrQC"),G=n("jmJx"),V=n("H+61"),L=n("UlJF"),U=n("vJKn"),z=n.n(U),K=n("rg98"),Y=n("2l32"),J=function(){function e(){Object(V.a)(this,e)}return Object(L.a)(e,null,[{key:"GetGarage",value:function(){var e=Object(K.a)(z.a.mark((function e(t){var n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(this.baseUrl+"api/garage/get/"+t);case 2:return n=e.sent,e.abrupt("return",Object(Y.a)(n));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"SubmitGarageAction",value:function(){var e=Object(K.a)(z.a.mark((function e(t){var n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(this.baseUrl+"api/garage/garageaction",{method:"POST",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return n=e.sent,e.abrupt("return",Object(Y.a)(n));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"SaveGarage",value:function(){var e=Object(K.a)(z.a.mark((function e(t){var n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(this.baseUrl+"api/garage/save",{method:"POST",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return n=e.sent,e.abrupt("return",Object(Y.a)(n));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();Object(c.a)(J,"baseUrl","https://system-website.api.leasingoptions.co.uk/");var Z=function(){function e(){Object(V.a)(this,e)}return Object(L.a)(e,null,[{key:"GarageAction",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return J.SubmitGarageAction(e)}))},{key:"SaveGarage",value:function(e){return J.SaveGarage(e)}},{key:"GetGarage",value:function(e){return J.GetGarage(e)}}]),e}();function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var X,Q=function(e){var t=e.settings,n=Object(r.useRouter)(),c=Object(l.d)(),s=c.register,o=(c.errors,c.setValue),d={fullMonthlyPrice:"Please Call",initialRental:"POA",salesCode:"POA",monthlyMaintenancePrice:"POA",processingFee:"POA",extraOptions:[],extraOptionsTotal:Object(O.a)(0),p11d:"N/A",bikTax:"-"},u=Object(i.useState)(y.Price),b=u[0],f=u[1],v=Object(i.useState)(!0),g=v[0],x=v[1],N=Object(i.useState)([{idx:0,id:"",vehicle:null,loadDataTimerId:null},{idx:1,id:"",vehicle:null,loadDataTimerId:null},{idx:2,id:"",vehicle:null,loadDataTimerId:null},{idx:3,id:"",vehicle:null,loadDataTimerId:null}]),w=N[0],k=N[1];Object(i.useEffect)((function(){var e=n.asPath.split("?"),t=e[1]?Object(q.c)(e[1].split("&")).load:null;t?(G.a.clear(),Z.GetGarage(t).then((function(e){if(e.isSucceed&&e.data)for(var t=e.data,n=0;n<t.length;n++){var a=t[n];a&&G.a.addItem(a.index,a.customOptions)}P()}))):P()}),[]),Object(i.useEffect)((function(){t.onStateChanged&&t.onStateChanged(w)}),[w]);var P=function(){var e=G.a.getItems(!1);if(e)for(var t=0;t<e.length;t++){var n=e[t];T(n)}},_=function(e,t){var n=C.a.clone(d);if(n.processingFee=Object(O.a)(parseFloat(e===j.a.Personal?"199":"165.83")),t){var a=t.baseMonthlyPrice&&t.baseMonthlyPrice>0;n.extraOptions=t.extraOptions||[],n.extraOptionsTotal=Object(O.a)(t.extraOptionsTotal),n.p11d=t.p11D?Object(O.a)(t.p11D):"N/A",n.bikTax=t.bik20Tax&&t.bik40Tax?Object(O.a)(t.bik20Tax)+"/"+Object(O.a)(t.bik40Tax)+" p/m":"-",a&&(n.fullMonthlyPrice=t.fullMonthlyPrice?Object(O.a)(t.fullMonthlyPrice):"Please Call",n.initialRental=Object(O.a)(t.initialRental),n.salesCode=Object(O.a)(t.salesCode),n.monthlyPrice=Object(O.a)(t.baseMonthlyPrice),n.monthlyMaintenancePrice=Object(O.a)(t.monthlyMaintenancePrice))}return n},S=function(e,t,n){w[e]&&(k((function(a){return a.map((function(a,c){if(a&&c===e&&a.idx===e){var i=_(n.customOptions.leasingDealType,n.prices);return W(W({},a),{},{id:t,vehicle:{baseDetails:n.baseDetails,customOptions:n.customOptions,prices:i,vehicleOptions:{specifications:n.specifications.map((function(e){return{name:e.name,options:e.options.map((function(e){return{name:e}}))}})),technicals:n.technicals,extras:n.extras},availableMileages:n.availableMileages}})}return a}))})),x(!G.a.isFull()))},T=function(e){if(e){var t=e.vehicle,n=t.vehicleRef,a=t.leasingDealType,c={term:t.term,mileage:t.mileage,maintenance:t.maintenance,initialRentalMonths:t.initialRentalMonths,options:t.options,salesCode:t.salesCode,ageCategory:t.ageCategory};Object(h.I)(n,a,c).then((function(t){if(t.isSucceed&&t.data){var n=t.data;G.a.updateItem(e.id,n.customOptions,!1),S(e.index,e.id,n)}else G.a.removeItem(e.id)}))}},D=function(e,t){if(t){var n=t.vehicleRef,a=t.leasingDealType;Object(h.I)(n,a,null).then((function(t){if(t.isSucceed&&t.data){var n=t.data,a=G.a.addItem(e,n.customOptions);a&&S(a.index,a.id,n)}}))}},M=function(e){var t=w[e];if(t&&!Object(m.c)(t.id)&&g){var n=t.id,a=G.a.cloneItem(n);T(a)}},I=function(e,t,n){if(n&&!Object(m.c)(t)){var a=G.a.updateItem(t,n,!1);if(a&&a.index===e){var c=w[e];c&&(c.loadDataTimerId&&clearTimeout(c.loadDataTimerId),c.loadDataTimerId=setTimeout((function(){Object(h.M)({pricingType:void 0,postcode:void 0,vehicleRef:a.vehicle.vehicleRef,leasingDealType:a.vehicle.leasingDealType,term:a.vehicle.term,mileage:a.vehicle.mileage,maintenance:a.vehicle.maintenance,initialRentalMonths:a.vehicle.initialRentalMonths,options:a.vehicle.options,salesCode:a.vehicle.salesCode,ageCategory:a.vehicle.ageCategory}).then((function(a){var c=null;a.isSucceed&&a.data&&(c=a.data),k((function(a){return a.map((function(a,i){if(a&&i===e&&a.idx===e&&a.id===t){var l=_(n.leasingDealType,c);return W(W({},a),{},{vehicle:W(W({},a.vehicle),{},{customOptions:n,prices:l})})}return a}))}))}))}),200))}}},E=function(e){var t=w[e];if(t&&!Object(m.c)(t.id)){var n=t.id;G.a.removeItem(n)&&(k((function(t){return t.map((function(t,a){return t&&a===e&&t.idx===e&&t.id===n?W(W({},t),{},{id:"",vehicle:null}):t}))})),x(!G.a.isFull()))}},R=function(e){var t=w[e];if(t&&t.vehicle){var a=t.vehicle.baseDetails,c=t.vehicle.customOptions;A.a.storeVehicleCustomOptions(c);var i=Object(q.d)(Object(B.u)(!1,null,c.leasingDealType,a.manufacturer,a.shortModel,a.model,a.derivative,c.vehicleRef),["showordermodal=1"]);n.push(i)}},V=function(e){var t=e.target.name,n=e.target.value;o(t,n?Object(O.a)(Object(O.c)(n)):null)};return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"col-24",children:[Object(a.jsx)("div",{className:"w-100 bg-blue text-white text-center h2 mb-0 py-3",children:"Compare by"}),Object(a.jsxs)("div",{className:"w-100 bg-light-grey p-3 d-md-flex flex-md-nowrap",children:[Object(a.jsx)("button",{className:"w-100 d-block d-md-inline-flex justify-content-center btn btn-fluid h3 py-3 py-md-2 mb-0 text-dark-grey ".concat(b===y.Price?"is-active":""),onClick:function(){return f(y.Price)},children:"Price"}),Object(a.jsx)("button",{className:"w-100 d-block d-md-inline-flex justify-content-center btn btn-fluid h3 py-3 py-md-2 mb-0 text-dark-grey ".concat(b===y.Specification?"is-active":""),onClick:function(){return f(y.Specification)},children:"Specification"}),Object(a.jsx)("button",{className:"w-100 d-block d-md-inline-flex justify-content-center btn btn-fluid h3 py-3 py-md-2 mb-0 text-dark-grey ".concat(b===y.Technical?"is-active":""),onClick:function(){return f(y.Technical)},children:"Technical"}),Object(a.jsx)("button",{className:"w-100 d-block d-md-inline-flex justify-content-center btn btn-fluid h3 py-3 py-md-2 mb-0 text-dark-grey ".concat(b===y.Extras?"is-active":""),onClick:function(){return f(y.Extras)},children:"Add Optional Exras"})]})]})}),t.isInternal?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"row my-3",children:[Object(a.jsx)("div",{className:"col-24",children:Object(a.jsx)("strong",{children:"Not Maintained Processing Fee"})}),Object(a.jsxs)("div",{className:"col-sm-8 form-group",children:["Personal",Object(a.jsx)("br",{}),Object(a.jsx)("input",{type:"text",className:"form-control",name:"fees.notMaintained.personal",onBlur:V,ref:s})]}),Object(a.jsxs)("div",{className:"col-sm-8 form-group",children:["Business",Object(a.jsx)("br",{}),Object(a.jsx)("input",{type:"text",className:"form-control",name:"fees.notMaintained.business",onBlur:V,ref:s})]}),Object(a.jsxs)("div",{className:"col-sm-8 form-group",children:["Van",Object(a.jsx)("br",{}),Object(a.jsx)("input",{type:"text",className:"form-control",name:"fees.notMaintained.van",onBlur:V,ref:s})]})]}),Object(a.jsxs)("div",{className:"row my-3",children:[Object(a.jsx)("div",{className:"col-24",children:Object(a.jsx)("strong",{children:"Maintained Processing Fee"})}),Object(a.jsxs)("div",{className:"col-sm-8 form-group",children:["Personal",Object(a.jsx)("br",{}),Object(a.jsx)("input",{type:"text",className:"form-control",name:"fees.maintained.personal",onBlur:V,ref:s})]}),Object(a.jsxs)("div",{className:"col-sm-8 form-group",children:["Business",Object(a.jsx)("br",{}),Object(a.jsx)("input",{type:"text",className:"form-control",name:"fees.maintained.business",onBlur:V,ref:s})]}),Object(a.jsxs)("div",{className:"col-sm-8 form-group",children:["Van",Object(a.jsx)("br",{}),Object(a.jsx)("input",{type:"text",className:"form-control",name:"fees.maintained.van",onBlur:V,ref:s})]})]})]}):null,Object(a.jsx)("div",{className:"row my-3 my-md-5",children:w.map((function(e){return Object(a.jsx)("div",{className:"col-24 col-md-12 col-lg-6 mb-3 mb-lg-0",children:e.vehicle?Object(a.jsx)(F,{idx:e.idx,id:e.id,baseDetails:e.vehicle.baseDetails,customOptions:e.vehicle.customOptions,prices:e.vehicle.prices,vehicleOptions:e.vehicle.vehicleOptions,settings:{isInternal:t.isInternal,useBlackFridayTheme:!1,viewMode:b,isCloneAllowed:g,availableMileages:e.vehicle.availableMileages,onRefresh:I,onClone:M,onRemove:E,onEnquire:R}}):Object(a.jsx)(p,{idx:e.idx,settings:{onSelect:D}})},e.idx)}))})]})},$=n("SeHH"),ee=n("8ua7"),te=n("gt28"),ne=n("DQXc"),ae=n("btDt"),ce=n("2inZ"),ie=n("7Sq+"),le=n("uDbZ"),re=function(e){var t,n,c=e.settings,s=Object(r.useRouter)(),o=Object(l.d)(),u=o.register,b=o.handleSubmit,j=o.errors,m=Object(i.useState)(!1),h=m[0],p=m[1],O=Object(i.useState)(c.salesPersons||[]),f=O[0],v=O[1],g=Object(i.useState)(!1),x=g[0],y=g[1],N=Object(i.useState)(null),w=N[0],k=N[1];Object(i.useEffect)((function(){0===f.length&&c.isInternal&&Object(le.b)().then((function(e){v(e.data)}))}),[]);return Object(a.jsxs)("div",{className:"w-100 box bg-white p-0",children:[Object(a.jsx)("div",{className:"box__header",children:"Enquire on selected vehicles"}),Object(a.jsxs)("div",{className:"box__content",children:[Object(a.jsxs)("div",{className:"row",children:[Object(a.jsxs)("div",{className:"col-24 col-md-12 form-group",children:[Object(a.jsx)("label",{htmlFor:"fullName",children:"Full Name *"}),Object(a.jsx)("input",{type:"text",className:"form-control ".concat(j.fullName?"is-invalid":""),id:"fullName",name:"fullName","aria-describedby":"fullName",placeholder:"First & Last Name",maxLength:50,ref:u({required:!0})}),j.fullName?Object(a.jsx)("span",{className:"invalid-feedback d-block",children:"Full Name is required."}):null]}),Object(a.jsxs)("div",{className:"col-24 col-md-12 form-group",children:[Object(a.jsx)("label",{htmlFor:"telephone",children:"Telephone *"}),Object(a.jsx)("input",{type:"tel",className:"form-control ".concat(j.telephone?"is-invalid":""),id:"telephone",name:"telephone","aria-describedby":"telephone",placeholder:"Mobile or Home",maxLength:20,ref:u({required:"Telephone is required.",validate:function(e){return!0===Object(te.d)(e)||"Please specify a valid UK phone number."}})}),j.telephone?Object(a.jsx)("span",{className:"invalid-feedback d-block",children:null===(t=j.telephone)||void 0===t?void 0:t.message}):null]}),Object(a.jsxs)("div",{className:"col-24 col-md-12 form-group",children:[Object(a.jsx)("label",{htmlFor:"emailEnquiry",children:"Email Address *"}),Object(a.jsx)("input",{type:"email",className:"form-control ".concat(j.email?"is-invalid":""),id:"emailEnquiry",name:"email","aria-describedby":"email",placeholder:"E.g. johnsmith@website.co.uk",maxLength:50,onBlur:function(e){c.isInternal||(e.target.value&&Object(te.a)(e.target.value)?k(e.target.value):k(null))},ref:u({required:"Email is required.",validate:function(e){return!0===Object(te.a)(e)||"Email is invalid."}})}),j.email?Object(a.jsx)("span",{className:"invalid-feedback d-block",children:null===(n=j.email)||void 0===n?void 0:n.message}):null]}),c.isInternal?Object(a.jsxs)("div",{className:"col-24 col-lg-12 form-group",children:[Object(a.jsx)("label",{children:"Salesperson"}),Object(a.jsxs)("select",{className:"form-control",name:"salesPersonId",ref:u,children:[Object(a.jsx)("option",{value:"",children:"Please select"}),f.map((function(e){return Object(a.jsx)("option",{value:e.id,children:e.fullName},e.id)}))]})]}):null]}),c.isInternal?null:Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"col-24",children:[Object(a.jsx)($.a,{emailAddress:w,settings:{onVerificationStart:function(){y(!0)},onVerificationComplete:function(){y(!1)}}}),Object(a.jsx)(ee.a,{})]})}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col-24 col-md-12 offset-md-12",children:Object(a.jsx)("button",{type:"button",className:"w-100 btn btn-primary btn-lg",disabled:c.isDisabled,onClick:b((function(e){if(!c.isDisabled&&!h&&!x){p(!0);var t={email:e.email,state:c.isInternal?c.getData(e.garageManualData,e.fees):c.getData()};Z.SaveGarage(t).then((function(t){if(t.isSucceed&&t.data){var n={garageEnquiryType:c.isInternal?2:1,fullName:e.fullName,telephone:e.telephone,email:e.email,persistedGarageId:t.data,gaClientId:Object(ae.a)(),allowedCommunicationTypes:null};c.isInternal?n.salesPersonId=e.salesPersonId||null:n.allowedCommunicationTypes=e.allowedCommunicationTypes||null,ie.a.SubmitGarageEnquiry(n).then((function(t){if(p(!1),t.isSucceed&&t.data){if(!c.isInternal){var a=new Date;a.setFullYear(a.getFullYear()+1),n.allowedCommunicationTypes&&ce.a.SetToSeenMarketingForm(n.email,a),e.privacyConfirmed&&Object(ne.b)(a)}G.a.clear(),c.isInternal?s.push("/thankyouinternal"):s.push("/thankyou?goal=mygarage&i="+t.data)}else alert("Failed to send enquiry.")}))}else alert("Failed to save garage."),p(!1)}))}})),children:h?Object(a.jsx)(d.a,{width:"16",height:"16",icon:_.x,className:"fa-spin"}):c.isInternal?"Get a Multi-Car Quote":"Enquire"})})})]})]})};!function(e){e[e.Save=1]="Save",e[e.Share=2]="Share"}(X||(X={}));var se=function(e){var t,n=e.settings,c=Object(l.c)(),r=c.register,s=c.handleSubmit,o=c.errors,u=c.reset,b=Object(i.useState)(!1),j=b[0],m=b[1];return Object(a.jsxs)("div",{className:"w-100 box bg-white p-0",children:[Object(a.jsx)("div",{className:"box__header",children:"Save for later"}),Object(a.jsx)("div",{className:"box__content",children:Object(a.jsxs)("form",{className:"row",onSubmit:s((function(e){if(!n.isDisabled&&!j){m(!0);var t={actionType:X.Save,email:e.email,vehicles:n.getData().vehicles};Z.GarageAction(t).then((function(e){m(!1),e.isSucceed?(u(),alert("Thank you! Your garage has been saved, to retrieve, please check your email.")):alert("Failed to save garage.")}))}})),children:[Object(a.jsxs)("div",{className:"col-24 form-group",children:[Object(a.jsx)("label",{htmlFor:"emailSave",children:"Email Address *"}),Object(a.jsx)("input",{type:"email",className:"form-control ".concat(o.email?"is-invalid":""),id:"emailSave",name:"email","aria-describedby":"email",placeholder:"E.g. johnsmith@website.co.uk",maxLength:50,ref:r({required:"Email is required.",validate:function(e){return!0===Object(te.a)(e)||"Email is invalid."}})}),o.email?Object(a.jsx)("span",{className:"invalid-feedback d-block",children:null===(t=o.email)||void 0===t?void 0:t.message}):null]}),Object(a.jsx)("div",{className:"col-24",children:Object(a.jsx)("button",{type:"submit",className:"btn btn-outline-secondary btn-lg btn-fluid btn-block",disabled:n.isDisabled,children:j?Object(a.jsx)(d.a,{width:"16",height:"16",icon:_.x,className:"fa-spin"}):"Save My Garage"})})]})})]})},oe=function(e){var t,n=e.settings,c=Object(l.c)(),r=c.register,s=c.handleSubmit,o=c.errors,u=c.reset,b=Object(i.useState)(!1),j=b[0],m=b[1];return Object(a.jsxs)("div",{className:"w-100 box bg-white p-0",children:[Object(a.jsx)("div",{className:"box__header",children:"Email my comparisons"}),Object(a.jsx)("div",{className:"box__content",children:Object(a.jsxs)("form",{className:"row",onSubmit:s((function(e){if(!n.isDisabled&&!j){m(!0);var t={actionType:X.Share,email:e.email,vehicles:n.getData().vehicles};Z.GarageAction(t).then((function(e){m(!1),e.isSucceed?(u(),alert("Thank you, your garage has been sent.")):alert("Failed to share garage.")}))}})),children:[Object(a.jsxs)("div",{className:"col-24 form-group",children:[Object(a.jsx)("label",{htmlFor:"emailShare",children:"Email Address *"}),Object(a.jsx)("input",{type:"email",className:"form-control ".concat(o.email?"is-invalid":""),id:"emailShare",name:"email","aria-describedby":"email",placeholder:"E.g. johnsmith@website.co.uk",maxLength:50,ref:r({required:"Email is required.",validate:function(e){return!0===Object(te.a)(e)||"Email is invalid."}})}),o.email?Object(a.jsx)("span",{className:"invalid-feedback d-block",children:null===(t=o.email)||void 0===t?void 0:t.message}):null]}),Object(a.jsx)("div",{className:"col-24",children:Object(a.jsx)("button",{type:"submit",className:"btn btn-outline-secondary btn-lg btn-fluid btn-block",disabled:n.isDisabled,children:j?Object(a.jsx)(d.a,{width:"16",height:"16",icon:_.x,className:"fa-spin"}):"Send To Yourself or a Friend"})})]})})]})};function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var be=function(e){var t=e.isInternal,n=Object(l.c)(),c=(n.register,n.handleSubmit,n.errors,Object(i.useState)([])),r=c[0],s=c[1],o=Object(i.useState)(!1),d=o[0],u=o[1];Object(i.useEffect)((function(){u(r.length>0)}),[r]);var b=function(e,n){var a={vehicles:r};if(t){if(e)for(var c=0;c<a.vehicles.length;c++){var i=a.vehicles[c];if(i){var l=e[i.index];l&&(i.manualDetails={monthlyPrice:Object(O.c)(l.monthlyPrice),monthlyMaintenancePrice:Object(O.c)(l.monthlyMaintenancePrice),initialRental:Object(O.c)(l.initialRentalPrice),dealerOption1:l.dealerOption1,dealerOption1Price:Object(O.c)(l.dealerOption1Price)||null,dealerOption2:l.dealerOption2,dealerOption2Price:Object(O.c)(l.dealerOption2Price)||null,dealerOption3:l.dealerOption3,dealerOption3Price:Object(O.c)(l.dealerOption3Price)||null,exteriorColor:Object(O.c)(l.exteriorColor)||null,exteriorColorManual:l.exteriorColorManual,interiorColor:Object(O.c)(l.interiorColor)||null,interiorColorManual:l.interiorColorManual})}}var s=[];n&&(s.push({maintenance:!1,leasingDealType:1,procFee:Object(O.c)(n.notMaintained.business)||null}),s.push({maintenance:!1,leasingDealType:2,procFee:Object(O.c)(n.notMaintained.personal)||null}),s.push({maintenance:!1,leasingDealType:3,procFee:Object(O.c)(n.notMaintained.van)||null}),s.push({maintenance:!0,leasingDealType:1,procFee:Object(O.c)(n.maintained.business)||null}),s.push({maintenance:!0,leasingDealType:2,procFee:Object(O.c)(n.maintained.personal)||null}),s.push({maintenance:!0,leasingDealType:3,procFee:Object(O.c)(n.maintained.van)||null})),a.procFees=s}return a};return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(l.b,ue(ue({},n),{},{children:[Object(a.jsxs)("section",{className:"container-fluid py-3 py-md-5",children:[Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"col-24 mb-3",children:[Object(a.jsx)("h1",{children:"My Garage"}),Object(a.jsx)("h4",{className:"text-blue",children:"Compare up to 4 car or van deals with our helpful comparison tool"})]})}),Object(a.jsx)(Q,{settings:{isInternal:t,onStateChanged:function(e){s(e.filter((function(e){return e.vehicle})).map((function(e){return{index:e.idx,customOptions:e.vehicle.customOptions}})))}}})]}),Object(a.jsx)("section",{className:"container-fluid py-3 py-md-5 bg-light-grey",children:Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col-24 col-lg-12 d-flex mb-3 mb-lg-0",children:Object(a.jsx)(re,{settings:{isInternal:t,isDisabled:!d,getData:b,salesPersons:null}})}),Object(a.jsx)("div",{className:"col-24 col-md-12 col-lg-6 d-flex mb-3 mb-lg-0",children:Object(a.jsx)(se,{settings:{isDisabled:!d,getData:b}})}),Object(a.jsx)("div",{className:"col-24 col-md-12 col-lg-6 d-flex mb-3 mb-lg-0",children:Object(a.jsx)(oe,{settings:{isDisabled:!d,getData:b}})})]})})]}))})}},"5BkG":function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return i}));var a=function(e,t,n){return t?"".concat(t,"[").concat(n,"].").concat(e):e},c=function(e,t,n){return t?"".concat(t,"_").concat(n,"_").concat(e):e},i=function(e,t,n,a){return t?a[t]&&a[t].length>n?null===(c=a[t][n])||void 0===c?void 0:c[e]:null:a[e];var c}},AXUl:function(e,t,n){e.exports={"garage-column":"garage-item_garage-column__2ZLrW","garage-column__header":"garage-item_garage-column__header__KuMAB","garage-column__row":"garage-item_garage-column__row__rTE07","garage-option":"garage-item_garage-option__3qpx1","is-active":"garage-item_is-active__1zZGt","garage-option__content":"garage-item_garage-option__content__1Uzxr","garage-option__title":"garage-item_garage-option__title__1CtJq","is-selected":"garage-item_is-selected__1Euqm","garage-option__toggle":"garage-item_garage-option__toggle__3Uzu0","chck-buttons":"garage-item_chck-buttons__11Zip","chck-buttons--x3":"garage-item_chck-buttons--x3__1gkdK","chck-btn":"garage-item_chck-btn__37zwK",active:"garage-item_active__2vOWE"}},D5qE:function(e,t,n){"use strict";var a=n("nKUr"),c=(n("q1tI"),n("g4pe")),i=n.n(c);t.a=function(e){var t=e.children;return Object(a.jsx)(i.a,{children:t})}}}]);